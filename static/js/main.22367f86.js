/*! For license information please see main.22367f86.js.LICENSE.txt */
!function(){var t={8174:function(t){t.exports=function(){for(var t=arguments.length,e=[],r=0;r<t;r++)e[r]=arguments[r];if(0!==(e=e.filter((function(t){return null!=t}))).length)return 1===e.length?e[0]:e.reduce((function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}))}},8354:function(t,e,r){"use strict";var n=r(4836);e.__esModule=!0,e.default=function(t,e){t.classList?t.classList.add(e):(0,a.default)(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var a=n(r(3812));t.exports=e.default},3812:function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},2910:function(t){"use strict";function e(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,r){t.classList?t.classList.remove(r):"string"===typeof t.className?t.className=e(t.className,r):t.setAttribute("class",e(t.className&&t.className.baseVal||"",r))}},2232:function(t,e,r){"use strict";var n=r(4836);e.__esModule=!0,e.default=e.animationEnd=e.animationDelay=e.animationTiming=e.animationDuration=e.animationName=e.transitionEnd=e.transitionDuration=e.transitionDelay=e.transitionTiming=e.transitionProperty=e.transform=void 0;var a,o,i,c,s,u,l,h,f,p,d,y=n(r(4071)),g="transform";if(e.transform=g,e.animationEnd=i,e.transitionEnd=o,e.transitionDelay=l,e.transitionTiming=u,e.transitionDuration=s,e.transitionProperty=c,e.animationDelay=d,e.animationTiming=p,e.animationDuration=f,e.animationName=h,y.default){var v=function(){for(var t,e,r=document.createElement("div").style,n={O:function(t){return"o"+t.toLowerCase()},Moz:function(t){return t.toLowerCase()},Webkit:function(t){return"webkit"+t},ms:function(t){return"MS"+t}},a=Object.keys(n),o="",i=0;i<a.length;i++){var c=a[i];if(c+"TransitionProperty"in r){o="-"+c.toLowerCase(),t=n[c]("TransitionEnd"),e=n[c]("AnimationEnd");break}}!t&&"transitionProperty"in r&&(t="transitionend");!e&&"animationName"in r&&(e="animationend");return r=null,{animationEnd:e,transitionEnd:t,prefix:o}}();a=v.prefix,e.transitionEnd=o=v.transitionEnd,e.animationEnd=i=v.animationEnd,e.transform=g=a+"-"+g,e.transitionProperty=c=a+"-transition-property",e.transitionDuration=s=a+"-transition-duration",e.transitionDelay=l=a+"-transition-delay",e.transitionTiming=u=a+"-transition-timing-function",e.animationName=h=a+"-animation-name",e.animationDuration=f=a+"-animation-duration",e.animationTiming=p=a+"-animation-delay",e.animationDelay=d=a+"-animation-timing-function"}var m={transform:g,end:o,property:c,timing:u,delay:l,duration:s};e.default=m},4071:function(t,e){"use strict";e.__esModule=!0,e.default=void 0;var r=!("undefined"===typeof window||!window.document||!window.document.createElement);e.default=r,t.exports=e.default},7584:function(t,e,r){"use strict";var n=r(4836);e.__esModule=!0,e.default=void 0;var a,o=n(r(4071)),i="clearTimeout",c=function(t){var e=(new Date).getTime(),r=Math.max(0,16-(e-u)),n=setTimeout(t,r);return u=e,n},s=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};o.default&&["","webkit","moz","o","ms"].some((function(t){var e=s(t,"request");if(e in window)return i=s(t,"cancel"),c=function(t){return window[e](t)}}));var u=(new Date).getTime();(a=function(t){return c(t)}).cancel=function(t){window[i]&&"function"===typeof window[i]&&window[i](t)};var l=a;e.default=l,t.exports=e.default},1845:function(t,e,r){var n;!function(){"use strict";var a=function(){this.init()};a.prototype={init:function(){var t=this||o;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||o;if(t=parseFloat(t),e.ctx||p(),"undefined"!==typeof t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,o.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),a=0;a<n.length;a++){var i=e._howls[r]._soundById(n[a]);i&&i._node&&(i._node.volume=i._volume*t)}return e}return e._volume},mute:function(t){var e=this||o;e.ctx||p(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,o.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),a=0;a<n.length;a++){var i=e._howls[r]._soundById(n[a]);i&&i._node&&(i._node.muted=!!t||i._muted)}return e},unload:function(){for(var t=this||o,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&"undefined"!==typeof t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||o)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||o;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!==typeof Audio)try{"undefined"===typeof(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(e){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||o,e=null;try{e="undefined"!==typeof Audio?new Audio:null}catch(i){return t}if(!e||"function"!==typeof e.canPlayType)return t;var r=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),a=n&&parseInt(n[0].split("/")[1],10)<33;return t._codecs={mp3:!(a||!r&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||o;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function e(r){for(var n=0;n<t.html5PoolSize;n++)try{var a=new Audio;a._unlocked=!0,t._releaseHtml5Audio(a)}catch(r){t.noAudio=!0}for(n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var c=t._howls[n]._soundById(o[i]);c&&c._node&&!c._node._unlocked&&(c._node._unlocked=!0,c._node.load())}t._autoResume();var s=t.ctx.createBufferSource();s.buffer=t._scratchBuffer,s.connect(t.ctx.destination),"undefined"===typeof s.start?s.noteOn(0):s.start(0),"function"===typeof t.ctx.resume&&t.ctx.resume(),s.onended=function(){s.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var r=0;r<t._howls.length;r++)t._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||o;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!==typeof Promise&&(e instanceof Promise||"function"===typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||o;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&"undefined"!==typeof t.ctx.suspend&&o.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var r=0;r<t._howls[e]._sounds.length;r++)if(!t._howls[e]._sounds[r]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then((function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())})))}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&"undefined"!==typeof t.ctx.resume&&o.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var o=new a,i=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};i.prototype={init:function(t){var e=this;return o.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!==typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!==typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!==typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=o.usingWebAudio&&!e._html5,"undefined"!==typeof o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(o.noAudio)t._emit("loaderror",null,"No audio support.");else{"string"===typeof t._src&&(t._src=[t._src]);for(var r=0;r<t._src.length;r++){var n,a;if(t._format&&t._format[r])n=t._format[r];else{if("string"!==typeof(a=t._src[r])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(a))||(n=/\.([^.]+)$/.exec(a.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&o.codecs(n)){e=t._src[r];break}}if(e)return t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new c(t),t._webAudio&&u(t),t;t._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var r=this,n=null;if("number"===typeof t)n=t,t=null;else{if("string"===typeof t&&"loaded"===r._state&&!r._sprite[t])return null;if("undefined"===typeof t&&(t="__default",!r._playLock)){for(var a=0,i=0;i<r._sounds.length;i++)r._sounds[i]._paused&&!r._sounds[i]._ended&&(a++,n=r._sounds[i]._id);1===a?t=null:n=null}}var c=n?r._soundById(n):r._inactiveSound();if(!c)return null;if(n&&!t&&(t=c._sprite||"__default"),"loaded"!==r._state){c._sprite=t,c._ended=!1;var s=c._id;return r._queue.push({event:"play",action:function(){r.play(s)}}),s}if(n&&!c._paused)return e||r._loadQueue("play"),c._id;r._webAudio&&o._autoResume();var u=Math.max(0,c._seek>0?c._seek:r._sprite[t][0]/1e3),l=Math.max(0,(r._sprite[t][0]+r._sprite[t][1])/1e3-u),h=1e3*l/Math.abs(c._rate),f=r._sprite[t][0]/1e3,p=(r._sprite[t][0]+r._sprite[t][1])/1e3;c._sprite=t,c._ended=!1;var d=function(){c._paused=!1,c._seek=u,c._start=f,c._stop=p,c._loop=!(!c._loop&&!r._sprite[t][2])};if(!(u>=p)){var y=c._node;if(r._webAudio){var g=function(){r._playLock=!1,d(),r._refreshBuffer(c);var t=c._muted||r._muted?0:c._volume;y.gain.setValueAtTime(t,o.ctx.currentTime),c._playStart=o.ctx.currentTime,"undefined"===typeof y.bufferSource.start?c._loop?y.bufferSource.noteGrainOn(0,u,86400):y.bufferSource.noteGrainOn(0,u,l):c._loop?y.bufferSource.start(0,u,86400):y.bufferSource.start(0,u,l),h!==1/0&&(r._endTimers[c._id]=setTimeout(r._ended.bind(r,c),h)),e||setTimeout((function(){r._emit("play",c._id),r._loadQueue()}),0)};"running"===o.state?g():(r._playLock=!0,r.once("resume",g),r._clearTimer(c._id))}else{var v=function(){y.currentTime=u,y.muted=c._muted||r._muted||o._muted||y.muted,y.volume=c._volume*o.volume(),y.playbackRate=c._rate;try{var n=y.play();if(n&&"undefined"!==typeof Promise&&(n instanceof Promise||"function"===typeof n.then)?(r._playLock=!0,d(),n.then((function(){r._playLock=!1,y._unlocked=!0,e||(r._emit("play",c._id),r._loadQueue())})).catch((function(){r._playLock=!1,r._emit("playerror",c._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),c._ended=!0,c._paused=!0}))):e||(r._playLock=!1,d(),r._emit("play",c._id),r._loadQueue()),y.playbackRate=c._rate,y.paused)return void r._emit("playerror",c._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||c._loop?r._endTimers[c._id]=setTimeout(r._ended.bind(r,c),h):(r._endTimers[c._id]=function(){r._ended(c),y.removeEventListener("ended",r._endTimers[c._id],!1)},y.addEventListener("ended",r._endTimers[c._id],!1))}catch(a){r._emit("playerror",c._id,a)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===y.src&&(y.src=r._src,y.load());var m=window&&window.ejecta||!y.readyState&&o._navigator.isCocoonJS;if(y.readyState>=3||m)v();else{r._playLock=!0;y.addEventListener(o._canPlayEvent,(function t(){v(),y.removeEventListener(o._canPlayEvent,t,!1)}),!1),r._clearTimer(c._id)}}return c._id}r._ended(c)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var r=e._getSoundIds(t),n=0;n<r.length;n++){e._clearTimer(r[n]);var a=e._soundById(r[n]);if(a&&!a._paused&&(a._seek=e.seek(r[n]),a._rateSeek=0,a._paused=!0,e._stopFade(r[n]),a._node))if(e._webAudio){if(!a._node.bufferSource)continue;"undefined"===typeof a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),e._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==1/0||a._node.pause();arguments[1]||e._emit("pause",a?a._id:null)}return e},stop:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(t)}}),r;for(var n=r._getSoundIds(t),a=0;a<n.length;a++){r._clearTimer(n[a]);var o=r._soundById(n[a]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,r._stopFade(n[a]),o._node&&(r._webAudio?o._node.bufferSource&&("undefined"===typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),r._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&r._clearSound(o._node))),e||r._emit("stop",o._id))}return r},mute:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(t,e)}}),r;if("undefined"===typeof e){if("boolean"!==typeof t)return r._muted;r._muted=t}for(var n=r._getSoundIds(e),a=0;a<n.length;a++){var i=r._soundById(n[a]);i&&(i._muted=t,i._interval&&r._stopFade(i._id),r._webAudio&&i._node?i._node.gain.setValueAtTime(t?0:i._volume,o.ctx.currentTime):i._node&&(i._node.muted=!!o._muted||t),r._emit("mute",i._id))}return r},volume:function(){var t,e,r,n=this,a=arguments;if(0===a.length)return n._volume;if(1===a.length||2===a.length&&"undefined"===typeof a[1]){var i=n._getSoundIds(),c=i.indexOf(a[0]);c>=0?e=parseInt(a[0],10):t=parseFloat(a[0])}else a.length>=2&&(t=parseFloat(a[0]),e=parseInt(a[1],10));if(!("undefined"!==typeof t&&t>=0&&t<=1))return(r=e?n._soundById(e):n._sounds[0])?r._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,a)}}),n;"undefined"===typeof e&&(n._volume=t),e=n._getSoundIds(e);for(var s=0;s<e.length;s++)(r=n._soundById(e[s]))&&(r._volume=t,a[2]||n._stopFade(e[s]),n._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(t,o.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=t*o.volume()),n._emit("volume",r._id));return n},fade:function(t,e,r,n){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(t,e,r,n)}}),a;t=parseFloat(t),e=parseFloat(e),r=parseFloat(r),a.volume(t,n);for(var i=a._getSoundIds(n),c=0;c<i.length;c++){var s=a._soundById(i[c]);if(s){if(n||a._stopFade(i[c]),a._webAudio&&!s._muted){var u=o.ctx.currentTime,l=u+r/1e3;s._volume=t,s._node.gain.setValueAtTime(t,u),s._node.gain.linearRampToValueAtTime(e,l)}a._startFadeInterval(s,t,e,r,i[c],"undefined"===typeof n)}}return a},_startFadeInterval:function(t,e,r,n,a,o){var i=this,c=e,s=r-e,u=Math.abs(s/.01),l=Math.max(4,u>0?n/u:n),h=Date.now();t._fadeTo=r,t._interval=setInterval((function(){var a=(Date.now()-h)/n;h=Date.now(),c+=s*a,c=Math.max(0,c),c=Math.min(1,c),c=Math.round(100*c)/100,i._webAudio?t._volume=c:i.volume(c,t._id,!0),o&&(i._volume=c),(r<e&&c<=r||r>e&&c>=r)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,i.volume(r,t._id),i._emit("fade",t._id))}),l)},_stopFade:function(t){var e=this,r=e._soundById(t);return r&&r._interval&&(e._webAudio&&r._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(r._interval),r._interval=null,e.volume(r._fadeTo,t),r._fadeTo=null,e._emit("fade",t)),e},loop:function(){var t,e,r,n=this,a=arguments;if(0===a.length)return n._loop;if(1===a.length){if("boolean"!==typeof a[0])return!!(r=n._soundById(parseInt(a[0],10)))&&r._loop;t=a[0],n._loop=t}else 2===a.length&&(t=a[0],e=parseInt(a[1],10));for(var o=n._getSoundIds(e),i=0;i<o.length;i++)(r=n._soundById(o[i]))&&(r._loop=t,n._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=t,t&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop)));return n},rate:function(){var t,e,r,n=this,a=arguments;if(0===a.length)e=n._sounds[0]._id;else if(1===a.length){var i=n._getSoundIds(),c=i.indexOf(a[0]);c>=0?e=parseInt(a[0],10):t=parseFloat(a[0])}else 2===a.length&&(t=parseFloat(a[0]),e=parseInt(a[1],10));if("number"!==typeof t)return(r=n._soundById(e))?r._rate:n._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,a)}}),n;"undefined"===typeof e&&(n._rate=t),e=n._getSoundIds(e);for(var s=0;s<e.length;s++)if(r=n._soundById(e[s])){n.playing(e[s])&&(r._rateSeek=n.seek(e[s]),r._playStart=n._webAudio?o.ctx.currentTime:r._playStart),r._rate=t,n._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(t,o.ctx.currentTime):r._node&&(r._node.playbackRate=t);var u=n.seek(e[s]),l=(n._sprite[r._sprite][0]+n._sprite[r._sprite][1])/1e3-u,h=1e3*l/Math.abs(r._rate);!n._endTimers[e[s]]&&r._paused||(n._clearTimer(e[s]),n._endTimers[e[s]]=setTimeout(n._ended.bind(n,r),h)),n._emit("rate",r._id)}return n},seek:function(){var t,e,r=this,n=arguments;if(0===n.length)e=r._sounds[0]._id;else if(1===n.length){var a=r._getSoundIds(),i=a.indexOf(n[0]);i>=0?e=parseInt(n[0],10):r._sounds.length&&(e=r._sounds[0]._id,t=parseFloat(n[0]))}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if("undefined"===typeof e)return r;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"seek",action:function(){r.seek.apply(r,n)}}),r;var c=r._soundById(e);if(c){if(!("number"===typeof t&&t>=0)){if(r._webAudio){var s=r.playing(e)?o.ctx.currentTime-c._playStart:0,u=c._rateSeek?c._rateSeek-c._seek:0;return c._seek+(u+s*Math.abs(c._rate))}return c._node.currentTime}var l=r.playing(e);l&&r.pause(e,!0),c._seek=t,c._ended=!1,r._clearTimer(e),r._webAudio||!c._node||isNaN(c._node.duration)||(c._node.currentTime=t);var h=function(){r._emit("seek",e),l&&r.play(e,!0)};if(l&&!r._webAudio){var f=function t(){r._playLock?setTimeout(t,0):h()};setTimeout(f,0)}else h()}return r},playing:function(t){var e=this;if("number"===typeof t){var r=e._soundById(t);return!!r&&!r._paused}for(var n=0;n<e._sounds.length;n++)if(!e._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this,r=e._duration,n=e._soundById(t);return n&&(r=e._sprite[n._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,r=0;r<e.length;r++)e[r]._paused||t.stop(e[r]._id),t._webAudio||(t._clearSound(e[r]._node),e[r]._node.removeEventListener("error",e[r]._errorFn,!1),e[r]._node.removeEventListener(o._canPlayEvent,e[r]._loadFn,!1),o._releaseHtml5Audio(e[r]._node)),delete e[r]._node,t._clearTimer(e[r]._id);var n=o._howls.indexOf(t);n>=0&&o._howls.splice(n,1);var a=!0;for(r=0;r<o._howls.length;r++)if(o._howls[r]._src===t._src||t._src.indexOf(o._howls[r]._src)>=0){a=!1;break}return s&&a&&delete s[t._src],o.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,r,n){var a=this["_on"+t];return"function"===typeof e&&a.push(n?{id:r,fn:e,once:n}:{id:r,fn:e}),this},off:function(t,e,r){var n=this,a=n["_on"+t],o=0;if("number"===typeof e&&(r=e,e=null),e||r)for(o=0;o<a.length;o++){var i=r===a[o].id;if(e===a[o].fn&&i||!e&&i){a.splice(o,1);break}}else if(t)n["_on"+t]=[];else{var c=Object.keys(n);for(o=0;o<c.length;o++)0===c[o].indexOf("_on")&&Array.isArray(n[c[o]])&&(n[c[o]]=[])}return n},once:function(t,e,r){return this.on(t,e,r,1),this},_emit:function(t,e,r){for(var n=this,a=n["_on"+t],o=a.length-1;o>=0;o--)a[o].id&&a[o].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,r)}.bind(n,a[o].fn),0),a[o].once&&n.off(t,a[o].fn,a[o].id));return n._loadQueue(t),n},_loadQueue:function(t){var e=this;if(e._queue.length>0){var r=e._queue[0];r.event===t&&(e._queue.shift(),e._loadQueue()),t||r.action()}return e},_ended:function(t){var e=this,r=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var n=!(!t._loop&&!e._sprite[r][2]);if(e._emit("end",t._id),!e._webAudio&&n&&e.stop(t._id,!0).play(t._id),e._webAudio&&n){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=o.ctx.currentTime;var a=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),a)}return e._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),o._autoSuspend()),e._webAudio||n||e.stop(t._id,!0),e},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if("function"!==typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var r=e._soundById(t);r&&r._node&&r._node.removeEventListener("ended",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=this,r=0;r<e._sounds.length;r++)if(t===e._sounds[r]._id)return e._sounds[r];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new c(t)},_drain:function(){var t=this,e=t._pool,r=0,n=0;if(!(t._sounds.length<e)){for(n=0;n<t._sounds.length;n++)t._sounds[n]._ended&&r++;for(n=t._sounds.length-1;n>=0;n--){if(r<=e)return;t._sounds[n]._ended&&(t._webAudio&&t._sounds[n]._node&&t._sounds[n]._node.disconnect(0),t._sounds.splice(n,1),r--)}}},_getSoundIds:function(t){if("undefined"===typeof t){for(var e=[],r=0;r<this._sounds.length;r++)e.push(this._sounds[r]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=o.ctx.createBufferSource(),t._node.bufferSource.buffer=s[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,o.ctx.currentTime),this},_cleanBuffer:function(t){var e=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=o._scratchBuffer}catch(r){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var c=function(t){this._parent=t,this.init()};c.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++o._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,r=o._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node="undefined"===typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),t._node.gain.setValueAtTime(r,o.ctx.currentTime),t._node.paused=!0,t._node.connect(o.masterGain)):o.noAudio||(t._node=o._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(o._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=r*o.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++o._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(o._canPlayEvent,t._loadFn,!1)}};var s={},u=function(t){var e=t._src;if(s[e])return t._duration=s[e].duration,void f(t);if(/^data:[^;]+;base64,/.test(e)){for(var r=atob(e.split(",")[1]),n=new Uint8Array(r.length),a=0;a<r.length;++a)n[a]=r.charCodeAt(a);h(n.buffer,t)}else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=t._xhrWithCredentials,o.responseType="arraybuffer",o.onload=function(){var e=(o.status+"")[0];"0"===e||"2"===e||"3"===e?h(o.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete s[e],t.load())},l(o)}},l=function(t){try{t.send()}catch(e){t.onerror()}},h=function(t,e){var r=function(){e._emit("loaderror",null,"Decoding audio data failed.")},n=function(t){t&&e._sounds.length>0?(s[e._src]=t,f(e,t)):r()};"undefined"!==typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(t).then(n).catch(r):o.ctx.decodeAudioData(t,n,r)},f=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){if(o.usingWebAudio){try{"undefined"!==typeof AudioContext?o.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(a){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),e=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=e?parseInt(e[1],10):null;if(t&&r&&r<9){var n=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());(o._navigator&&o._navigator.standalone&&!n||o._navigator&&!o._navigator.standalone&&!n)&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain="undefined"===typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(n=function(){return{Howler:o,Howl:i}}.apply(e,[]))||(t.exports=n),e.Howler=o,e.Howl=i,"undefined"!==typeof window?(window.HowlerGlobal=a,window.Howler=o,window.Howl=i,window.Sound=c):"undefined"!==typeof r.g&&(r.g.HowlerGlobal=a,r.g.Howler=o,r.g.Howl=i,r.g.Sound=c)}(),function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var r=e._howls.length-1;r>=0;r--)e._howls[r].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,r){var n=this;return n.ctx&&n.ctx.listener?(e="number"!==typeof e?n._pos[1]:e,r="number"!==typeof r?n._pos[2]:r,"number"!==typeof t?n._pos:(n._pos=[t,e,r],"undefined"!==typeof n.ctx.listener.positionX?(n.ctx.listener.positionX.setTargetAtTime(n._pos[0],Howler.ctx.currentTime,.1),n.ctx.listener.positionY.setTargetAtTime(n._pos[1],Howler.ctx.currentTime,.1),n.ctx.listener.positionZ.setTargetAtTime(n._pos[2],Howler.ctx.currentTime,.1)):n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]),n)):n},HowlerGlobal.prototype.orientation=function(t,e,r,n,a,o){var i=this;if(!i.ctx||!i.ctx.listener)return i;var c=i._orientation;return e="number"!==typeof e?c[1]:e,r="number"!==typeof r?c[2]:r,n="number"!==typeof n?c[3]:n,a="number"!==typeof a?c[4]:a,o="number"!==typeof o?c[5]:o,"number"!==typeof t?c:(i._orientation=[t,e,r,n,a,o],"undefined"!==typeof i.ctx.listener.forwardX?(i.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),i.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),i.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),i.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),i.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),i.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):i.ctx.listener.setOrientation(t,e,r,n,a,o),i)},Howl.prototype.init=(t=Howl.prototype.init,function(e){var r=this;return r._orientation=e.orientation||[1,0,0],r._stereo=e.stereo||null,r._pos=e.pos||null,r._pannerAttr={coneInnerAngle:"undefined"!==typeof e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof e.coneOuterGain?e.coneOuterGain:0,distanceModel:"undefined"!==typeof e.distanceModel?e.distanceModel:"inverse",maxDistance:"undefined"!==typeof e.maxDistance?e.maxDistance:1e4,panningModel:"undefined"!==typeof e.panningModel?e.panningModel:"HRTF",refDistance:"undefined"!==typeof e.refDistance?e.refDistance:1,rolloffFactor:"undefined"!==typeof e.rolloffFactor?e.rolloffFactor:1},r._onstereo=e.onstereo?[{fn:e.onstereo}]:[],r._onpos=e.onpos?[{fn:e.onpos}]:[],r._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,r){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(t,r)}}),n;var a="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof r){if("number"!==typeof t)return n._stereo;n._stereo=t,n._pos=[t,0,0]}for(var o=n._getSoundIds(r),i=0;i<o.length;i++){var c=n._soundById(o[i]);if(c){if("number"!==typeof t)return c._stereo;c._stereo=t,c._pos=[t,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",c._panner&&c._panner.pan||e(c,a),"spatial"===a?"undefined"!==typeof c._panner.positionX?(c._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(t,0,0):c._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),n._emit("stereo",c._id)}}return n},Howl.prototype.pos=function(t,r,n,a){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,r,n,a)}}),o;if(r="number"!==typeof r?0:r,n="number"!==typeof n?-.5:n,"undefined"===typeof a){if("number"!==typeof t)return o._pos;o._pos=[t,r,n]}for(var i=o._getSoundIds(a),c=0;c<i.length;c++){var s=o._soundById(i[c]);if(s){if("number"!==typeof t)return s._pos;s._pos=[t,r,n],s._node&&(s._panner&&!s._panner.pan||e(s,"spatial"),"undefined"!==typeof s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):s._panner.setPosition(t,r,n)),o._emit("pos",s._id)}}return o},Howl.prototype.orientation=function(t,r,n,a){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,r,n,a)}}),o;if(r="number"!==typeof r?o._orientation[1]:r,n="number"!==typeof n?o._orientation[2]:n,"undefined"===typeof a){if("number"!==typeof t)return o._orientation;o._orientation=[t,r,n]}for(var i=o._getSoundIds(a),c=0;c<i.length;c++){var s=o._soundById(i[c]);if(s){if("number"!==typeof t)return s._orientation;s._orientation=[t,r,n],s._node&&(s._panner||(s._pos||(s._pos=o._pos||[0,0,-.5]),e(s,"spatial")),"undefined"!==typeof s._panner.orientationX?(s._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):s._panner.setOrientation(t,r,n)),o._emit("orientation",s._id)}}return o},Howl.prototype.pannerAttr=function(){var t,r,n,a=this,o=arguments;if(!a._webAudio)return a;if(0===o.length)return a._pannerAttr;if(1===o.length){if("object"!==typeof o[0])return(n=a._soundById(parseInt(o[0],10)))?n._pannerAttr:a._pannerAttr;t=o[0],"undefined"===typeof r&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),a._pannerAttr={coneInnerAngle:"undefined"!==typeof t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:"undefined"!==typeof t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:"undefined"!==typeof t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:"undefined"!==typeof t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:a._distanceModel,maxDistance:"undefined"!==typeof t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:a._maxDistance,refDistance:"undefined"!==typeof t.pannerAttr.refDistance?t.pannerAttr.refDistance:a._refDistance,rolloffFactor:"undefined"!==typeof t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:"undefined"!==typeof t.pannerAttr.panningModel?t.pannerAttr.panningModel:a._panningModel})}else 2===o.length&&(t=o[0],r=parseInt(o[1],10));for(var i=a._getSoundIds(r),c=0;c<i.length;c++)if(n=a._soundById(i[c])){var s=n._pannerAttr;s={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:s.coneOuterAngle,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:s.coneOuterGain,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:s.distanceModel,maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:s.maxDistance,refDistance:"undefined"!==typeof t.refDistance?t.refDistance:s.refDistance,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:s.rolloffFactor,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:s.panningModel};var u=n._panner;u?(u.coneInnerAngle=s.coneInnerAngle,u.coneOuterAngle=s.coneOuterAngle,u.coneOuterGain=s.coneOuterGain,u.distanceModel=s.distanceModel,u.maxDistance=s.maxDistance,u.refDistance=s.refDistance,u.rolloffFactor=s.rolloffFactor,u.panningModel=s.panningModel):(n._pos||(n._pos=a._pos||[0,0,-.5]),e(n,"spatial"))}return a},Sound.prototype.init=function(t){return function(){var e=this,r=e._parent;e._orientation=r._orientation,e._stereo=r._stereo,e._pos=r._pos,e._pannerAttr=r._pannerAttr,t.call(this),e._stereo?r.stereo(e._stereo):e._pos&&r.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,r=e._parent;return e._orientation=r._orientation,e._stereo=r._stereo,e._pos=r._pos,e._pannerAttr=r._pannerAttr,e._stereo?r.stereo(e._stereo):e._pos?r.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,r._refreshBuffer(e)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,"undefined"!==typeof t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),"undefined"!==typeof t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()},8660:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2683),a=n.glob.performance&&n.glob.performance.now?function(){return n.glob.performance.now()}:function(){return(new Date).getTime()},o=function(){function t(e,r){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:a(),frameRate:0},this.func=e,this.setLayers(r)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,r=this.layers,n=r.length;for(e=0;e<n;e++)if(r[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,r=t.animations,n=r.length;for(e=0;e<n;e++)if(r[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=a(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,r=t.id,n=this.animations,a=n.length;for(e=0;e<a;e++)if(n[e].id===r){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,r,n,o,i,c,s,u={},l=this.animations;for(n=0;n<l.length;n++)if(e=(t=l[n]).layers,r=t.func,t._updateFrameObject(a()),i=e.length,!r||!1!==r.call(t,t.frame))for(o=0;o<i;o++)void 0!==(c=e[o])._id&&(u[c._id]=c);for(s in u)u.hasOwnProperty(s)&&u[s].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();e.Animation=o},7821:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(3890),i=r(2585),c=r(6534),s=r(6689),u=function(t){function e(e){var r=t.call(this,e)||this;return r.canvas=new s.SceneCanvas,r._waitingForDraw=!1,r.on("visibleChange",r._checkVisibility),r._checkVisibility(),r.on("imageSmoothingEnabledChange",r._checkSmooth),r._checkSmooth(),r}return n(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var r=this.getStage();return r&&(r.content.removeChild(this.getCanvas()._canvas),e<r.children.length-1?r.content.insertBefore(this.getCanvas()._canvas,r.children[e+1].getCanvas()._canvas):r.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){i.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!i.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.children.length-1?t.content.insertBefore(this.getCanvas()._canvas,t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(i.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(i.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.hitGraphEnabled=function(){return!0},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return i.Node.prototype.remove.call(this),t&&t.parentNode&&a.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,r=t.height;return this.canvas.setSize(e,r),this},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),i.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._checkSmooth=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){a.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){a.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.getIntersection=function(t,e){return null},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,a.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype._applyTransform=function(t,e,r){var n=t.getAbsoluteTransform(r).getMatrix();e.transform(n[0],n[1],n[2],n[3],n[4],n[5])},e}(o.Container);e.BaseLayer=u,u.prototype.nodeType="BaseLayer",c.Factory.addGetterSetter(u,"imageSmoothingEnabled",!0),c.Factory.addGetterSetter(u,"clearBeforeDraw",!0),a.Collection.mapMethods(u)},6689:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a,o=r(2264),i=r(3110),c=r(2683),s=r(6534),u=r(8999);var l=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||c.Konva.pixelRatio||function(){if(a)return a;var t=o.Util.createCanvasElement().getContext("2d");return a=(c.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=o.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t),this.setHeight(e)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(r){try{return this._canvas.toDataURL()}catch(n){return o.Util.error("Unable to get data URL. "+n.message+". For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}},t}();e.Canvas=l,s.Factory.addGetterSetter(l,"pixelRatio",void 0,u.getNumberValidator());var h=function(t){function e(e){void 0===e&&(e={width:0,height:0});var r=t.call(this,e)||this;return r.context=new i.SceneContext(r),r.setSize(e.width,e.height),r}return n(e,t),e}(l);e.SceneCanvas=h;var f=function(t){function e(e){void 0===e&&(e={width:0,height:0});var r=t.call(this,e)||this;return r.hitCanvas=!0,r.context=new i.HitContext(r),r.setSize(e.width,e.height),r}return n(e,t),e}(l);e.HitCanvas=f},3890:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(2585),c=r(184),s=r(8999),u=r(2683),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new a.Collection,e}return n(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new a.Collection;return this.children.each((function(r){t(r)&&e.push(r)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new a.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new a.Collection,this},e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}var n=t[0];if(n.getParent())return n.moveTo(this),this;var a=this.children;return this._validateAdd(n),n._clearCaches(),n.index=a.length,n.parent=this,a.push(n),this._fire("add",{child:n}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return a.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var r=[];return this._descendants((function(n){var a=n._isMatch(t);return a&&r.push(n),!(!a||!e)})),a.Collection.toCollection(r)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var r=this.children[e];if(t(r))return!0;if(r.hasChildren()&&r._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=i.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),r=e.length,n=0;n<r;n++){var a=e[n];t.children.push(a.toObject())}return t},e.prototype._getDescendants=function(t){for(var e=[],r=t.length,n=0;n<r;n++){var a=t[n];this.isAncestorOf(a)&&e.push(a)}return e},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=i.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(r){r.isVisible()&&r.intersects(t)&&e.push(r)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e,r){var n=this.getLayer(),a=t||n&&n.getCanvas(),o=a&&a.getContext(),i=this._getCanvasCache(),c=i&&i.scene;return(this.isVisible()||r)&&(!r&&c?(o.save(),n._applyTransform(this,o,e),this._drawCachedSceneCanvas(o),o.restore()):this._drawChildren(a,"drawScene",e,!1,r,r)),this},e.prototype.drawHit=function(t,e,r){var n=this.getLayer(),a=t||n&&n.hitCanvas,o=a&&a.getContext(),i=this._getCanvasCache(),c=i&&i.hit;return(this.shouldDrawHit(a)||r)&&(!r&&c?(o.save(),n._applyTransform(this,o,e),this._drawCachedHitCanvas(o),o.restore()):this._drawChildren(a,"drawHit",e,!1,r,r)),this},e.prototype._drawChildren=function(t,e,r,n,a,o){var i,c,s=this.getLayer(),u=t&&t.getContext(),l=this.clipWidth(),h=this.clipHeight(),f=this.clipFunc(),p=l&&h||f;if(p&&s){u.save();var d=this.getAbsoluteTransform(r),y=d.getMatrix();u.transform(y[0],y[1],y[2],y[3],y[4],y[5]),u.beginPath(),f?f.call(this,u,this):(i=this.clipX(),c=this.clipY(),u.rect(i,c,l,h)),u.clip(),y=d.copy().invert().getMatrix(),u.transform(y[0],y[1],y[2],y[3],y[4],y[5])}var g="source-over"!==this.globalCompositeOperation()&&!o&&"drawScene"===e;g&&s&&(u.save(),u._applyGlobalCompositeOperation(this)),this.children.each((function(o){o[e](t,r,n,a)})),g&&s&&u.restore(),p&&s&&u.restore()},e.prototype.shouldDrawHit=function(t){if(t&&t.isCache)return!0;var e=this.getLayer(),r=!1;c.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&t.node.getLayer()===e&&(r=!0)}));var n=!u.Konva.hitOnDragEnabled&&r;return e&&e.hitGraphEnabled()&&this.isVisible()&&!n},e.prototype.getClientRect=function(t){var e,r,n,a,o=(t=t||{}).skipTransform,i=t.relativeTo,c={x:1/0,y:1/0,width:0,height:0},s=this;this.children.each((function(o){if(o.visible()){var i=o.getClientRect({relativeTo:s,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===i.width&&0===i.height||(void 0===e?(e=i.x,r=i.y,n=i.x+i.width,a=i.y+i.height):(e=Math.min(e,i.x),r=Math.min(r,i.y),n=Math.max(n,i.x+i.width),a=Math.max(a,i.y+i.height)))}}));for(var u=this.find("Shape"),l=!1,h=0;h<u.length;h++){if(u[h]._isVisible(this)){l=!0;break}}return c=l&&void 0!==e?{x:e,y:r,width:n-e,height:a-r}:{x:0,y:0,width:0,height:0},o?c:this._transformedRect(c,i)},e}(i.Node);e.Container=l,o.Factory.addComponentsGetterSetter(l,"clip",["x","y","width","height"]),o.Factory.addGetterSetter(l,"clipX",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"clipY",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"clipWidth",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"clipHeight",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"clipFunc"),a.Collection.mapMethods(l)},3110:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(2683),i=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],c=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),o.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.fillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.hasStroke()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){this.fillShape(t),this.strokeShape(t)},t.prototype.getTrace=function(t){var e,r,n,o,i=this.traceArr,c=i.length,s="";for(e=0;e<c;e++)(n=(r=i[e]).method)?(o=r.args,s+=n,t?s+="()":a.Util._isArray(o[0])?s+="(["+o.join(",")+"])":s+="("+o.join(",")+")"):(s+=r.property,t||(s+="="+r.val)),s+=";";return s},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,r,n,a,o){this._context.arc(t,e,r,n,a,o)},t.prototype.arcTo=function(t,e,r,n,a){this._context.arcTo(t,e,r,n,a)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,r,n,a,o){this._context.bezierCurveTo(t,e,r,n,a,o)},t.prototype.clearRect=function(t,e,r,n){this._context.clearRect(t,e,r,n)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var r=arguments;return 2===r.length?this._context.createImageData(t,e):1===r.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,r,n){return this._context.createLinearGradient(t,e,r,n)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,r,n,a,o){return this._context.createRadialGradient(t,e,r,n,a,o)},t.prototype.drawImage=function(t,e,r,n,a,o,i,c,s){var u=arguments,l=this._context;3===u.length?l.drawImage(t,e,r):5===u.length?l.drawImage(t,e,r,n,a):9===u.length&&l.drawImage(t,e,r,n,a,o,i,c,s)},t.prototype.ellipse=function(t,e,r,n,a,o,i,c){this._context.ellipse(t,e,r,n,a,o,i,c)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,r,n){this._context.fillRect(t,e,r,n)},t.prototype.strokeRect=function(t,e,r,n){this._context.strokeRect(t,e,r,n)},t.prototype.fillText=function(t,e,r){this._context.fillText(t,e,r)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,r,n){return this._context.getImageData(t,e,r,n)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,r,n){this._context.rect(t,e,r,n)},t.prototype.putImageData=function(t,e,r){this._context.putImageData(t,e,r)},t.prototype.quadraticCurveTo=function(t,e,r,n){this._context.quadraticCurveTo(t,e,r,n)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,r,n,a,o){this._context.setTransform(t,e,r,n,a,o)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,r,n){this._context.strokeText(t,e,r,n)},t.prototype.transform=function(t,e,r,n,a,o){this._context.transform(t,e,r,n,a,o)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,r=this,n=i.length,o=a.Util._simplifyArray,c=this.setAttr,s=function(t){var n,a=r[t];r[t]=function(){return e=o(Array.prototype.slice.call(arguments,0)),n=a.apply(r,arguments),r._trace({method:t,args:e}),n}};for(t=0;t<n;t++)s(i[t]);r.setAttr=function(){c.apply(r,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),r._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=c,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(c.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),r=t.getFillPatternY(),n=o.Konva.getAngle(t.getFillPatternRotation()),a=t.getFillPatternOffsetX(),i=t.getFillPatternOffsetY(),c=t.getFillPatternScaleX(),s=t.getFillPatternScaleY();(e||r)&&this.translate(e||0,r||0),n&&this.rotate(n),(c||s)&&this.scale(c,s),(a||i)&&this.translate(-1*a,-1*i),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),r=t.getFillPriority();if(e&&"color"===r)this._fillColor(t);else{var n=t.getFillPatternImage();if(n&&"pattern"===r)this._fillPattern(t);else{var a=t.getFillLinearGradientColorStops();if(a&&"linear-gradient"===r)this._fillLinearGradient(t);else{var o=t.getFillRadialGradientColorStops();o&&"radial-gradient"===r?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):a?this._fillLinearGradient(t):o&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),r=t.getStrokeLinearGradientEndPoint(),n=t.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(e.x,e.y,r.x,r.y);if(n){for(var o=0;o<n.length;o+=2)a.addColorStop(n[o],n[o+1]);this.setAttr("strokeStyle",a)}},e.prototype._stroke=function(t){var e=t.dash(),r=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!r){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),r||this.restore()}},e.prototype._applyShadow=function(t){var e=a.Util,r=e.get(t.getShadowRGBA(),"black"),n=e.get(t.getShadowBlur(),5),o=e.get(t.getShadowOffset(),{x:0,y:0}),i=t.getAbsoluteScale(),c=this.canvas.getPixelRatio(),s=i.x*c,u=i.y*c;this.setAttr("shadowColor",r),this.setAttr("shadowBlur",n*Math.min(Math.abs(s),Math.abs(u))),this.setAttr("shadowOffsetX",o.x*s),this.setAttr("shadowOffsetY",o.y*u)},e}(c);e.SceneContext=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype.strokeShape=function(t){t.hasHitStroke()&&this._stroke(t)},e.prototype._stroke=function(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t);var n=t.hitStrokeWidth(),a="auto"===n?t.strokeWidth():n;this.setAttr("lineWidth",a),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(c);e.HitContext=u},184:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2683),a=r(2264);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((function(e){"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){e.DD._dragElements.forEach((function(e,r){var n=e.node,o=n.getStage();o.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=a.Util._getFirstPointerId(t));var i=o._changedPointerPositions.find((function(t){return t.id===e.pointerId}));if(i){if("dragging"!==e.dragStatus){var c=n.dragDistance();if(Math.max(Math.abs(i.x-e.startPointerPos.x),Math.abs(i.y-e.startPointerPos.y))<c)return;if(n.startDrag({evt:t}),!n.isDragging())return}n._setDragPosition(t,e),n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)}}))},_endDragBefore:function(t){e.DD._dragElements.forEach((function(r,a){var o=r.node.getStage();if(t&&o.setPointersPositions(t),o._changedPointerPositions.find((function(t){return t.id===r.pointerId}))){"dragging"!==r.dragStatus&&"stopped"!==r.dragStatus||(e.DD.justDragged=!0,n.Konva.listenClickTap=!1,r.dragStatus="stopped");var i=r.node.getLayer()||r.node instanceof n.Konva.Stage&&r.node;i&&i.draw()}}))},_endDragAfter:function(t){e.DD._dragElements.forEach((function(r,n){"stopped"===r.dragStatus&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:t},!0),"dragging"!==r.dragStatus&&e.DD._dragElements.delete(n)}))}},n.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},6534:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2264),a=r(8999),o="get",i="set";e.Factory={addGetterSetter:function(t,e,r,n,a){this.addGetter(t,e,r),this.addSetter(t,e,n,a),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,r){var a=o+n.Util._capitalize(e);t.prototype[a]=t.prototype[a]||function(){var t=this.attrs[e];return void 0===t?r:t}},addSetter:function(t,r,a,o){var c=i+n.Util._capitalize(r);t.prototype[c]||e.Factory.overWriteSetter(t,r,a,o)},overWriteSetter:function(t,e,r,a){var o=i+n.Util._capitalize(e);t.prototype[o]=function(t){return r&&void 0!==t&&null!==t&&(t=r.call(this,t,e)),this._setAttr(e,t),a&&a.call(this),this}},addComponentsGetterSetter:function(t,e,r,c,s){var u,l,h=r.length,f=n.Util._capitalize,p=o+f(e),d=i+f(e);t.prototype[p]=function(){var t={};for(u=0;u<h;u++)t[l=r[u]]=this.getAttr(e+f(l));return t};var y=a.getComponentValidator(r);t.prototype[d]=function(t){var r,n=this.attrs[e];for(r in c&&(t=c.call(this,t)),y&&y.call(this,t,e),t)t.hasOwnProperty(r)&&this._setAttr(e+f(r),t[r]);return this._fireChangeEvent(e,n,t),s&&s.call(this),this},this.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter:function(t,e){var r=n.Util._capitalize(e),a=i+r,c=o+r;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter:function(t,e,r,a){n.Util.error("Adding deprecated "+e);var i=o+n.Util._capitalize(e),c=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){n.Util.error(c);var t=this.attrs[e];return void 0===t?r:t},this.addSetter(t,e,a,(function(){n.Util.error(c)})),this.addOverloadedGetterSetter(t,e)},backCompat:function(t,e){n.Util.each(e,(function(e,r){var a=t.prototype[r],c=o+n.Util._capitalize(e),s=i+n.Util._capitalize(e);function u(){a.apply(this,arguments),n.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[e]=u,t.prototype[c]=u,t.prototype[s]=u}))},afterSetFilter:function(){this._filterUpToDate=!1}}},5573:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(3890),i=r(7821),c=r(2683),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._validateAdd=function(t){"Shape"!==t.getType()&&a.Util.throw("You may only add shapes to a fast layer.")},e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this._checkSmooth()},e.prototype.hitGraphEnabled=function(){return!1},e.prototype.drawScene=function(t){var e=this.getLayer(),r=t||e&&e.getCanvas();return this.clearBeforeDraw()&&r.getContext().clear(),o.Container.prototype.drawScene.call(this,r),this},e.prototype.draw=function(){return this.drawScene(),this},e}(i.BaseLayer);e.FastLayer=s,s.prototype.nodeType="FastLayer",c._registerNode(s),a.Collection.mapMethods(s)},2683:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Math.PI/180;var a=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var n=t.indexOf("edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)};e._parseUA=function(t){var e=t.toLowerCase(),r=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),o=!!t.match(/IEMobile/i);return{browser:r[1]||"",version:r[2]||"0",isIE:a(e),mobile:n,ieMobile:o}},e.glob="undefined"!==typeof r.g?r.g:"undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"4.1.6",isBrowser:"undefined"!==typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*n:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={},e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}},7675:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(3890),i=r(2683),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&a.Util.throw("You may only add groups and shapes to groups.")},e}(o.Container);e.Group=c,c.prototype.nodeType="Group",i._registerNode(c),a.Collection.mapMethods(c)},115:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(3890),i=r(6534),c=r(7821),s=r(6689),u=r(9132),l=r(8999),h=r(2683),f=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=f.length,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitCanvas=new s.HitCanvas({pixelRatio:1}),e}return n(e,t),e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._checkSmooth()},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&a.Util.throw("You may only add groups and shapes to a layer.")},e.prototype.getIntersection=function(t,e){var r,n,a,o;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var i=1,c=!1;;){for(n=0;n<p;n++){if(a=f[n],(o=(r=this._getIntersection({x:t.x+a.x*i,y:t.y+a.y*i})).shape)&&e)return o.findAncestor(e,!0);if(o)return o;if(c=!!r.antialiased,!r.antialiased)break}if(!c)return null;i+=1}},e.prototype._getIntersection=function(t){var e,r,n=this.hitCanvas.pixelRatio,o=this.hitCanvas.context.getImageData(Math.round(t.x*n),Math.round(t.y*n),1,1).data,i=o[3];return 255===i?(e=a.Util._rgbToHex(o[0],o[1],o[2]),(r=u.shapes["#"+e])?{shape:r}:{antialiased:!0}):i>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var r=this.getLayer(),n=t||r&&r.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),o.Container.prototype.drawScene.call(this,n,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var r=this.getLayer(),n=t||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),o.Container.prototype.drawHit.call(this,n,e),this},e.prototype.clear=function(t){return c.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e.prototype.setSize=function(e){var r=e.width,n=e.height;return t.prototype.setSize.call(this,{width:r,height:n}),this.hitCanvas.setSize(r,n),this},e}(c.BaseLayer);e.Layer=d,d.prototype.nodeType="Layer",h._registerNode(d),i.Factory.addGetterSetter(d,"hitGraphEnabled",!0,l.getBooleanValidator()),a.Collection.mapMethods(d)},2585:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2264),a=r(6534),o=r(6689),i=r(2683),c=r(184),s=r(8999);e.ids={},e.names={};e._removeId=function(t,r){t&&e.ids[t]===r&&delete e.ids[t]},e._addName=function(t,r){r&&(e.names[r]||(e.names[r]=[]),e.names[r].push(t))},e._removeName=function(t,r){if(t){var n=e.names[t];if(n){for(var a=0;a<n.length;a++){n[a]._id===r&&n.splice(a,1)}0===n.length&&delete e.names[t]}}};var u="absoluteOpacity",l="absoluteTransform",h="absoluteScale",f="canvas",p="listening",d="mouseenter",y="mouseleave",g="Shape",v=" ",m="stage",_="transform",b="visible",O=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(v),w=["scaleXChange.konva","scaleYChange.konva"].join(v),k=new n.Collection,x=1,R=function(){function t(t){var e=this;this._id=x++,this.eventListeners={},this.attrs={},this.index=0,this.parent=null,this._cache=new Map,this._lastPos=null,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=k,this._dragEventId=null,this.setAttrs(t),this.on(O,(function(){e._clearCache(_),e._clearSelfAndDescendantCache(l)})),this.on(w,(function(){e._clearSelfAndDescendantCache(h)})),this.on("visibleChange.konva",(function(){e._clearSelfAndDescendantCache(b)})),this.on("listeningChange.konva",(function(){e._clearSelfAndDescendantCache(p)})),this.on("opacityChange.konva",(function(){e._clearSelfAndDescendantCache(u)}))}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return k},t.prototype._clearCache=function(t){t?this._cache.delete(t):this._cache.clear()},t.prototype._getCache=function(t,e){var r=this._cache.get(t);return void 0===r&&(r=e.call(this),this._cache.set(t,r)),r},t.prototype._getCanvasCache=function(){return this._cache.get(f)},t.prototype._clearSelfAndDescendantCache=function(t){this._clearCache(t),this.isCached()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t)}))},t.prototype.clearCache=function(){return this._cache.delete(f),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},r={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var a=Math.ceil(e.width||r.width),i=Math.ceil(e.height||r.height),c=e.pixelRatio,s=void 0===e.x?r.x:e.x,l=void 0===e.y?r.y:e.y,p=e.offset||0,d=e.drawBorder||!1;if(a&&i){a+=2*p,i+=2*p,s-=p,l-=p;var y=new o.SceneCanvas({pixelRatio:c,width:a,height:i}),g=new o.SceneCanvas({pixelRatio:c,width:a,height:i}),v=new o.HitCanvas({pixelRatio:1,width:a,height:i}),m=y.getContext(),_=v.getContext();return v.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(y.getContext()._context.imageSmoothingEnabled=!1,g.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),m.save(),_.save(),m.translate(-s,-l),_.translate(-s,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(h),this.drawScene(y,this,!0),this.drawHit(v,this,!0),this._isUnderCache=!1,m.restore(),_.restore(),d&&(m.save(),m.beginPath(),m.rect(0,0,a,i),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(f,{scene:y,filter:g,hit:v,x:s,y:l}),this}n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var r,n,a,o,i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],c=this.getAbsoluteTransform(e);return i.forEach((function(t){var e=c.point(t);void 0===r&&(r=a=e.x,n=o=e.y),r=Math.min(r,e.x),n=Math.min(n,e.y),a=Math.max(a,e.x),o=Math.max(o,e.y)})),{x:r,y:n,width:a-r,height:o-n}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var r=this._getCachedSceneCanvas(),n=r.pixelRatio;t.drawImage(r._canvas,0,0,r.width/n,r.height/n),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),r=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(r._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,r,a,o=this.filters(),i=this._getCanvasCache(),c=i.scene,s=i.filter,u=s.getContext();if(o){if(!this._filterUpToDate){var l=c.pixelRatio;try{for(t=o.length,u.clear(),u.drawImage(c._canvas,0,0,c.getWidth()/l,c.getHeight()/l),e=u.getImageData(0,0,s.getWidth(),s.getHeight()),r=0;r<t;r++)"function"===typeof(a=o[r])?(a.call(this,e),u.putImageData(e,0,0)):n.Util.error("Filter should be type of function, but got "+typeof a+" instead. Please check correct filters")}catch(h){n.Util.error("Unable to apply filter. "+h.message+". This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return c},t.prototype.on=function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var r,n,a,o,i=t.split(v),c=i.length;for(r=0;r<c;r++)a=(n=i[r].split("."))[0],o=n[1]||"",this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:o,handler:e});return this},t.prototype.off=function(t,e){var r,n,a,o,i,c=(t||"").split(v),s=c.length;if(!t)for(n in this.eventListeners)this._off(n);for(r=0;r<s;r++)if(o=(a=c[r].split("."))[0],i=a[1],o)this.eventListeners[o]&&this._off(o,i,e);else for(n in this.eventListeners)this._off(n,i,e);return this},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,r){var a=this;this.on(t,(function(t){for(var o=t.target.findAncestors(e,!0,a),i=0;i<o.length;i++)(t=n.Util.cloneObject(t)).currentTarget=o[i],r.call(o[i],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),c.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._clearCaches=function(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(b),this._clearSelfAndDescendantCache(p)},t.prototype._remove=function(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),r=0;r<t.length;r++){var n=t[r];e._removeName(n,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+n.Util._capitalize(t);return n.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new n.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e,r;if(!t)return this;for(e in t)"children"!==e&&(r="set"+n.Util._capitalize(e),n.Util._isFunction(this[r])?this[r](t[e]):this._setAttr(e,t[e]));return this},t.prototype.isListening=function(){return this._getCache(p,this._isListening)},t.prototype._isListening=function(){var t=this.listening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},t.prototype.isVisible=function(){return this._getCache(b,this._isVisible)},t.prototype._isVisible=function(t){var e=this.visible(),r=this.getParent();return"inherit"===e?!r||r===t||r._isVisible(t):t&&t!==r?e&&r._isVisible(t):e},t.prototype.shouldDrawHit=function(){var t=this.getLayer();return!t&&this.isListening()&&this.isVisible()||t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,r,n,a=this.getDepth(),o=this,i=0;return"Stage"!==o.nodeType&&function c(s){for(t=[],e=s.length,r=0;r<e;r++)n=s[r],i++,n.nodeType!==g&&(t=t.concat(n.getChildren().toArray())),n._id===o._id&&(r=e);t.length>0&&t[0].getDepth()<=a&&c(t)}(o.getStage().getChildren()),i},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype.setPosition=function(t){return this.x(t.x),this.y(t.y),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){for(var e=!1,r=this.parent;r;){if(r.isCached()){e=!0;break}r=r.parent}e&&!t&&(t=!0);var a=this.getAbsoluteTransform(t).getMatrix(),o=new n.Transform,i=this.offset();return o.m=a.slice(),o.translate(i.x,i.y),o.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e,r=this._clearTransform();return this.attrs.x=r.x,this.attrs.y=r.y,delete r.x,delete r.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(r),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache(_),this._clearSelfAndDescendantCache(l)},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(_),this._clearSelfAndDescendantCache(l),t},t.prototype.move=function(t){var e=t.x,r=t.y,n=this.x(),a=this.y();return void 0!==e&&(n+=e),void 0!==r&&(a+=r),this.setPosition({x:n,y:a}),this},t.prototype._eachAncestorReverse=function(t,e){var r,n,a=[],o=this.getParent();if(e&&e._id===this._id)t(this);else{for(a.unshift(this);o&&(!e||o._id!==e._id);)a.unshift(o),o=o.parent;for(r=a.length,n=0;n<r;n++)t(a[n])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return n.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&n.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache(u,this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,r,a,o={},i=this.getAttrs();for(t in o.attrs={},i)e=i[t],n.Util.isObject(e)&&!n.Util._isPlainObject(e)&&!n.Util._isArray(e)||(r="function"===typeof this[t]&&this[t],delete i[t],a=r?r.call(this):null,i[t]=e,a!==e&&(o.attrs[t]=e));return o.className=this.getClassName(),n.Util._prepareToStringify(o)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,r){var n=[];e&&this._isMatch(t)&&n.push(this);for(var a=this.parent;a;){if(a===r)return n;a._isMatch(t)&&n.push(a),a=a.parent}return n},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,r){return this.findAncestors(t,e,r)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"===typeof t)return t(this);var e,r,a=t.replace(/ /g,"").split(","),o=a.length;for(e=0;e<o;e++)if(r=a[e],n.Util.isValidSelector(r)||(n.Util.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),"#"===r.charAt(0)){if(this.id()===r.slice(1))return!0}else if("."===r.charAt(0)){if(this.hasName(r.slice(1)))return!0}else if(this.className===r||this.nodeType===r)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache(m,this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,r){return(e=e||{}).target=e.target||this,r?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(l,this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e;if(t)return e=new n.Transform,this._eachAncestorReverse((function(t){var r=t.transformsEnabled();"all"===r?e.multiply(t.getTransform()):"position"===r&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this.parent?this.parent.getAbsoluteTransform().copy():new n.Transform;var r=this.transformsEnabled();return"all"===r?e.multiply(this.getTransform()):"position"===r&&e.translate(this.x()-this.offsetX(),this.y()-this.offsetY()),e},t.prototype.getAbsoluteScale=function(t){return t?this._getAbsoluteScale(t):this._getCache(h,this._getAbsoluteScale)},t.prototype._getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var r=1,n=1;return this._eachAncestorReverse((function(t){r*=t.scaleX(),n*=t.scaleY()}),t),{x:r,y:n}},t.prototype.getAbsoluteRotation=function(){for(var t=this,e=0;t;)e+=t.rotation(),t=t.getParent();return e},t.prototype.getTransform=function(){return this._getCache(_,this._getTransform)},t.prototype._getTransform=function(){var t=new n.Transform,e=this.x(),r=this.y(),a=i.Konva.getAngle(this.rotation()),o=this.scaleX(),c=this.scaleY(),s=this.skewX(),u=this.skewY(),l=this.offsetX(),h=this.offsetY();return 0===e&&0===r||t.translate(e,r),0!==a&&t.rotate(a),0===s&&0===u||t.skew(s,u),1===o&&1===c||t.scale(o,c),0===l&&0===h||t.translate(-1*l,-1*h),t},t.prototype.clone=function(t){var e,r,a,o,i,c=n.Util.cloneObject(this.attrs);for(e in t)c[e]=t[e];var s=new this.constructor(c);for(e in this.eventListeners)for(a=(r=this.eventListeners[e]).length,o=0;o<a;o++)(i=r[o]).name.indexOf("konva")<0&&(s.eventListeners[e]||(s.eventListeners[e]=[]),s.eventListeners[e].push(i));return s},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),r=this.getStage(),n=void 0!==t.x?t.x:e.x,a=void 0!==t.y?t.y:e.y,i=t.pixelRatio||1,c=new o.SceneCanvas({width:t.width||e.width||(r?r.width():0),height:t.height||e.height||(r?r.height():0),pixelRatio:i}),s=c.getContext();return s.save(),(n||a)&&s.translate(-1*n,-1*a),this.drawScene(c),s.restore(),c},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,r=t.quality||null,n=this._toKonvaCanvas(t).toDataURL(e,r);return t.callback&&t.callback(n),n},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,n.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance},t.prototype._off=function(t,e,r){var n,a,o,i=this.eventListeners[t];for(n=0;n<i.length;n++)if(a=i[n].name,o=i[n].handler,("konva"!==a||"konva"===e)&&(!e||a===e)&&(!r||r===o)){if(i.splice(n,1),0===i.length){delete this.eventListeners[t];break}n--}},t.prototype._fireChangeEvent=function(t,e,r){this._fire(t+"Change",{oldVal:e,newVal:r})},t.prototype.setId=function(t){var r=this.id();return e._removeId(r,this),function(t,r){r&&(e.ids[r]=t)}(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var r,n,a=(this.name()||"").split(/\s/g),o=(t||"").split(/\s/g);for(n=0;n<a.length;n++)r=a[n],-1===o.indexOf(r)&&r&&e._removeName(r,this._id);for(n=0;n<o.length;n++)r=o[n],-1===a.indexOf(r)&&r&&e._addName(this,r);return this._setAttr("name",t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),r=e?e+" "+t:t;this.setName(r)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),r=e.indexOf(t);return-1!==r&&(e.splice(r,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var r=this["set"+n.Util._capitalize(t)];return n.Util._isFunction(r)?r.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e){var r=this.attrs[t];(r!==e||n.Util.isObject(e))&&(void 0===e||null===e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,r,e))},t.prototype._setComponentAttr=function(t,e,r){var n;void 0!==r&&((n=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=r,this._fireChangeEvent(t,n,r))},t.prototype._fireAndBubble=function(t,e,r){if(e&&this.nodeType===g&&(e.target=this),!((t===d||t===y)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||"Stage"===this.nodeType&&!r))){this._fire(t,e);var n=(t===d||t===y)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!n&&(r&&r.parent?this._fireAndBubble.call(this.parent,t,e,r.parent):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._fire=function(t,e){var r,n=this.eventListeners[t];if(n)for((e=e||{}).currentTarget=this,e.type=t,r=0;r<n.length;r++)n[r].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,r=this.getStage(),n=this.getAbsolutePosition(),a=r._getPointerById(e)||r._changedPointerPositions[0]||n;c.DD._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-n.x,y:a.y-n.y},dragStatus:"ready",pointerId:e})},t.prototype.startDrag=function(t){c.DD._dragElements.has(this._id)||this._createDragElement(t),c.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},!0)},t.prototype._setDragPosition=function(t,e){var r=this.getStage()._getPointerById(e.pointerId);if(r){var a={x:r.x-e.offset.x,y:r.y-e.offset.y},o=this.dragBoundFunc();if(void 0!==o){var i=o.call(this,a,t);i?a=i:n.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===a.x&&this._lastPos.y===a.y||(this.setAbsolutePosition(a),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=a}},t.prototype.stopDrag=function(t){var e=c.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),c.DD._endDragBefore(t),c.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=c.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((!(void 0!==t.evt.button)||i.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var r=!1;c.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(r=!0)})),r||this._createDragElement(t)}}))},t.prototype._dragChange=function(){this.attrs.draggable?this._listenDrag():(this._dragCleanup(),this.getStage()&&c.DD._dragElements.has(this._id)&&this.stopDrag())},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return n.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,r){var a,o,c,s=t.prototype.getClassName.call(e),u=e.children;if(r&&(e.attrs.container=r),i._NODES_REGISTRY[s]||(n.Util.warn('Can not find a node with class name "'+s+'". Fallback to "Shape".'),s="Shape"),a=new(0,i._NODES_REGISTRY[s])(e.attrs),u)for(o=u.length,c=0;c<o;c++)a.add(t._createNode(u[c]));return a},t}();e.Node=R,R.prototype.nodeType="Node",R.prototype._attrsAffectingSize=[],a.Factory.addGetterSetter(R,"zIndex"),a.Factory.addGetterSetter(R,"absolutePosition"),a.Factory.addGetterSetter(R,"position"),a.Factory.addGetterSetter(R,"x",0,s.getNumberValidator()),a.Factory.addGetterSetter(R,"y",0,s.getNumberValidator()),a.Factory.addGetterSetter(R,"globalCompositeOperation","source-over",s.getStringValidator()),a.Factory.addGetterSetter(R,"opacity",1,s.getNumberValidator()),a.Factory.addGetterSetter(R,"name","",s.getStringValidator()),a.Factory.addGetterSetter(R,"id","",s.getStringValidator()),a.Factory.addGetterSetter(R,"rotation",0,s.getNumberValidator()),a.Factory.addComponentsGetterSetter(R,"scale",["x","y"]),a.Factory.addGetterSetter(R,"scaleX",1,s.getNumberValidator()),a.Factory.addGetterSetter(R,"scaleY",1,s.getNumberValidator()),a.Factory.addComponentsGetterSetter(R,"skew",["x","y"]),a.Factory.addGetterSetter(R,"skewX",0,s.getNumberValidator()),a.Factory.addGetterSetter(R,"skewY",0,s.getNumberValidator()),a.Factory.addComponentsGetterSetter(R,"offset",["x","y"]),a.Factory.addGetterSetter(R,"offsetX",0,s.getNumberValidator()),a.Factory.addGetterSetter(R,"offsetY",0,s.getNumberValidator()),a.Factory.addGetterSetter(R,"dragDistance",null,s.getNumberValidator()),a.Factory.addGetterSetter(R,"width",0,s.getNumberValidator()),a.Factory.addGetterSetter(R,"height",0,s.getNumberValidator()),a.Factory.addGetterSetter(R,"listening","inherit",(function(t){return!0===t||!1===t||"inherit"===t||n.Util.warn(t+' is a not valid value for "listening" attribute. The value may be true, false or "inherit".'),t})),a.Factory.addGetterSetter(R,"preventDefault",!0,s.getBooleanValidator()),a.Factory.addGetterSetter(R,"filters",null,(function(t){return this._filterUpToDate=!1,t})),a.Factory.addGetterSetter(R,"visible","inherit",(function(t){return!0===t||!1===t||"inherit"===t||n.Util.warn(t+' is a not valid value for "visible" attribute. The value may be true, false or "inherit".'),t})),a.Factory.addGetterSetter(R,"transformsEnabled","all",s.getStringValidator()),a.Factory.addGetterSetter(R,"size"),a.Factory.addGetterSetter(R,"dragBoundFunc"),a.Factory.addGetterSetter(R,"draggable",!1,s.getBooleanValidator()),a.Factory.backCompat(R,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),n.Collection.mapMethods(R)},1655:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2683),a=new Map,o=void 0!==n.Konva._global.PointerEvent;function i(t){return{evt:t,pointerId:t.pointerId}}function c(t,e){var r=a.get(t);if(r){var n=r.getStage();n&&n.content,a.delete(t),o&&r._fire("lostpointercapture",i(new PointerEvent("lostpointercapture")))}}e.getCapturedShape=function(t){return a.get(t)},e.createEvent=i,e.hasPointerCapture=function(t,e){return a.get(t)===e},e.setPointerCapture=function(t,e){c(t),e.getStage()&&(a.set(t,e),o&&e._fire("gotpointercapture",i(new PointerEvent("gotpointercapture"))))},e.releaseCapture=c},9132:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a,o=r(2264),i=r(6534),c=r(2585),s=r(8999),u=r(2683),l=r(1655),h="hasShadow",f="shadowRGBA",p="patternImage",d="linearGradient",y="radialGradient";function g(){return a||(a=o.Util.createCanvasElement().getContext("2d"))}function v(){this._clearCache(h)}function m(){this._clearCache(f)}function _(){this._clearCache(p)}function b(){this._clearCache(d)}function O(){this._clearCache(y)}e.shapes={};var w=function(t){function r(r){for(var n,a=t.call(this,r)||this;!(n=o.Util.getRandomColor())||n in e.shapes;);return a.colorKey=n,e.shapes[n]=a,a.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),a.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",m),a.on("fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",_),a.on("fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",b),a.on("fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",O),a}return n(r,t),r.prototype.getContext=function(){return this.getLayer().getContext()},r.prototype.getCanvas=function(){return this.getLayer().getCanvas()},r.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},r.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},r.prototype.hasShadow=function(){return this._getCache(h,this._hasShadow)},r.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},r.prototype._getFillPattern=function(){return this._getCache(p,this.__getFillPattern)},r.prototype.__getFillPattern=function(){if(this.fillPatternImage())return g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat")},r.prototype._getLinearGradient=function(){return this._getCache(d,this.__getLinearGradient)},r.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=g(),r=this.fillLinearGradientStartPoint(),n=this.fillLinearGradientEndPoint(),a=e.createLinearGradient(r.x,r.y,n.x,n.y),o=0;o<t.length;o+=2)a.addColorStop(t[o],t[o+1]);return a}},r.prototype._getRadialGradient=function(){return this._getCache(y,this.__getRadialGradient)},r.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=g(),r=this.fillRadialGradientStartPoint(),n=this.fillRadialGradientEndPoint(),a=e.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),n.x,n.y,this.fillRadialGradientEndRadius()),o=0;o<t.length;o+=2)a.addColorStop(t[o],t[o+1]);return a}},r.prototype.getShadowRGBA=function(){return this._getCache(f,this._getShadowRGBA)},r.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=o.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},r.prototype.hasFill=function(){return this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())},r.prototype.hasStroke=function(){return this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())},r.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return this.strokeEnabled()&&(t||this.strokeWidth()&&"auto"===t)},r.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},r.prototype.destroy=function(){return c.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},r.prototype._useBufferCanvas=function(t){return!(t&&!this.hasShadow()||!this.perfectDrawEnabled()||1===this.getAbsoluteOpacity()||!this.hasFill()||!this.hasStroke()||!this.getStage())},r.prototype.setStrokeHitEnabled=function(t){t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},r.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},r.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},r.prototype.getClientRect=function(t){var e=(t=t||{}).skipTransform,r=t.relativeTo,n=this.getSelfRect(),a=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=n.width+a,i=n.height+a,c=!t.skipShadow&&this.hasShadow(),s=c?this.shadowOffsetX():0,u=c?this.shadowOffsetY():0,l=o+Math.abs(s),h=i+Math.abs(u),f=c&&this.shadowBlur()||0,p=l+2*f,d=h+2*f,y=0;Math.round(a/2)!==a/2&&(y=1);var g={width:p+y,height:d+y,x:-Math.round(a/2+f)+Math.min(s,0)+n.x,y:-Math.round(a/2+f)+Math.min(u,0)+n.y};return e?g:this._transformedRect(g,r)},r.prototype.drawScene=function(t,e,r,n){var a,o,i=this.getLayer(),c=t||i.getCanvas(),s=c.getContext(),u=this._getCanvasCache(),l=this.sceneFunc(),h=this.hasShadow(),f=this.hasStroke();if(!this.isVisible()&&!r)return this;if(u)return s.save(),i._applyTransform(this,s,e),this._drawCachedSceneCanvas(s),s.restore(),this;if(!l)return this;if(s.save(),this._useBufferCanvas(r)&&!n){if((o=(a=this.getStage().bufferCanvas).getContext()).clear(),o.save(),o._applyLineJoin(this),!r)if(i)i._applyTransform(this,o,e);else{var p=this.getAbsoluteTransform(e).getMatrix();s.transform(p[0],p[1],p[2],p[3],p[4],p[5])}l.call(this,o,this),o.restore();var d=a.pixelRatio;h&&!c.hitCanvas?(s.save(),s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(a._canvas,0,0,a.width/d,a.height/d),s.restore()):(s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(a._canvas,0,0,a.width/d,a.height/d))}else{if(s._applyLineJoin(this),!r)if(i)i._applyTransform(this,s,e);else{var y=this.getAbsoluteTransform(e).getMatrix();s.transform(y[0],y[1],y[2],y[3],y[4],y[5])}h&&f&&!c.hitCanvas?(s.save(),r||(s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),s._applyShadow(this),l.call(this,s,this),s.restore(),this.hasFill()&&this.shadowForStrokeEnabled()&&l.call(this,s,this)):h&&!c.hitCanvas?(s.save(),r||(s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),s._applyShadow(this),l.call(this,s,this),s.restore()):(r||(s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),l.call(this,s,this))}return s.restore(),this},r.prototype.drawHit=function(t,e,r){var n=this.getLayer(),a=t||n.hitCanvas,i=a&&a.getContext(),c=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),u=s&&s.hit;if(this.colorKey||(console.log(this),o.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),!this.shouldDrawHit()&&!r)return this;if(u)return i.save(),n._applyTransform(this,i,e),this._drawCachedHitCanvas(i),i.restore(),this;if(!c)return this;if(i.save(),i._applyLineJoin(this),!r)if(n)n._applyTransform(this,i,e);else{var l=this.getAbsoluteTransform(e).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5])}return c.call(this,i,this),i.restore(),this},r.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,r,n,a,i,c=this._getCanvasCache(),s=this._getCachedSceneCanvas(),u=c.hit,l=u.getContext(),h=u.getWidth(),f=u.getHeight();l.clear(),l.drawImage(s._canvas,0,0,h,f);try{for(n=(r=(e=l.getImageData(0,0,h,f)).data).length,a=o.Util._hexToRgb(this.colorKey),i=0;i<n;i+=4)r[i+3]>t?(r[i]=a.r,r[i+1]=a.g,r[i+2]=a.b,r[i+3]=255):r[i+3]=0;l.putImageData(e,0,0)}catch(p){o.Util.error("Unable to draw hit graph from cached scene canvas. "+p.message)}return this},r.prototype.hasPointerCapture=function(t){return l.hasPointerCapture(t,this)},r.prototype.setPointerCapture=function(t){l.setPointerCapture(t,this)},r.prototype.releaseCapture=function(t){l.releaseCapture(t,this)},r}(c.Node);e.Shape=w,w.prototype._fillFunc=function(t){t.fill()},w.prototype._strokeFunc=function(t){t.stroke()},w.prototype._fillFuncHit=function(t){t.fill()},w.prototype._strokeFuncHit=function(t){t.stroke()},w.prototype._centroid=!1,w.prototype.nodeType="Shape",u._registerNode(w),i.Factory.addGetterSetter(w,"stroke",void 0,s.getStringValidator()),i.Factory.addGetterSetter(w,"strokeWidth",2,s.getNumberValidator()),i.Factory.addGetterSetter(w,"hitStrokeWidth","auto",s.getNumberOrAutoValidator()),i.Factory.addGetterSetter(w,"strokeHitEnabled",!0,s.getBooleanValidator()),i.Factory.addGetterSetter(w,"perfectDrawEnabled",!0,s.getBooleanValidator()),i.Factory.addGetterSetter(w,"shadowForStrokeEnabled",!0,s.getBooleanValidator()),i.Factory.addGetterSetter(w,"lineJoin"),i.Factory.addGetterSetter(w,"lineCap"),i.Factory.addGetterSetter(w,"sceneFunc"),i.Factory.addGetterSetter(w,"hitFunc"),i.Factory.addGetterSetter(w,"dash"),i.Factory.addGetterSetter(w,"dashOffset",0,s.getNumberValidator()),i.Factory.addGetterSetter(w,"shadowColor",void 0,s.getStringValidator()),i.Factory.addGetterSetter(w,"shadowBlur",0,s.getNumberValidator()),i.Factory.addGetterSetter(w,"shadowOpacity",1,s.getNumberValidator()),i.Factory.addComponentsGetterSetter(w,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(w,"shadowOffsetX",0,s.getNumberValidator()),i.Factory.addGetterSetter(w,"shadowOffsetY",0,s.getNumberValidator()),i.Factory.addGetterSetter(w,"fillPatternImage"),i.Factory.addGetterSetter(w,"fill",void 0,s.getStringValidator()),i.Factory.addGetterSetter(w,"fillPatternX",0,s.getNumberValidator()),i.Factory.addGetterSetter(w,"fillPatternY",0,s.getNumberValidator()),i.Factory.addGetterSetter(w,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(w,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(w,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(w,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(w,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(w,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(w,"fillEnabled",!0),i.Factory.addGetterSetter(w,"strokeEnabled",!0),i.Factory.addGetterSetter(w,"shadowEnabled",!0),i.Factory.addGetterSetter(w,"dashEnabled",!0),i.Factory.addGetterSetter(w,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(w,"fillPriority","color"),i.Factory.addComponentsGetterSetter(w,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(w,"fillPatternOffsetX",0,s.getNumberValidator()),i.Factory.addGetterSetter(w,"fillPatternOffsetY",0,s.getNumberValidator()),i.Factory.addComponentsGetterSetter(w,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(w,"fillPatternScaleX",1,s.getNumberValidator()),i.Factory.addGetterSetter(w,"fillPatternScaleY",1,s.getNumberValidator()),i.Factory.addComponentsGetterSetter(w,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(w,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(w,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(w,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(w,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(w,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(w,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(w,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(w,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(w,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(w,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(w,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(w,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(w,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(w,"fillPatternRotation",0),i.Factory.backCompat(w,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),o.Collection.mapMethods(w)},7580:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(3890),c=r(2683),s=r(6689),u=r(184),l=r(2683),h=r(1655),f="mouseout",p="mouseleave",d="mouseover",y="mouseenter",g="mousemove",v="mousedown",m="mouseup",_="pointermove",b="pointerdown",O="pointerup",w="contextmenu",k="click",x="dblclick",R="touchstart",A="touchend",E="dbltap",S="touchmove",C="wheel",L=[y,v,g,m,f,R,S,A,d,C,w,b,_,O,"pointercancel","lostpointercapture"],D=L.length;function T(t,e){t.content.addEventListener(e,(function(r){t["_"+e](r)}),!1)}function N(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&a.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var P=function(t){function r(r){var n=t.call(this,N(r))||this;return n._pointerPositions=[],n._changedPointerPositions=[],n._buildDOM(),n._bindContentEvents(),e.stages.push(n),n.on("widthChange.konva heightChange.konva",n._resizeDOM),n.on("visibleChange.konva",n._checkVisibility),n.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){N(n.attrs)})),n._checkVisibility(),n}return n(r,t),r.prototype._validateAdd=function(t){var e="Layer"===t.getType(),r="FastLayer"===t.getType();e||r||a.Util.throw("You may only add layers to the stage.")},r.prototype._checkVisibility=function(){var t=this.visible()?"":"none";this.content.style.display=t},r.prototype.setContainer=function(t){if("string"===typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var r;r="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(r)}if(!t)throw"Can not find container in document with id "+r}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},r.prototype.shouldDrawHit=function(){return!0},r.prototype.clear=function(){var t,e=this.children,r=e.length;for(t=0;t<r;t++)e[t].clear();return this},r.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),i.Container.prototype.clone.call(this,t)},r.prototype.destroy=function(){t.prototype.destroy.call(this);var r=this.content;r&&a.Util._isInDocument(r)&&this.container().removeChild(r);var n=e.stages.indexOf(this);return n>-1&&e.stages.splice(n,1),this},r.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(a.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)},r.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},r.prototype.getPointersPositions=function(){return this._pointerPositions},r.prototype.getStage=function(){return this},r.prototype.getContent=function(){return this.content},r.prototype._toKonvaCanvas=function(t){var e=(t=t||{}).x||0,r=t.y||0,n=new s.SceneCanvas({width:t.width||this.width(),height:t.height||this.height(),pixelRatio:t.pixelRatio||1}),a=n.getContext()._context,o=this.children;return(e||r)&&a.translate(-1*e,-1*r),o.each((function(n){if(n.isVisible()){var o=n._toKonvaCanvas(t);a.drawImage(o._canvas,e,r,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}})),n},r.prototype.getIntersection=function(t,e){if(!t)return null;var r,n,a=this.children;for(r=a.length-1;r>=0;r--)if(n=a[r].getIntersection(t,e))return n;return null},r.prototype._resizeDOM=function(){if(this.content){var t,e,r=this.width(),n=this.height(),a=this.getChildren(),o=a.length;for(this.content.style.width=r+"px",this.content.style.height=n+"px",this.bufferCanvas.setSize(r,n),this.bufferHitCanvas.setSize(r,n),t=0;t<o;t++)(e=a[t]).setSize({width:r,height:n}),e.draw()}},r.prototype.add=function(e){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}t.prototype.add.call(this,e);var n=this.children.length;return n>5&&a.Util.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e._setCanvasSize(this.width(),this.height()),e.draw(),c.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},r.prototype.getParent=function(){return null},r.prototype.getLayer=function(){return null},r.prototype.hasPointerCapture=function(t){return h.hasPointerCapture(t,this)},r.prototype.setPointerCapture=function(t){h.setPointerCapture(t,this)},r.prototype.releaseCapture=function(t){h.releaseCapture(t,this)},r.prototype.getLayers=function(){return this.getChildren()},r.prototype._bindContentEvents=function(){if(c.Konva.isBrowser)for(var t=0;t<D;t++)T(this,L[t])},r.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire(y,{evt:t,target:this,currentTarget:this})},r.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire(d,{evt:t,target:this,currentTarget:this})},r.prototype._mouseout=function(t){this.setPointersPositions(t);var e=this.targetShape,r=!u.DD.isDragging||c.Konva.hitOnDragEnabled;e&&r?(e._fireAndBubble(f,{evt:t}),e._fireAndBubble(p,{evt:t}),this._fire(p,{evt:t,target:this,currentTarget:this}),this.targetShape=null):r&&(this._fire(p,{evt:t,target:this,currentTarget:this}),this._fire(f,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},r.prototype._mousemove=function(t){if(c.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var e,r=a.Util._getFirstPointerId(t),n=!u.DD.isDragging||c.Konva.hitOnDragEnabled;if(n){if((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()){var o=!this.targetShape||this.targetShape!==e;n&&o?(this.targetShape&&(this.targetShape._fireAndBubble(f,{evt:t,pointerId:r},e),this.targetShape._fireAndBubble(p,{evt:t,pointerId:r},e)),e._fireAndBubble(d,{evt:t,pointerId:r},this.targetShape),e._fireAndBubble(y,{evt:t,pointerId:r},this.targetShape),e._fireAndBubble(g,{evt:t,pointerId:r}),this.targetShape=e):e._fireAndBubble(g,{evt:t,pointerId:r})}else this.targetShape&&n&&(this.targetShape._fireAndBubble(f,{evt:t,pointerId:r}),this.targetShape._fireAndBubble(p,{evt:t,pointerId:r}),this._fire(d,{evt:t,target:this,currentTarget:this,pointerId:r}),this.targetShape=null),this._fire(g,{evt:t,target:this,currentTarget:this,pointerId:r});this._fire("contentMousemove",{evt:t})}t.cancelable&&t.preventDefault()},r.prototype._mousedown=function(t){if(c.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=a.Util._getFirstPointerId(t),r=this.getIntersection(this.getPointerPosition());u.DD.justDragged=!1,c.Konva.listenClickTap=!0,r&&r.isListening()?(this.clickStartShape=r,r._fireAndBubble(v,{evt:t,pointerId:e})):this._fire(v,{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},r.prototype._mouseup=function(t){if(c.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=a.Util._getFirstPointerId(t),r=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,o=this.clickEndShape,i=!1;c.Konva.inDblClickWindow?(i=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(c.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){c.Konva.inDblClickWindow=!1}),c.Konva.dblClickWindow),r&&r.isListening()?(this.clickEndShape=r,r._fireAndBubble(m,{evt:t,pointerId:e}),c.Konva.listenClickTap&&n&&n._id===r._id&&(r._fireAndBubble(k,{evt:t,pointerId:e}),i&&o&&o===r&&r._fireAndBubble(x,{evt:t,pointerId:e}))):(this._fire(m,{evt:t,target:this,currentTarget:this,pointerId:e}),c.Konva.listenClickTap&&this._fire(k,{evt:t,target:this,currentTarget:this,pointerId:e}),i&&this._fire(x,{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),c.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),i&&this._fire("contentDblclick",{evt:t})),c.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},r.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(w,{evt:t}):this._fire(w,{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},r.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var r=!1;this._changedPointerPositions.forEach((function(n){var a=e.getIntersection(n);c.Konva.listenClickTap=!0,u.DD.justDragged=!1,a&&a.isListening()&&(c.Konva.captureTouchEventsEnabled&&a.setPointerCapture(n.id),e.tapStartShape=a,a._fireAndBubble(R,{evt:t,pointerId:n.id},e),r=!0,a.isListening()&&a.preventDefault()&&t.cancelable&&t.preventDefault())})),r||this._fire(R,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},r.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!u.DD.isDragging||c.Konva.hitOnDragEnabled){var r=!1,n={};this._changedPointerPositions.forEach((function(a){var o=h.getCapturedShape(a.id)||e.getIntersection(a);o&&o.isListening()&&(n[o._id]||(n[o._id]=!0,o._fireAndBubble(S,{evt:t,pointerId:a.id}),r=!0,o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),r||this._fire(S,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}u.DD.isDragging&&u.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},r.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var r=this.clickEndShape,n=!1;c.Konva.inDblClickWindow?(n=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(c.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){c.Konva.inDblClickWindow=!1}),c.Konva.dblClickWindow);var a=!1,o={},i=!1,s=!1;this._changedPointerPositions.forEach((function(u){var l=h.getCapturedShape(u.id)||e.getIntersection(u);l&&l.releaseCapture(u.id),l&&l.isListening()&&(o[l._id]||(o[l._id]=!0,e.clickEndShape=l,l._fireAndBubble(A,{evt:t,pointerId:u.id}),a=!0,c.Konva.listenClickTap&&l===e.tapStartShape&&(i=!0,l._fireAndBubble("tap",{evt:t,pointerId:u.id}),n&&r&&r===l&&(s=!0,l._fireAndBubble(E,{evt:t,pointerId:u.id}))),l.isListening()&&l.preventDefault()&&t.cancelable&&t.preventDefault()))})),a||this._fire(A,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),c.Konva.listenClickTap&&!i&&this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),n&&!s&&this._fire(E,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),c.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),n&&this._fire("contentDbltap",{evt:t})),c.Konva.listenClickTap=!1},r.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(C,{evt:t}):this._fire(C,{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},r.prototype._pointerdown=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=h.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(b,h.createEvent(t))}},r.prototype._pointermove=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=h.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(_,h.createEvent(t))}},r.prototype._pointerup=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=h.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(O,h.createEvent(t)),h.releaseCapture(t.pointerId)}},r.prototype._pointercancel=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=h.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(O,h.createEvent(t)),h.releaseCapture(t.pointerId)}},r.prototype._lostpointercapture=function(t){h.releaseCapture(t.pointerId)},r.prototype.setPointersPositions=function(t){var e=this,r=this._getContentPosition(),n=null,o=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],a.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:(t.clientX-r.left)/r.scaleX,y:(t.clientY-r.top)/r.scaleY})})),a.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:(t.clientX-r.left)/r.scaleX,y:(t.clientY-r.top)/r.scaleY})}))):(n=(t.clientX-r.left)/r.scaleX,o=(t.clientY-r.top)/r.scaleY,this.pointerPos={x:n,y:o},this._pointerPositions=[{x:n,y:o,id:a.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:n,y:o,id:a.Util._getFirstPointerId(t)}])},r.prototype._setPointerPosition=function(t){a.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},r.prototype._getContentPosition=function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0,width:1e3,height:1e3};return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},r.prototype._buildDOM=function(){if(this.bufferCanvas=new s.SceneCanvas,this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1}),c.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},r.prototype.cache=function(){return a.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},r.prototype.clearCache=function(){return this},r.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},r}(i.Container);e.Stage=P,P.prototype.nodeType="Stage",l._registerNode(P),o.Factory.addGetterSetter(P,"container")},7483:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2264),a=r(8660),o=r(2585),i=r(2683),c={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=0,u=["fill","stroke","shadowColor"],l=function(){function t(t,e,r,n,a,o,i){this.prop=t,this.propFunc=e,this.begin=n,this._pos=n,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=i,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=a-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time))},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),h=function(){function t(r){var o,u,h=this,f=r.node,p=f._id,d=r.easing||e.Easings.Linear,y=!!r.yoyo;o="undefined"===typeof r.duration?.3:0===r.duration?.001:r.duration,this.node=f,this._id=s++;var g=f.getLayer()||(f instanceof i.Konva.Stage?f.getLayers():null);for(u in g||n.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new a.Animation((function(){h.tween.onEnterFrame()}),g),this.tween=new l(u,(function(t){h._tweenFunc(t)}),d,0,1,1e3*o,y),this._addListeners(),t.attrs[p]||(t.attrs[p]={}),t.attrs[p][this._id]||(t.attrs[p][this._id]={}),t.tweens[p]||(t.tweens[p]={}),r)void 0===c[u]&&this._addAttr(u,r[u]);this.reset(),this.onFinish=r.onFinish,this.onReset=r.onReset}return t.prototype._addAttr=function(e,r){var a,o,i,c,s,l,h,f,p=this.node,d=p._id;if((i=t.tweens[d][e])&&delete t.attrs[d][i][e],a=p.getAttr(e),n.Util._isArray(r))if(o=[],s=Math.max(r.length,a.length),"points"===e&&r.length!==a.length&&(r.length>a.length?(h=a,a=n.Util._prepareArrayForTween(a,r,p.closed())):(l=r,r=n.Util._prepareArrayForTween(r,a,p.closed()))),0===e.indexOf("fill"))for(c=0;c<s;c++)if(c%2===0)o.push(r[c]-a[c]);else{var y=n.Util.colorToRGBA(a[c]);f=n.Util.colorToRGBA(r[c]),a[c]=y,o.push({r:f.r-y.r,g:f.g-y.g,b:f.b-y.b,a:f.a-y.a})}else for(c=0;c<s;c++)o.push(r[c]-a[c]);else-1!==u.indexOf(e)?(a=n.Util.colorToRGBA(a),o={r:(f=n.Util.colorToRGBA(r)).r-a.r,g:f.g-a.g,b:f.b-a.b,a:f.a-a.a}):o=r-a;t.attrs[d][this._id][e]={start:a,diff:o,end:r,trueEnd:l,trueStart:h},t.tweens[d][e]=this._id},t.prototype._tweenFunc=function(e){var r,a,o,i,c,s,l,h,f=this.node,p=t.attrs[f._id][this._id];for(r in p){if(o=(a=p[r]).start,i=a.diff,h=a.end,n.Util._isArray(o))if(c=[],l=Math.max(o.length,h.length),0===r.indexOf("fill"))for(s=0;s<l;s++)s%2===0?c.push((o[s]||0)+i[s]*e):c.push("rgba("+Math.round(o[s].r+i[s].r*e)+","+Math.round(o[s].g+i[s].g*e)+","+Math.round(o[s].b+i[s].b*e)+","+(o[s].a+i[s].a*e)+")");else for(s=0;s<l;s++)c.push((o[s]||0)+i[s]*e);else c=-1!==u.indexOf(r)?"rgba("+Math.round(o.r+i.r*e)+","+Math.round(o.g+i.g*e)+","+Math.round(o.b+i.b*e)+","+(o.a+i.a*e)+")":o+i*e;f.setAttr(r,c)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var r=e.node,n=t.attrs[r._id][e._id];n.points&&n.points.trueEnd&&r.setAttr("points",n.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var r=e.node,n=t.attrs[r._id][e._id];n.points&&n.points.trueStart&&r.points(n.points.trueStart),e.onReset&&e.onReset()}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,r=this.node._id,n=this._id,a=t.tweens[r];for(e in this.pause(),a)delete t.tweens[r][e];delete t.attrs[r][n]},t.attrs={},t.tweens={},t}();e.Tween=h,o.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new h(t).play()},e.Easings={BackEaseIn:function(t,e,r,n){var a=1.70158;return r*(t/=n)*t*((a+1)*t-a)+e},BackEaseOut:function(t,e,r,n){var a=1.70158;return r*((t=t/n-1)*t*((a+1)*t+a)+1)+e},BackEaseInOut:function(t,e,r,n){var a=1.70158;return(t/=n/2)<1?r/2*(t*t*((1+(a*=1.525))*t-a))+e:r/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+e},ElasticEaseIn:function(t,e,r,n,a,o){var i=0;return 0===t?e:1===(t/=n)?e+r:(o||(o=.3*n),!a||a<Math.abs(r)?(a=r,i=o/4):i=o/(2*Math.PI)*Math.asin(r/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*n-i)*(2*Math.PI)/o)+e)},ElasticEaseOut:function(t,e,r,n,a,o){var i=0;return 0===t?e:1===(t/=n)?e+r:(o||(o=.3*n),!a||a<Math.abs(r)?(a=r,i=o/4):i=o/(2*Math.PI)*Math.asin(r/a),a*Math.pow(2,-10*t)*Math.sin((t*n-i)*(2*Math.PI)/o)+r+e)},ElasticEaseInOut:function(t,e,r,n,a,o){var i=0;return 0===t?e:2===(t/=n/2)?e+r:(o||(o=n*(.3*1.5)),!a||a<Math.abs(r)?(a=r,i=o/4):i=o/(2*Math.PI)*Math.asin(r/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*n-i)*(2*Math.PI)/o)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*n-i)*(2*Math.PI)/o)*.5+r+e)},BounceEaseOut:function(t,e,r,n){return(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,r,n,a){return n-e.Easings.BounceEaseOut(a-t,0,n,a)+r},BounceEaseInOut:function(t,r,n,a){return t<a/2?.5*e.Easings.BounceEaseIn(2*t,0,n,a)+r:.5*e.Easings.BounceEaseOut(2*t-a,0,n,a)+.5*n+r},EaseIn:function(t,e,r,n){return r*(t/=n)*t+e},EaseOut:function(t,e,r,n){return-r*(t/=n)*(t-2)+e},EaseInOut:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,r,n){return r*(t/=n)*t*t*t*t+e},StrongEaseOut:function(t,e,r,n){return r*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,r,n){return r*t/n+e}}},2264:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2683),a=function(){function t(){}return t.toCollection=function(e){var r,n=new t,a=e.length;for(r=0;r<a;r++)n.push(e[r]);return n},t._mapMethod=function(e){t.prototype[e]=function(){var t,r=this.length,n=[].slice.call(arguments);for(t=0;t<r;t++)this[t][e].apply(this[t],n);return this}},t.mapMethods=function(e){var r=e.prototype;for(var n in r)t._mapMethod(n)},t}();e.Collection=a,a.prototype=[],a.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},a.prototype.toArray=function(){var t,e=[],r=this.length;for(t=0;t<r;t++)e.push(this[t]);return e};var o=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.copy=function(){return new t(this.m)},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.m[0]*e+this.m[2]*r,a=this.m[1]*e+this.m[3]*r,o=this.m[0]*-r+this.m[2]*e,i=this.m[1]*-r+this.m[3]*e;return this.m[0]=n,this.m[1]=a,this.m[2]=o,this.m[3]=i,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var r=this.m[0]+this.m[2]*e,n=this.m[1]+this.m[3]*e,a=this.m[2]+this.m[0]*t,o=this.m[3]+this.m[1]*t;return this.m[0]=r,this.m[1]=n,this.m[2]=a,this.m[3]=o,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],r=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],a=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],i=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=r,this.m[2]=n,this.m[3]=a,this.m[4]=o,this.m[5]=i,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,r=-this.m[1]*t,n=-this.m[2]*t,a=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),i=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=r,this.m[2]=n,this.m[3]=a,this.m[4]=o,this.m[5]=i,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var r=this.m[0],n=this.m[1],a=this.m[2],o=this.m[3],i=this.m[4],c=(r*(e-this.m[5])-n*(t-i))/(r*o-n*a),s=(t-i-a*c)/r;return this.translate(s,c)},t}();e.Transform=o;var i=Math.PI/180,c=180/Math.PI,s="Konva error: ",u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},l=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,h=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!==typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t?0:t>0?1:-1},requestAnimFrame:function(t){h.push(t),1===h.length&&requestAnimationFrame((function(){var t=h;h=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(e){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var r,n,a=[],o=t.length,i=e.Util;for(r=0;r<o;r++)n=t[r],i._isNumber(n)?n=Math.round(1e3*n)/1e3:i._isString(n)||(n=n.toString()),a.push(n);return a},_urlToImage:function(t,e){var r=new n.glob.Image;r.onload=function(){e(r)},r.src=t},_rgbToHex:function(t,e,r){return((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in u?{r:(e=u[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=l.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=u[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=(e[0],e.slice(1)),n=Number(r[0])/360,a=Number(r[1])/100,o=Number(r[2])/100,i=void 0,c=void 0,s=void 0;if(0===a)return s=255*o,{r:Math.round(s),g:Math.round(s),b:Math.round(s),a:1};for(var u=2*o-(i=o<.5?o*(1+a):o+a-o*a),l=[0,0,0],h=0;h<3;h++)(c=n+1/3*-(h-1))<0&&c++,c>1&&c--,s=6*c<1?u+6*(i-u)*c:2*c<1?i:3*c<2?u+(i-u)*(2/3-c)*6:u,l[h]=255*s;return{r:Math.round(l[0]),g:Math.round(l[1]),b:Math.round(l[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var r in t)this._isPlainObject(t[r])?e[r]=this.cloneObject(t[r]):this._isArray(t[r])?e[r]=this.cloneArray(t[r]):e[r]=t[r];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*i},_radToDeg:function(t){return t*c},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(s+t)},error:function(t){console.error(s+t)},warn:function(t){n.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function r(){this.constructor=t}r.prototype=e.prototype;var n=t.prototype;for(var a in t.prototype=new r,n)n.hasOwnProperty(a)&&(t.prototype[a]=n[a]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,r,n,a,o,i){var c=Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2)),s=Math.sqrt(Math.pow(a-r,2)+Math.pow(o-n,2)),u=i*c/(c+s),l=i*s/(c+s);return[r-u*(a-t),n-u*(o-e),r+l*(a-t),n+l*(o-e)]},_expandPoints:function(t,r){var n,a,o=t.length,i=[];for(n=2;n<o-2;n+=2)a=e.Util._getControlPoints(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],r),i.push(a[0]),i.push(a[1]),i.push(t[n]),i.push(t[n+1]),i.push(a[2]),i.push(a[3]);return i},each:function(t,e){for(var r in t)e(r,t[r])},_inRange:function(t,e,r){return e<=t&&t<r},_getProjectionToSegment:function(t,e,r,n,a,o){var i,c,s,u=(t-r)*(t-r)+(e-n)*(e-n);if(0==u)i=t,c=e,s=(a-r)*(a-r)+(o-n)*(o-n);else{var l=((a-t)*(r-t)+(o-e)*(n-e))/u;l<0?(i=t,c=e,s=(t-a)*(t-a)+(e-o)*(e-o)):l>1?(i=r,c=n,s=(r-a)*(r-a)+(n-o)*(n-o)):s=((i=t+l*(r-t))-a)*(i-a)+((c=e+l*(n-e))-o)*(c-o)}return[i,c,s]},_getProjectionToLine:function(t,r,n){var a=e.Util.cloneObject(t),o=Number.MAX_VALUE;return r.forEach((function(i,c){if(n||c!==r.length-1){var s=r[(c+1)%r.length],u=e.Util._getProjectionToSegment(i.x,i.y,s.x,s.y,t.x,t.y),l=u[0],h=u[1],f=u[2];f<o&&(a.x=l,a.y=h,o=f)}})),a},_prepareArrayForTween:function(t,r,n){var a,o=[],i=[];if(t.length>r.length){var c=r;r=t,t=c}for(a=0;a<t.length;a+=2)o.push({x:t[a],y:t[a+1]});for(a=0;a<r.length;a+=2)i.push({x:r[a],y:r[a+1]});var s=[];return i.forEach((function(t){var r=e.Util._getProjectionToLine(t,o,n);s.push(r.x),s.push(r.y)})),s},_prepareToStringify:function(t){var r;for(var n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(r=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||e.Util._isElement(t[n])){if(!r.configurable)return null;delete t[n]}else if(null===e.Util._prepareToStringify(t[n])){if(!r.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var r in e)t[r]=e[r];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},8999:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2683),a=r(2264);function o(t){return a.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||a.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(n.Konva.isUnminified)return function(t,e){return a.Util._isNumber(t)||a.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrAutoValidator=function(){if(n.Konva.isUnminified)return function(t,e){return a.Util._isNumber(t)||"auto"===t||a.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(n.Konva.isUnminified)return function(t,e){return a.Util._isString(t)||a.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getFunctionValidator=function(){if(n.Konva.isUnminified)return function(t,e){return a.Util._isFunction(t)||a.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(n.Konva.isUnminified)return function(t,e){return a.Util._isArray(t)?t.forEach((function(t){a.Util._isNumber(t)||a.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):a.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(n.Konva.isUnminified)return function(t,e){return!0===t||!1===t||a.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(n.Konva.isUnminified)return function(e,r){return a.Util.isObject(e)||a.Util.warn(o(e)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+t),e}}},518:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2683),a=r(2264),o=r(2585),i=r(3890),c=r(7580),s=r(115),u=r(5573),l=r(7675),h=r(184),f=r(9132),p=r(8660),d=r(7483),y=r(3110),g=r(6689);e.Konva=a.Util._assign(n.Konva,{Collection:a.Collection,Util:a.Util,Transform:a.Transform,Node:o.Node,ids:o.ids,names:o.names,Container:i.Container,Stage:c.Stage,stages:c.stages,Layer:s.Layer,FastLayer:u.FastLayer,Group:l.Group,DD:h.DD,Shape:f.Shape,shapes:f.shapes,Animation:p.Animation,Tween:d.Tween,Easings:d.Easings,Context:y.Context,Canvas:g.Canvas})},805:function(t,e,r){"use strict";var n=r(518),a=r(2012),o=r(2830),i=r(2259),c=r(4321),s=r(6487),u=r(9962),l=r(1384),h=r(5355),f=r(8240),p=r(9237),d=r(1623),y=r(462),g=r(9954),v=r(5215),m=r(9667),_=r(9382),b=r(8861),O=r(7406),w=r(5068),k=r(6010),x=r(1463),R=r(7266),A=r(5776),E=r(2794),S=r(1499),C=r(7099),L=r(3905),D=r(3753),T=r(8447),N=r(4652),P=r(9224),G=r(7116),U=r(1027),I=r(1686),M=r(8958),F=r(7121);e.S=n.Konva.Util._assign(n.Konva,{Arc:a.Arc,Arrow:o.Arrow,Circle:i.Circle,Ellipse:c.Ellipse,Image:s.Image,Label:u.Label,Tag:u.Tag,Line:l.Line,Path:h.Path,Rect:f.Rect,RegularPolygon:p.RegularPolygon,Ring:d.Ring,Sprite:y.Sprite,Star:g.Star,Text:v.Text,TextPath:m.TextPath,Transformer:_.Transformer,Wedge:b.Wedge,Filters:{Blur:O.Blur,Brighten:w.Brighten,Contrast:k.Contrast,Emboss:x.Emboss,Enhance:R.Enhance,Grayscale:A.Grayscale,HSL:E.HSL,HSV:S.HSV,Invert:C.Invert,Kaleidoscope:L.Kaleidoscope,Mask:D.Mask,Noise:T.Noise,Pixelate:N.Pixelate,Posterize:P.Posterize,RGB:G.RGB,RGBA:U.RGBA,Sepia:I.Sepia,Solarize:M.Solarize,Threshold:F.Threshold}})},7406:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var c=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var r,n,a,o,u,l,h,f,p,d,y,g,v,m,_,b,O,w,k,x,R,A,E,S,C=t.data,L=t.width,D=t.height,T=e+e+1,N=L-1,P=D-1,G=e+1,U=G*(G+1)/2,I=new i,M=null,F=I,W=null,j=null,B=c[e],z=s[e];for(a=1;a<T;a++)F=F.next=new i,a===G&&(M=F);for(F.next=I,h=l=0,n=0;n<D;n++){for(b=O=w=k=f=p=d=y=0,g=G*(x=C[l]),v=G*(R=C[l+1]),m=G*(A=C[l+2]),_=G*(E=C[l+3]),f+=U*x,p+=U*R,d+=U*A,y+=U*E,F=I,a=0;a<G;a++)F.r=x,F.g=R,F.b=A,F.a=E,F=F.next;for(a=1;a<G;a++)o=l+((N<a?N:a)<<2),f+=(F.r=x=C[o])*(S=G-a),p+=(F.g=R=C[o+1])*S,d+=(F.b=A=C[o+2])*S,y+=(F.a=E=C[o+3])*S,b+=x,O+=R,w+=A,k+=E,F=F.next;for(W=I,j=M,r=0;r<L;r++)C[l+3]=E=y*B>>z,0!==E?(E=255/E,C[l]=(f*B>>z)*E,C[l+1]=(p*B>>z)*E,C[l+2]=(d*B>>z)*E):C[l]=C[l+1]=C[l+2]=0,f-=g,p-=v,d-=m,y-=_,g-=W.r,v-=W.g,m-=W.b,_-=W.a,o=h+((o=r+e+1)<N?o:N)<<2,f+=b+=W.r=C[o],p+=O+=W.g=C[o+1],d+=w+=W.b=C[o+2],y+=k+=W.a=C[o+3],W=W.next,g+=x=j.r,v+=R=j.g,m+=A=j.b,_+=E=j.a,b-=x,O-=R,w-=A,k-=E,j=j.next,l+=4;h+=L}for(r=0;r<L;r++){for(O=w=k=b=p=d=y=f=0,g=G*(x=C[l=r<<2]),v=G*(R=C[l+1]),m=G*(A=C[l+2]),_=G*(E=C[l+3]),f+=U*x,p+=U*R,d+=U*A,y+=U*E,F=I,a=0;a<G;a++)F.r=x,F.g=R,F.b=A,F.a=E,F=F.next;for(u=L,a=1;a<=e;a++)l=u+r<<2,f+=(F.r=x=C[l])*(S=G-a),p+=(F.g=R=C[l+1])*S,d+=(F.b=A=C[l+2])*S,y+=(F.a=E=C[l+3])*S,b+=x,O+=R,w+=A,k+=E,F=F.next,a<P&&(u+=L);for(l=r,W=I,j=M,n=0;n<D;n++)C[3+(o=l<<2)]=E=y*B>>z,E>0?(E=255/E,C[o]=(f*B>>z)*E,C[o+1]=(p*B>>z)*E,C[o+2]=(d*B>>z)*E):C[o]=C[o+1]=C[o+2]=0,f-=g,p-=v,d-=m,y-=_,g-=W.r,v-=W.g,m-=W.b,_-=W.a,o=r+((o=n+G)<P?o:P)*L<<2,f+=b+=W.r=C[o],p+=O+=W.g=C[o+1],d+=w+=W.b=C[o+2],y+=k+=W.a=C[o+3],W=W.next,g+=x=j.r,v+=R=j.g,m+=A=j.b,_+=E=j.a,b-=x,O-=R,w-=A,k-=E,j=j.next,l+=L}}(t,e)},n.Factory.addGetterSetter(a.Node,"blurRadius",0,o.getNumberValidator(),n.Factory.afterSetFilter)},5068:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);e.Brighten=function(t){var e,r=255*this.brightness(),n=t.data,a=n.length;for(e=0;e<a;e+=4)n[e]+=r,n[e+1]+=r,n[e+2]+=r},n.Factory.addGetterSetter(a.Node,"brightness",0,o.getNumberValidator(),n.Factory.afterSetFilter)},6010:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);e.Contrast=function(t){var e,r=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length,o=150,i=150,c=150;for(e=0;e<a;e+=4)o=n[e],i=n[e+1],c=n[e+2],o/=255,o-=.5,o*=r,o+=.5,i/=255,i-=.5,i*=r,i+=.5,c/=255,c-=.5,c*=r,c+=.5,o=(o*=255)<0?0:o>255?255:o,i=(i*=255)<0?0:i>255?255:i,c=(c*=255)<0?0:c>255?255:c,n[e]=o,n[e+1]=i,n[e+2]=c},n.Factory.addGetterSetter(a.Node,"contrast",0,o.getNumberValidator(),n.Factory.afterSetFilter)},1463:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(2264),i=r(8999);e.Emboss=function(t){var e=10*this.embossStrength(),r=255*this.embossWhiteLevel(),n=this.embossDirection(),a=this.embossBlend(),i=0,c=0,s=t.data,u=t.width,l=t.height,h=4*u,f=l;switch(n){case"top-left":i=-1,c=-1;break;case"top":i=-1,c=0;break;case"top-right":i=-1,c=1;break;case"right":i=0,c=1;break;case"bottom-right":i=1,c=1;break;case"bottom":i=1,c=0;break;case"bottom-left":i=1,c=-1;break;case"left":i=0,c=-1;break;default:o.Util.error("Unknown emboss direction: "+n)}do{var p=(f-1)*h,d=i;f+d<1&&(d=0),f+d>l&&(d=0);var y=(f-1+d)*u*4,g=u;do{var v=p+4*(g-1),m=c;g+m<1&&(m=0),g+m>u&&(m=0);var _=y+4*(g-1+m),b=s[v]-s[_],O=s[v+1]-s[_+1],w=s[v+2]-s[_+2],k=b,x=k>0?k:-k;if((O>0?O:-O)>x&&(k=O),(w>0?w:-w)>x&&(k=w),k*=e,a){var R=s[v]+k,A=s[v+1]+k,E=s[v+2]+k;s[v]=R>255?255:R<0?0:R,s[v+1]=A>255?255:A<0?0:A,s[v+2]=E>255?255:E<0?0:E}else{var S=r-k;S<0?S=0:S>255&&(S=255),s[v]=s[v+1]=s[v+2]=S}}while(--g)}while(--f)},n.Factory.addGetterSetter(a.Node,"embossStrength",.5,i.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"embossWhiteLevel",.5,i.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"embossDirection","top-left",null,n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"embossBlend",!1,null,n.Factory.afterSetFilter)},7266:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);function i(t,e,r,n,a){var o=r-e,i=a-n;return 0===o?n+i/2:0===i?n:i*((t-e)/o)+n}e.Enhance=function(t){var e,r,n,a,o=t.data,c=o.length,s=o[0],u=s,l=o[1],h=l,f=o[2],p=f,d=this.enhance();if(0!==d){for(a=0;a<c;a+=4)(e=o[a+0])<s?s=e:e>u&&(u=e),(r=o[a+1])<l?l=r:r>h&&(h=r),(n=o[a+2])<f?f=n:n>p&&(p=n);var y,g,v,m,_,b,O,w,k;for(u===s&&(u=255,s=0),h===l&&(h=255,l=0),p===f&&(p=255,f=0),d>0?(g=u+d*(255-u),v=s-d*(s-0),_=h+d*(255-h),b=l-d*(l-0),w=p+d*(255-p),k=f-d*(f-0)):(g=u+d*(u-(y=.5*(u+s))),v=s+d*(s-y),_=h+d*(h-(m=.5*(h+l))),b=l+d*(l-m),w=p+d*(p-(O=.5*(p+f))),k=f+d*(f-O)),a=0;a<c;a+=4)o[a+0]=i(o[a+0],s,u,v,g),o[a+1]=i(o[a+1],l,h,b,_),o[a+2]=i(o[a+2],f,p,k,w)}},n.Factory.addGetterSetter(a.Node,"enhance",0,o.getNumberValidator(),n.Factory.afterSetFilter)},5776:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=function(t){var e,r,n=t.data,a=n.length;for(e=0;e<a;e+=4)r=.34*n[e]+.5*n[e+1]+.16*n[e+2],n[e]=r,n[e+1]=r,n[e+2]=r}},2794:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);n.Factory.addGetterSetter(a.Node,"hue",0,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"saturation",0,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"luminance",0,o.getNumberValidator(),n.Factory.afterSetFilter),e.HSL=function(t){var e,r,n,a,o,i=t.data,c=i.length,s=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,l=127*this.luminance(),h=1*s*Math.cos(u*Math.PI/180),f=1*s*Math.sin(u*Math.PI/180),p=.299+.701*h+.167*f,d=.587-.587*h+.33*f,y=.114-.114*h-.497*f,g=.299-.299*h-.328*f,v=.587+.413*h+.035*f,m=.114-.114*h+.293*f,_=.299-.3*h+1.25*f,b=.587-.586*h-1.05*f,O=.114+.886*h-.2*f;for(e=0;e<c;e+=4)r=i[e+0],n=i[e+1],a=i[e+2],o=i[e+3],i[e+0]=p*r+d*n+y*a+l,i[e+1]=g*r+v*n+m*a+l,i[e+2]=_*r+b*n+O*a+l,i[e+3]=o}},1499:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);e.HSV=function(t){var e,r,n,a,o,i=t.data,c=i.length,s=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,h=s*u*Math.cos(l*Math.PI/180),f=s*u*Math.sin(l*Math.PI/180),p=.299*s+.701*h+.167*f,d=.587*s-.587*h+.33*f,y=.114*s-.114*h-.497*f,g=.299*s-.299*h-.328*f,v=.587*s+.413*h+.035*f,m=.114*s-.114*h+.293*f,_=.299*s-.3*h+1.25*f,b=.587*s-.586*h-1.05*f,O=.114*s+.886*h-.2*f;for(e=0;e<c;e+=4)r=i[e+0],n=i[e+1],a=i[e+2],o=i[e+3],i[e+0]=p*r+d*n+y*a,i[e+1]=g*r+v*n+m*a,i[e+2]=_*r+b*n+O*a,i[e+3]=o},n.Factory.addGetterSetter(a.Node,"hue",0,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"saturation",0,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"value",0,o.getNumberValidator(),n.Factory.afterSetFilter)},7099:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=function(t){var e,r=t.data,n=r.length;for(e=0;e<n;e+=4)r[e]=255-r[e],r[e+1]=255-r[e+1],r[e+2]=255-r[e+2]}},3905:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(2264),i=r(8999);e.Kaleidoscope=function(t){var e,r,n,a,i,c,s,u,l,h=t.width,f=t.height,p=Math.round(this.kaleidoscopePower()),d=Math.round(this.kaleidoscopeAngle()),y=Math.floor(h*(d%360)/360);if(!(p<1)){var g=o.Util.createCanvasElement();g.width=h,g.height=f;var v=g.getContext("2d").getImageData(0,0,h,f);!function(t,e,r){var n,a,o,i,c=t.data,s=e.data,u=t.width,l=t.height,h=r.polarCenterX||u/2,f=r.polarCenterY||l/2,p=0,d=0,y=0,g=0,v=Math.sqrt(h*h+f*f);a=u-h,o=l-f,v=(i=Math.sqrt(a*a+o*o))>v?i:v;var m,_,b,O,w=l,k=u,x=360/k*Math.PI/180;for(_=0;_<k;_+=1)for(b=Math.sin(_*x),O=Math.cos(_*x),m=0;m<w;m+=1)a=Math.floor(h+v*m/w*O),p=c[0+(n=4*((o=Math.floor(f+v*m/w*b))*u+a))],d=c[n+1],y=c[n+2],g=c[n+3],s[0+(n=4*(_+m*u))]=p,s[n+1]=d,s[n+2]=y,s[n+3]=g}(t,v,{polarCenterX:h/2,polarCenterY:f/2});for(var m=h/Math.pow(2,p);m<=8;)m*=2,p-=1;var _=m=Math.ceil(m),b=0,O=_,w=1;for(y+m>h&&(b=_,O=0,w=-1),r=0;r<f;r+=1)for(e=b;e!==O;e+=w)u=4*(h*r+Math.round(e+y)%h),a=v.data[u+0],i=v.data[u+1],c=v.data[u+2],s=v.data[u+3],l=4*(h*r+e),v.data[l+0]=a,v.data[l+1]=i,v.data[l+2]=c,v.data[l+3]=s;for(r=0;r<f;r+=1)for(_=Math.floor(m),n=0;n<p;n+=1){for(e=0;e<_+1;e+=1)u=4*(h*r+e),a=v.data[u+0],i=v.data[u+1],c=v.data[u+2],s=v.data[u+3],l=4*(h*r+2*_-e-1),v.data[l+0]=a,v.data[l+1]=i,v.data[l+2]=c,v.data[l+3]=s;_*=2}!function(t,e,r){var n,a,o,i,c,s,u=t.data,l=e.data,h=t.width,f=t.height,p=r.polarCenterX||h/2,d=r.polarCenterY||f/2,y=0,g=0,v=0,m=0,_=Math.sqrt(p*p+d*d);a=h-p,o=f-d,_=(s=Math.sqrt(a*a+o*o))>_?s:_;var b,O,w,k=f,x=h,R=r.polarRotation||0;for(a=0;a<h;a+=1)for(o=0;o<f;o+=1)i=a-p,c=o-d,b=Math.sqrt(i*i+c*c)*k/_,O=(O=(180*Math.atan2(c,i)/Math.PI+360+R)%360)*x/360,w=Math.floor(O),y=u[0+(n=4*(Math.floor(b)*h+w))],g=u[n+1],v=u[n+2],m=u[n+3],l[0+(n=4*(o*h+a))]=y,l[n+1]=g,l[n+2]=v,l[n+3]=m}(v,t,{polarRotation:0})}},n.Factory.addGetterSetter(a.Node,"kaleidoscopePower",2,i.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"kaleidoscopeAngle",0,i.getNumberValidator(),n.Factory.afterSetFilter)},3753:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);function i(t,e,r){var n=4*(r*t.width+e),a=[];return a.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),a}function c(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var r=i(t,0,0),n=i(t,t.width-1,0),a=i(t,0,t.height-1),o=i(t,t.width-1,t.height-1),s=e||10;if(c(r,n)<s&&c(n,o)<s&&c(o,a)<s&&c(a,r)<s){for(var u=function(t){for(var e=[0,0,0],r=0;r<t.length;r++)e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([n,r,o,a]),l=[],h=0;h<t.width*t.height;h++){var f=c(u,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);l[h]=f<s?0:255}return l}}(t,this.threshold());return e&&function(t,e){for(var r=0;r<t.width*t.height;r++)t.data[4*r+3]=e[r]}(t,e=function(t,e,r){for(var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],a=Math.round(Math.sqrt(n.length)),o=Math.floor(a/2),i=[],c=0;c<r;c++)for(var s=0;s<e;s++){for(var u=c*e+s,l=0,h=0;h<a;h++)for(var f=0;f<a;f++){var p=c+h-o,d=s+f-o;if(p>=0&&p<r&&d>=0&&d<e){var y=n[h*a+f];l+=t[p*e+d]*y}}i[u]=l}return i}(e=function(t,e,r){for(var n=[1,1,1,1,1,1,1,1,1],a=Math.round(Math.sqrt(n.length)),o=Math.floor(a/2),i=[],c=0;c<r;c++)for(var s=0;s<e;s++){for(var u=c*e+s,l=0,h=0;h<a;h++)for(var f=0;f<a;f++){var p=c+h-o,d=s+f-o;if(p>=0&&p<r&&d>=0&&d<e){var y=n[h*a+f];l+=t[p*e+d]*y}}i[u]=l>=1020?255:0}return i}(e=function(t,e,r){for(var n=[1,1,1,1,0,1,1,1,1],a=Math.round(Math.sqrt(n.length)),o=Math.floor(a/2),i=[],c=0;c<r;c++)for(var s=0;s<e;s++){for(var u=c*e+s,l=0,h=0;h<a;h++)for(var f=0;f<a;f++){var p=c+h-o,d=s+f-o;if(p>=0&&p<r&&d>=0&&d<e){var y=n[h*a+f];l+=t[p*e+d]*y}}i[u]=2040===l?255:0}return i}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},n.Factory.addGetterSetter(a.Node,"threshold",0,o.getNumberValidator(),n.Factory.afterSetFilter)},8447:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);e.Noise=function(t){var e,r=255*this.noise(),n=t.data,a=n.length,o=r/2;for(e=0;e<a;e+=4)n[e+0]+=o-2*o*Math.random(),n[e+1]+=o-2*o*Math.random(),n[e+2]+=o-2*o*Math.random()},n.Factory.addGetterSetter(a.Node,"noise",.2,o.getNumberValidator(),n.Factory.afterSetFilter)},4652:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2264),o=r(2585),i=r(8999);e.Pixelate=function(t){var e,r,n,o,i,c,s,u,l,h,f,p,d,y,g=Math.ceil(this.pixelSize()),v=t.width,m=t.height,_=Math.ceil(v/g),b=Math.ceil(m/g),O=t.data;if(g<=0)a.Util.error("pixelSize value can not be <= 0");else for(p=0;p<_;p+=1)for(d=0;d<b;d+=1){for(o=0,i=0,c=0,s=0,l=(u=p*g)+g,f=(h=d*g)+g,y=0,e=u;e<l;e+=1)if(!(e>=v))for(r=h;r<f;r+=1)r>=m||(o+=O[(n=4*(v*r+e))+0],i+=O[n+1],c+=O[n+2],s+=O[n+3],y+=1);for(o/=y,i/=y,c/=y,s/=y,e=u;e<l;e+=1)if(!(e>=v))for(r=h;r<f;r+=1)r>=m||(O[(n=4*(v*r+e))+0]=o,O[n+1]=i,O[n+2]=c,O[n+3]=s)}},n.Factory.addGetterSetter(o.Node,"pixelSize",8,i.getNumberValidator(),n.Factory.afterSetFilter)},9224:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);e.Posterize=function(t){var e,r=Math.round(254*this.levels())+1,n=t.data,a=n.length,o=255/r;for(e=0;e<a;e+=1)n[e]=Math.floor(n[e]/o)*o},n.Factory.addGetterSetter(a.Node,"levels",.5,o.getNumberValidator(),n.Factory.afterSetFilter)},7116:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);e.RGB=function(t){var e,r,n=t.data,a=n.length,o=this.red(),i=this.green(),c=this.blue();for(e=0;e<a;e+=4)r=(.34*n[e]+.5*n[e+1]+.16*n[e+2])/255,n[e]=r*o,n[e+1]=r*i,n[e+2]=r*c,n[e+3]=n[e+3]},n.Factory.addGetterSetter(a.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),n.Factory.addGetterSetter(a.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),n.Factory.addGetterSetter(a.Node,"blue",0,o.RGBComponent,n.Factory.afterSetFilter)},1027:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);e.RGBA=function(t){var e,r,n=t.data,a=n.length,o=this.red(),i=this.green(),c=this.blue(),s=this.alpha();for(e=0;e<a;e+=4)r=1-s,n[e]=o*s+n[e]*r,n[e+1]=i*s+n[e+1]*r,n[e+2]=c*s+n[e+2]*r},n.Factory.addGetterSetter(a.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),n.Factory.addGetterSetter(a.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),n.Factory.addGetterSetter(a.Node,"blue",0,o.RGBComponent,n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},1686:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=function(t){var e,r,n,a,o=t.data,i=o.length;for(e=0;e<i;e+=4)r=o[e+0],n=o[e+1],a=o[e+2],o[e+0]=Math.min(255,.393*r+.769*n+.189*a),o[e+1]=Math.min(255,.349*r+.686*n+.168*a),o[e+2]=Math.min(255,.272*r+.534*n+.131*a)}},8958:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=function(t){var e=t.data,r=t.width,n=4*r,a=t.height;do{var o=(a-1)*n,i=r;do{var c=o+4*(i-1),s=e[c],u=e[c+1],l=e[c+2];s>127&&(s=255-s),u>127&&(u=255-u),l>127&&(l=255-l),e[c]=s,e[c+1]=u,e[c+2]=l}while(--i)}while(--a)}},7121:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6534),a=r(2585),o=r(8999);e.Threshold=function(t){var e,r=255*this.threshold(),n=t.data,a=n.length;for(e=0;e<a;e+=1)n[e]=n[e]<r?0:255},n.Factory.addGetterSetter(a.Node,"threshold",.5,o.getNumberValidator(),n.Factory.afterSetFilter)},118:function(t,e,r){var n=r(805).S;n._injectGlobal(n),e.default=n,t.exports=e.default},2012:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(2683),s=r(8999),u=r(2683),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=c.Konva.getAngle(this.angle()),r=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,r),t.arc(0,0,this.innerRadius(),e,0,!r),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(i.Shape);e.Arc=l,l.prototype._centroid=!0,l.prototype.className="Arc",l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],u._registerNode(l),o.Factory.addGetterSetter(l,"innerRadius",0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"outerRadius",0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"angle",0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"clockwise",!1,s.getBooleanValidator()),a.Collection.mapMethods(l)},2830:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(1384),c=r(8999),s=r(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var r=2*Math.PI,n=this.points(),a=n,o=0!==this.tension()&&n.length>4;o&&(a=this.getTensionPoints());var i,c,s=n.length;o?(i=n[s-2]-(a[a.length-2]+a[a.length-4])/2,c=n[s-1]-(a[a.length-1]+a[a.length-3])/2):(i=n[s-2]-n[s-4],c=n[s-1]-n[s-3]);var u=(Math.atan2(c,i)+r)%r,l=this.pointerLength(),h=this.pointerWidth();e.save(),e.beginPath(),e.translate(n[s-2],n[s-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-l,h/2),e.lineTo(-l,-h/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(n[0],n[1]),o?(i=(a[0]+a[2])/2-n[0],c=(a[1]+a[3])/2-n[1]):(i=n[2]-n[0],c=n[3]-n[1]),e.rotate((Math.atan2(-c,-i)+r)%r),e.moveTo(0,0),e.lineTo(-l,h/2),e.lineTo(-l,-h/2),e.closePath(),e.restore());var f=this.dashEnabled();f&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),f&&(this.attrs.dashEnabled=!0)},e.prototype.getSelfRect=function(){var e=t.prototype.getSelfRect.call(this),r=this.pointerWidth()/2;return{x:e.x-r,y:e.y-r,width:e.width+2*r,height:e.height+2*r}},e}(i.Line);e.Arrow=u,u.prototype.className="Arrow",s._registerNode(u),o.Factory.addGetterSetter(u,"pointerLength",10,c.getNumberValidator()),o.Factory.addGetterSetter(u,"pointerWidth",10,c.getNumberValidator()),o.Factory.addGetterSetter(u,"pointerAtBeginning",!1),a.Collection.mapMethods(u)},2259:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(8999),s=r(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(i.Shape);e.Circle=u,u.prototype._centroid=!0,u.prototype.className="Circle",u.prototype._attrsAffectingSize=["radius"],s._registerNode(u),o.Factory.addGetterSetter(u,"radius",0,c.getNumberValidator()),a.Collection.mapMethods(u)},4321:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(8999),s=r(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),r=this.radiusY();t.beginPath(),t.save(),e!==r&&t.scale(1,r/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(i.Shape);e.Ellipse=u,u.prototype.className="Ellipse",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radiusX","radiusY"],s._registerNode(u),o.Factory.addComponentsGetterSetter(u,"radius",["x","y"]),o.Factory.addGetterSetter(u,"radiusX",0,c.getNumberValidator()),o.Factory.addGetterSetter(u,"radiusY",0,c.getNumberValidator()),a.Collection.mapMethods(u)},6487:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(8999),s=r(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._useBufferCanvas=function(){return!(!this.hasShadow()&&1===this.getAbsoluteOpacity()||!this.hasStroke()||!this.getStage())},e.prototype._sceneFunc=function(t){var e,r,n,a=this.width(),o=this.height(),i=this.image();i&&(e=this.cropWidth(),r=this.cropHeight(),n=e&&r?[i,this.cropX(),this.cropY(),e,r,0,0,a,o]:[i,0,0,a,o]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,a,o),t.closePath(),t.fillStrokeShape(this)),i&&t.drawImage.apply(t,n)},e.prototype._hitFunc=function(t){var e=this.width(),r=this.height();t.beginPath(),t.rect(0,0,e,r),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t,e=this.image();return null!==(t=this.attrs.width)&&void 0!==t?t:e?e.width:0},e.prototype.getHeight=function(){var t,e=this.image();return null!==(t=this.attrs.height)&&void 0!==t?t:e?e.height:0},e.fromURL=function(t,r){var n=a.Util.createImageElement();n.onload=function(){var t=new e({image:n});r(t)},n.crossOrigin="Anonymous",n.src=t},e}(i.Shape);e.Image=u,u.prototype.className="Image",s._registerNode(u),o.Factory.addGetterSetter(u,"image"),o.Factory.addComponentsGetterSetter(u,"crop",["x","y","width","height"]),o.Factory.addGetterSetter(u,"cropX",0,c.getNumberValidator()),o.Factory.addGetterSetter(u,"cropY",0,c.getNumberValidator()),o.Factory.addGetterSetter(u,"cropWidth",0,c.getNumberValidator()),o.Factory.addGetterSetter(u,"cropHeight",0,c.getNumberValidator()),a.Collection.mapMethods(u)},9962:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(7675),s=r(8999),u=r(2683),l=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],h="up",f="right",p="down",d="left",y=l.length,g=function(t){function e(e){var r=t.call(this,e)||this;return r.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),r}return n(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,r=this,n=function(){r._sync()};for(e=0;e<y;e++)t.on(l[e]+"Change.konva",n)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,r,n,a,o,i,c=this.getText(),s=this.getTag();if(c&&s){switch(t=c.width(),e=c.height(),r=s.pointerDirection(),n=s.pointerWidth(),i=s.pointerHeight(),a=0,o=0,r){case h:a=t/2,o=-1*i;break;case f:a=t+n,o=e/2;break;case p:a=t/2,o=e+i;break;case d:a=-1*n,o=e/2}s.setAttrs({x:-1*a,y:-1*o,width:t,height:e}),c.setAttrs({x:-1*a,y:-1*o})}},e}(c.Group);e.Label=g,g.prototype.className="Label",u._registerNode(g),a.Collection.mapMethods(g);var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),r=this.height(),n=this.pointerDirection(),a=this.pointerWidth(),o=this.pointerHeight(),i=Math.min(this.cornerRadius(),e/2,r/2);t.beginPath(),i?t.moveTo(i,0):t.moveTo(0,0),n===h&&(t.lineTo((e-a)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+a)/2,0)),i?(t.lineTo(e-i,0),t.arc(e-i,i,i,3*Math.PI/2,0,!1)):t.lineTo(e,0),n===f&&(t.lineTo(e,(r-o)/2),t.lineTo(e+a,r/2),t.lineTo(e,(r+o)/2)),i?(t.lineTo(e,r-i),t.arc(e-i,r-i,i,0,Math.PI/2,!1)):t.lineTo(e,r),n===p&&(t.lineTo((e+a)/2,r),t.lineTo(e/2,r+o),t.lineTo((e-a)/2,r)),i?(t.lineTo(i,r),t.arc(i,r-i,i,Math.PI/2,Math.PI,!1)):t.lineTo(0,r),n===d&&(t.lineTo(0,(r+o)/2),t.lineTo(-1*a,r/2),t.lineTo(0,(r-o)/2)),i&&(t.lineTo(0,i),t.arc(i,i,i,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,r=this.pointerWidth(),n=this.pointerHeight(),a=this.pointerDirection(),o=this.width(),i=this.height();return a===h?(e-=n,i+=n):a===p?i+=n:a===d?(t-=1.5*r,o+=r):a===f&&(o+=1.5*r),{x:t,y:e,width:o,height:i}},e}(i.Shape);e.Tag=v,v.prototype.className="Tag",u._registerNode(v),o.Factory.addGetterSetter(v,"pointerDirection","none"),o.Factory.addGetterSetter(v,"pointerWidth",0,s.getNumberValidator()),o.Factory.addGetterSetter(v,"pointerHeight",0,s.getNumberValidator()),o.Factory.addGetterSetter(v,"cornerRadius",0,s.getNumberValidator()),a.Collection.mapMethods(v)},1384:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),a=0;for(e=0;e<r;e++)for(var o=arguments[e],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n};Object.defineProperty(e,"__esModule",{value:!0});var o=r(2264),i=r(6534),c=r(9132),s=r(8999),u=r(2683),l=function(t){function e(e){var r=t.call(this,e)||this;return r.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),r}return n(e,t),e.prototype._sceneFunc=function(t){var e,r,n,a=this.points(),o=a.length,i=this.tension(),c=this.closed(),s=this.bezier();if(o){if(t.beginPath(),t.moveTo(a[0],a[1]),0!==i&&o>4){for(r=(e=this.getTensionPoints()).length,n=c?0:4,c||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);n<r-2;)t.bezierCurveTo(e[n++],e[n++],e[n++],e[n++],e[n++],e[n++]);c||t.quadraticCurveTo(e[r-2],e[r-1],a[o-2],a[o-1])}else if(s)for(n=2;n<o;)t.bezierCurveTo(a[n++],a[n++],a[n++],a[n++],a[n++],a[n++]);else for(n=2;n<o;n+=2)t.lineTo(a[n],a[n+1]);c?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():o.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,r=this.tension(),n=o.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],r),a=o.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],r),i=o.Util._expandPoints(t,r);return[n[2],n[3]].concat(i).concat([a[0],a[1],t[e-2],t[e-1],a[2],a[3],n[0],n[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,r,n=(t=0!==this.tension()?a([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points())[0],o=t[0],i=t[1],c=t[1],s=0;s<t.length/2;s++)e=t[2*s],r=t[2*s+1],n=Math.min(n,e),o=Math.max(o,e),i=Math.min(i,r),c=Math.max(c,r);return{x:Math.round(n),y:Math.round(i),width:Math.round(o-n),height:Math.round(c-i)}},e}(c.Shape);e.Line=l,l.prototype.className="Line",l.prototype._attrsAffectingSize=["points","bezier","tension"],u._registerNode(l),i.Factory.addGetterSetter(l,"closed",!1),i.Factory.addGetterSetter(l,"bezier",!1),i.Factory.addGetterSetter(l,"tension",0,s.getNumberValidator()),i.Factory.addGetterSetter(l,"points",[],s.getNumberArrayValidator()),o.Collection.mapMethods(l)},5355:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(2683),s=function(t){function e(r){var n=t.call(this,r)||this;n.dataArray=[],n.pathLength=0,n.dataArray=e.parsePathData(n.data()),n.pathLength=0;for(var a=0;a<n.dataArray.length;++a)n.pathLength+=n.dataArray[a].pathLength;return n.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),n}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var r=0;r<e.length;r++){var n=e[r].command,a=e[r].points;switch(n){case"L":t.lineTo(a[0],a[1]);break;case"M":t.moveTo(a[0],a[1]);break;case"C":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":t.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],i=a[1],c=a[2],s=a[3],u=a[4],l=a[5],h=a[6],f=a[7],p=c>s?c:s,d=c>s?1:c/s,y=c>s?s/c:1;t.translate(o,i),t.rotate(h),t.scale(d,y),t.arc(0,0,p,u,u+l,1-f),t.scale(1/d,1/y),t.rotate(-h),t.translate(-o,-i);break;case"z":t.closePath()}}t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(r){if("A"===r.command){var n=r.points[4],a=r.points[5],o=r.points[4]+a,i=Math.PI/180;if(Math.abs(n-o)<i&&(i=Math.abs(n-o)),a<0)for(var c=n-i;c>o;c-=i){var s=e.getPointOnEllipticalArc(r.points[0],r.points[1],r.points[2],r.points[3],c,0);t.push(s.x,s.y)}else for(c=n+i;c<o;c+=i){s=e.getPointOnEllipticalArc(r.points[0],r.points[1],r.points[2],r.points[3],c,0);t.push(s.x,s.y)}}else if("C"===r.command)for(c=0;c<=1;c+=.01){s=e.getPointOnCubicBezier(c,r.start.x,r.start.y,r.points[0],r.points[1],r.points[2],r.points[3],r.points[4],r.points[5]);t.push(s.x,s.y)}else t=t.concat(r.points)}));for(var r,n,a=t[0],o=t[0],i=t[1],c=t[1],s=0;s<t.length/2;s++)r=t[2*s],n=t[2*s+1],isNaN(r)||(a=Math.min(a,r),o=Math.max(o,r)),isNaN(n)||(i=Math.min(i,n),c=Math.max(c,n));return{x:Math.round(a),y:Math.round(i),width:Math.round(o-a),height:Math.round(c-i)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var r,n=0,a=this.dataArray.length;if(!a)return null;for(;n<a&&t>this.dataArray[n].pathLength;)t-=this.dataArray[n].pathLength,++n;if(n===a)return{x:(r=this.dataArray[n-1].points.slice(-2))[0],y:r[1]};if(t<.01)return{x:(r=this.dataArray[n].points.slice(0,2))[0],y:r[1]};var o=this.dataArray[n],i=o.points;switch(o.command){case"L":return e.getPointOnLine(t,o.start.x,o.start.y,i[0],i[1]);case"C":return e.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,i[0],i[1],i[2],i[3],i[4],i[5]);case"Q":return e.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,i[0],i[1],i[2],i[3]);case"A":var c=i[0],s=i[1],u=i[2],l=i[3],h=i[4],f=i[5],p=i[6];return h+=f*t/o.pathLength,e.getPointOnEllipticalArc(c,s,u,l,h,p)}return null},e.getLineLength=function(t,e,r,n){return Math.sqrt((r-t)*(r-t)+(n-e)*(n-e))},e.getPointOnLine=function(t,e,r,n,a,o,i){void 0===o&&(o=e),void 0===i&&(i=r);var c=(a-r)/(n-e+1e-8),s=Math.sqrt(t*t/(1+c*c));n<e&&(s*=-1);var u,l=c*s;if(n===e)u={x:o,y:i+l};else if((i-r)/(o-e+1e-8)===c)u={x:o+s,y:i+l};else{var h,f,p=this.getLineLength(e,r,n,a);if(p<1e-8)return;var d=(o-e)*(n-e)+(i-r)*(a-r);h=e+(d/=p*p)*(n-e),f=r+d*(a-r);var y=this.getLineLength(o,i,h,f),g=Math.sqrt(t*t-y*y);s=Math.sqrt(g*g/(1+c*c)),n<e&&(s*=-1),u={x:h+s,y:f+(l=c*s)}}return u},e.getPointOnCubicBezier=function(t,e,r,n,a,o,i,c,s){function u(t){return t*t*t}function l(t){return 3*t*t*(1-t)}function h(t){return 3*t*(1-t)*(1-t)}function f(t){return(1-t)*(1-t)*(1-t)}return{x:c*u(t)+o*l(t)+n*h(t)+e*f(t),y:s*u(t)+i*l(t)+a*h(t)+r*f(t)}},e.getPointOnQuadraticBezier=function(t,e,r,n,a,o,i){function c(t){return t*t}function s(t){return 2*t*(1-t)}function u(t){return(1-t)*(1-t)}return{x:o*c(t)+n*s(t)+e*u(t),y:i*c(t)+a*s(t)+r*u(t)}},e.getPointOnEllipticalArc=function(t,e,r,n,a,o){var i=Math.cos(o),c=Math.sin(o),s=r*Math.cos(a),u=n*Math.sin(a);return{x:t+(s*i-u*c),y:e+(s*c+u*i)}},e.parsePathData=function(t){if(!t)return[];var e=t,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var n=0;n<r.length;n++)e=e.replace(new RegExp(r[n],"g"),"|"+r[n]);var a,o=e.split("|"),i=[],c=[],s=0,u=0,l=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(n=1;n<o.length;n++){var h=o[n],f=h.charAt(0);for(h=h.slice(1),c.length=0;a=l.exec(h);)c.push(a[0]);for(var p=[],d=0,y=c.length;d<y;d++){var g=parseFloat(c[d]);isNaN(g)?p.push(0):p.push(g)}for(;p.length>0&&!isNaN(p[0]);){var v,m,_,b,O,w,k,x,R,A,E=null,S=[],C=s,L=u;switch(f){case"l":s+=p.shift(),u+=p.shift(),E="L",S.push(s,u);break;case"L":s=p.shift(),u=p.shift(),S.push(s,u);break;case"m":var D=p.shift(),T=p.shift();if(s+=D,u+=T,E="M",i.length>2&&"z"===i[i.length-1].command)for(var N=i.length-2;N>=0;N--)if("M"===i[N].command){s=i[N].points[0]+D,u=i[N].points[1]+T;break}S.push(s,u),f="l";break;case"M":s=p.shift(),u=p.shift(),E="M",S.push(s,u),f="L";break;case"h":s+=p.shift(),E="L",S.push(s,u);break;case"H":s=p.shift(),E="L",S.push(s,u);break;case"v":u+=p.shift(),E="L",S.push(s,u);break;case"V":u=p.shift(),E="L",S.push(s,u);break;case"C":S.push(p.shift(),p.shift(),p.shift(),p.shift()),s=p.shift(),u=p.shift(),S.push(s,u);break;case"c":S.push(s+p.shift(),u+p.shift(),s+p.shift(),u+p.shift()),s+=p.shift(),u+=p.shift(),E="C",S.push(s,u);break;case"S":m=s,_=u,"C"===(v=i[i.length-1]).command&&(m=s+(s-v.points[2]),_=u+(u-v.points[3])),S.push(m,_,p.shift(),p.shift()),s=p.shift(),u=p.shift(),E="C",S.push(s,u);break;case"s":m=s,_=u,"C"===(v=i[i.length-1]).command&&(m=s+(s-v.points[2]),_=u+(u-v.points[3])),S.push(m,_,s+p.shift(),u+p.shift()),s+=p.shift(),u+=p.shift(),E="C",S.push(s,u);break;case"Q":S.push(p.shift(),p.shift()),s=p.shift(),u=p.shift(),S.push(s,u);break;case"q":S.push(s+p.shift(),u+p.shift()),s+=p.shift(),u+=p.shift(),E="Q",S.push(s,u);break;case"T":m=s,_=u,"Q"===(v=i[i.length-1]).command&&(m=s+(s-v.points[0]),_=u+(u-v.points[1])),s=p.shift(),u=p.shift(),E="Q",S.push(m,_,s,u);break;case"t":m=s,_=u,"Q"===(v=i[i.length-1]).command&&(m=s+(s-v.points[0]),_=u+(u-v.points[1])),s+=p.shift(),u+=p.shift(),E="Q",S.push(m,_,s,u);break;case"A":b=p.shift(),O=p.shift(),w=p.shift(),k=p.shift(),x=p.shift(),R=s,A=u,s=p.shift(),u=p.shift(),E="A",S=this.convertEndpointToCenterParameterization(R,A,s,u,k,x,b,O,w);break;case"a":b=p.shift(),O=p.shift(),w=p.shift(),k=p.shift(),x=p.shift(),R=s,A=u,s+=p.shift(),u+=p.shift(),E="A",S=this.convertEndpointToCenterParameterization(R,A,s,u,k,x,b,O,w)}i.push({command:E||f,points:S,start:{x:C,y:L},pathLength:this.calcLength(C,L,E||f,S)})}"z"!==f&&"Z"!==f||i.push({command:"z",points:[],start:void 0,pathLength:0})}return i},e.calcLength=function(t,r,n,a){var o,i,c,s,u=e;switch(n){case"L":return u.getLineLength(t,r,a[0],a[1]);case"C":for(o=0,i=u.getPointOnCubicBezier(0,t,r,a[0],a[1],a[2],a[3],a[4],a[5]),s=.01;s<=1;s+=.01)c=u.getPointOnCubicBezier(s,t,r,a[0],a[1],a[2],a[3],a[4],a[5]),o+=u.getLineLength(i.x,i.y,c.x,c.y),i=c;return o;case"Q":for(o=0,i=u.getPointOnQuadraticBezier(0,t,r,a[0],a[1],a[2],a[3]),s=.01;s<=1;s+=.01)c=u.getPointOnQuadraticBezier(s,t,r,a[0],a[1],a[2],a[3]),o+=u.getLineLength(i.x,i.y,c.x,c.y),i=c;return o;case"A":o=0;var l=a[4],h=a[5],f=a[4]+h,p=Math.PI/180;if(Math.abs(l-f)<p&&(p=Math.abs(l-f)),i=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],l,0),h<0)for(s=l-p;s>f;s-=p)c=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],s,0),o+=u.getLineLength(i.x,i.y,c.x,c.y),i=c;else for(s=l+p;s<f;s+=p)c=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],s,0),o+=u.getLineLength(i.x,i.y,c.x,c.y),i=c;return c=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],f,0),o+=u.getLineLength(i.x,i.y,c.x,c.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,r,n,a,o,i,c,s){var u=s*(Math.PI/180),l=Math.cos(u)*(t-r)/2+Math.sin(u)*(e-n)/2,h=-1*Math.sin(u)*(t-r)/2+Math.cos(u)*(e-n)/2,f=l*l/(i*i)+h*h/(c*c);f>1&&(i*=Math.sqrt(f),c*=Math.sqrt(f));var p=Math.sqrt((i*i*(c*c)-i*i*(h*h)-c*c*(l*l))/(i*i*(h*h)+c*c*(l*l)));a===o&&(p*=-1),isNaN(p)&&(p=0);var d=p*i*h/c,y=p*-c*l/i,g=(t+r)/2+Math.cos(u)*d-Math.sin(u)*y,v=(e+n)/2+Math.sin(u)*d+Math.cos(u)*y,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},b=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},O=b([1,0],[(l-d)/i,(h-y)/c]),w=[(l-d)/i,(h-y)/c],k=[(-1*l-d)/i,(-1*h-y)/c],x=b(w,k);return _(w,k)<=-1&&(x=Math.PI),_(w,k)>=1&&(x=0),0===o&&x>0&&(x-=2*Math.PI),1===o&&x<0&&(x+=2*Math.PI),[g,v,i,c,O,x,u,o]},e}(i.Shape);e.Path=s,s.prototype.className="Path",s.prototype._attrsAffectingSize=["data"],c._registerNode(s),o.Factory.addGetterSetter(s,"data"),a.Collection.mapMethods(s)},8240:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(2683),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),r=this.width(),n=this.height();if(t.beginPath(),e){var a=0,o=0,i=0,c=0;"number"===typeof e?a=o=i=c=Math.min(e,r/2,n/2):(a=Math.min(e[0],r/2,n/2),o=Math.min(e[1],r/2,n/2),c=Math.min(e[2],r/2,n/2),i=Math.min(e[3],r/2,n/2)),t.moveTo(a,0),t.lineTo(r-o,0),t.arc(r-o,o,o,3*Math.PI/2,0,!1),t.lineTo(r,n-c),t.arc(r-c,n-c,c,0,Math.PI/2,!1),t.lineTo(i,n),t.arc(i,n-i,i,Math.PI/2,Math.PI,!1),t.lineTo(0,a),t.arc(a,a,a,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,r,n);t.closePath(),t.fillStrokeShape(this)},e}(i.Shape);e.Rect=s,s.prototype.className="Rect",c._registerNode(s),o.Factory.addGetterSetter(s,"cornerRadius",0),a.Collection.mapMethods(s)},9237:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(8999),s=r(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e,r,n,a=this.sides(),o=this.radius();for(t.beginPath(),t.moveTo(0,0-o),e=1;e<a;e++)r=o*Math.sin(2*e*Math.PI/a),n=-1*o*Math.cos(2*e*Math.PI/a),t.lineTo(r,n);t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(i.Shape);e.RegularPolygon=u,u.prototype.className="RegularPolygon",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],s._registerNode(u),o.Factory.addGetterSetter(u,"radius",0,c.getNumberValidator()),o.Factory.addGetterSetter(u,"sides",0,c.getNumberValidator()),a.Collection.mapMethods(u)},1623:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(8999),s=r(2683),u=2*Math.PI,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,u,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),u,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(i.Shape);e.Ring=l,l.prototype.className="Ring",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],s._registerNode(l),o.Factory.addGetterSetter(l,"innerRadius",0,c.getNumberValidator()),o.Factory.addGetterSetter(l,"outerRadius",0,c.getNumberValidator()),a.Collection.mapMethods(l)},462:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(8660),s=r(8999),u=r(2683),l=function(t){function e(e){var r=t.call(this,e)||this;return r._updated=!0,r.anim=new c.Animation((function(){var t=r._updated;return r._updated=!1,t})),r.on("animationChange.konva",(function(){this.frameIndex(0)})),r.on("frameIndexChange.konva",(function(){this._updated=!0})),r.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),r}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),r=this.frameIndex(),n=4*r,a=this.animations()[e],o=this.frameOffsets(),i=a[n+0],c=a[n+1],s=a[n+2],u=a[n+3],l=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,s,u),t.closePath(),t.fillStrokeShape(this)),l)if(o){var h=o[e],f=2*r;t.drawImage(l,i,c,s,u,h[f+0],h[f+1],s,u)}else t.drawImage(l,i,c,s,u,0,0,s,u)},e.prototype._hitFunc=function(t){var e=this.animation(),r=this.frameIndex(),n=4*r,a=this.animations()[e],o=this.frameOffsets(),i=a[n+2],c=a[n+3];if(t.beginPath(),o){var s=o[e],u=2*r;t.rect(s[u+0],s[u+1],i,c)}else t.rect(0,0,i,c);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(i.Shape);e.Sprite=l,l.prototype.className="Sprite",u._registerNode(l),o.Factory.addGetterSetter(l,"animation"),o.Factory.addGetterSetter(l,"animations"),o.Factory.addGetterSetter(l,"frameOffsets"),o.Factory.addGetterSetter(l,"image"),o.Factory.addGetterSetter(l,"frameIndex",0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"frameRate",17,s.getNumberValidator()),o.Factory.backCompat(l,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),a.Collection.mapMethods(l)},9954:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(8999),s=r(2683),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),r=this.outerRadius(),n=this.numPoints();t.beginPath(),t.moveTo(0,0-r);for(var a=1;a<2*n;a++){var o=a%2===0?r:e,i=o*Math.sin(a*Math.PI/n),c=-1*o*Math.cos(a*Math.PI/n);t.lineTo(i,c)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(i.Shape);e.Star=u,u.prototype.className="Star",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],s._registerNode(u),o.Factory.addGetterSetter(u,"numPoints",5,c.getNumberValidator()),o.Factory.addGetterSetter(u,"innerRadius",0,c.getNumberValidator()),o.Factory.addGetterSetter(u,"outerRadius",0,c.getNumberValidator()),a.Collection.mapMethods(u)},5215:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a,o=r(2264),i=r(6534),c=r(9132),s=r(2683),u=r(8999),l=r(2683),h="auto",f="justify",p="left",d="middle",y="normal",g=" ",v=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],m=v.length;function _(){return a||(a=o.Util.createCanvasElement().getContext("2d"))}String.prototype.trimRight;var b=function(t){function e(e){var r=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;r._partialTextX=0,r._partialTextY=0;for(var n=0;n<m;n++)r.on(v[n]+"Change.konva",r._setTextData);return r._setTextData(),r}return n(e,t),e.prototype._sceneFunc=function(t){var e,r=this.padding(),n=this.fontSize(),a=this.lineHeight()*n,o=this.textArr,i=o.length,c=this.verticalAlign(),s=0,u=this.align(),l=this.getWidth(),h=this.letterSpacing(),y=this.fill(),g=this.textDecoration(),v=-1!==g.indexOf("underline"),m=-1!==g.indexOf("line-through"),_=0,b=(_=a/2,0),O=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",d),t.setAttr("textAlign",p),c===d?s=(this.getHeight()-i*a-2*r)/2:"bottom"===c&&(s=this.getHeight()-i*a-2*r),t.translate(r,s+r),e=0;e<i;e++){b=0,O=0;var w,k,x,R=o[e],A=R.text,E=R.width,S=e!==i-1;if(t.save(),"right"===u?b+=l-E-2*r:"center"===u&&(b+=(l-E-2*r)/2),v&&(t.save(),t.beginPath(),t.moveTo(b,_+O+Math.round(n/2)),k=0===(w=A.split(" ").length-1),x=u===f&&S&&!k?l-2*r:E,t.lineTo(b+Math.round(x),_+O+Math.round(n/2)),t.lineWidth=n/15,t.strokeStyle=y,t.stroke(),t.restore()),m&&(t.save(),t.beginPath(),t.moveTo(b,_+O),k=0===(w=A.split(" ").length-1),x=u===f&&S&&!k?l-2*r:E,t.lineTo(b+Math.round(x),_+O),t.lineWidth=n/15,t.strokeStyle=y,t.stroke(),t.restore()),0!==h||u===f){w=A.split(" ").length-1;for(var C=0;C<A.length;C++){var L=A[C];" "===L&&e!==i-1&&u===f&&(b+=Math.floor((l-2*r-E)/w)),this._partialTextX=b,this._partialTextY=_+O,this._partialText=L,t.fillStrokeShape(this),b+=Math.round(this.measureSize(L).width)+h}}else this._partialTextX=b,this._partialTextY=_+O,this._partialText=A,t.fillStrokeShape(this);t.restore(),i>1&&(_+=a)}},e.prototype._hitFunc=function(t){var e=this.getWidth(),r=this.getHeight();t.beginPath(),t.rect(0,0,e,r),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=o.Util._isString(t)?t:null===t||void 0===t?"":t+"";return this._setAttr("text",e),this},e.prototype.getWidth=function(){return this.attrs.width===h||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return this.attrs.height===h||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,r=_(),n=this.fontSize();return r.save(),r.font=this._getContextFont(),e=r.measureText(t),r.restore(),{width:e.width,height:n}},e.prototype._getContextFont=function(){return s.Konva.UA.isIE?this.fontStyle()+g+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+g+this.fontVariant()+g+this.fontSize()+"px "+this.fontFamily()},e.prototype._addTextLine=function(t){this.align()===f&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),r=t.length;return _().measureText(t).width+(r?e*(r-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),r=0,n=this.lineHeight()*e,a=this.attrs.width,o=this.attrs.height,i=a!==h&&void 0!==a,c=o!==h&&void 0!==o,s=this.padding(),u=a-2*s,l=o-2*s,f=0,p=this.wrap(),d="none"!==p,y="char"!==p&&d,v=this.ellipsis()&&!d;this.textArr=[],_().font=this._getContextFont();for(var m=v?this._getTextWidth("\u2026"):0,b=0,O=t.length;b<O;++b){var w=t[b],k=this._getTextWidth(w);if(i&&k>u)for(;w.length>0;){for(var x=0,R=w.length,A="",E=0;x<R;){var S=x+R>>>1,C=w.slice(0,S+1),L=this._getTextWidth(C)+m;L<=u?(x=S+1,A=C+(v?"\u2026":""),E=L):R=S}if(!A)break;if(y){var D,T=w[A.length];(D=(T===g||"-"===T)&&E<=u?A.length:Math.max(A.lastIndexOf(g),A.lastIndexOf("-"))+1)>0&&(x=D,A=A.slice(0,x),E=this._getTextWidth(A))}if(A=A.trimRight(),this._addTextLine(A),r=Math.max(r,E),f+=n,!d||c&&f+n>l)break;if((w=(w=w.slice(x)).trimLeft()).length>0&&(k=this._getTextWidth(w))<=u){this._addTextLine(w),f+=n,r=Math.max(r,k);break}}else this._addTextLine(w),f+=n,r=Math.max(r,k);if(c&&f+n>l)break}this.textHeight=e,this.textWidth=r},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(c.Shape);e.Text=b,b.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},b.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},b.prototype.className="Text",b.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],l._registerNode(b),i.Factory.overWriteSetter(b,"width",u.getNumberOrAutoValidator()),i.Factory.overWriteSetter(b,"height",u.getNumberOrAutoValidator()),i.Factory.addGetterSetter(b,"fontFamily","Arial"),i.Factory.addGetterSetter(b,"fontSize",12,u.getNumberValidator()),i.Factory.addGetterSetter(b,"fontStyle",y),i.Factory.addGetterSetter(b,"fontVariant",y),i.Factory.addGetterSetter(b,"padding",0,u.getNumberValidator()),i.Factory.addGetterSetter(b,"align",p),i.Factory.addGetterSetter(b,"verticalAlign","top"),i.Factory.addGetterSetter(b,"lineHeight",1,u.getNumberValidator()),i.Factory.addGetterSetter(b,"wrap","word"),i.Factory.addGetterSetter(b,"ellipsis",!1),i.Factory.addGetterSetter(b,"letterSpacing",0,u.getNumberValidator()),i.Factory.addGetterSetter(b,"text","",u.getStringValidator()),i.Factory.addGetterSetter(b,"textDecoration",""),o.Collection.mapMethods(b)},9667:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(5355),s=r(5215),u=r(8999),l=r(2683),h="normal";function f(t){t.fillText(this.partialText,0,0)}function p(t){t.strokeText(this.partialText,0,0)}var d=function(t){function e(e){var r=t.call(this,e)||this;return r.dummyCanvas=a.Util.createCanvasElement(),r.dataArray=[],r.dataArray=c.Path.parsePathData(r.attrs.data),r.on("dataChange.konva",(function(){this.dataArray=c.Path.parsePathData(this.attrs.data),this._setTextData()})),r.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",r._setTextData),e&&e.getKerning&&(a.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),r.kerningFunc(e.getKerning)),r._setTextData(),r}return n(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),r=this.fill(),n=this.fontSize(),a=this.glyphInfo;"underline"===e&&t.beginPath();for(var o=0;o<a.length;o++){t.save();var i=a[o].p0;t.translate(i.x,i.y),t.rotate(a[o].rotation),this.partialText=a[o].text,t.fillStrokeShape(this),"underline"===e&&(0===o&&t.moveTo(0,n/2+1),t.lineTo(n,n/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=r,t.lineWidth=n/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var r=e[0].p0;t.moveTo(r.x,r.y)}for(var n=0;n<e.length;n++){var a=e[n].p1;t.lineTo(a.x,a.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return s.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return s.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var r=e.measureText(t);return e.restore(),{width:r.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),r=this.letterSpacing(),n=this.align(),a=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var i=0,s=0;s<t.dataArray.length;s++)t.dataArray[s].pathLength>0&&(i+=t.dataArray[s].pathLength);var u=0;"center"===n&&(u=Math.max(0,i/2-o/2)),"right"===n&&(u=Math.max(0,i-o));for(var l,h,f,p=this.text().split(""),d=this.text().split(" ").length-1,y=-1,g=0,v=function(){g=0;for(var e=t.dataArray,r=y+1;r<e.length;r++){if(e[r].pathLength>0)return y=r,e[r];"M"===e[r].command&&(l={x:e[r].points[0],y:e[r].points[1]})}return{}},m=function(e){var a=t._getTextSize(e).width+r;" "===e&&"justify"===n&&(a+=(i-o)/d);var s=0,u=0;for(h=void 0;Math.abs(a-s)/a>.01&&u<25;){u++;for(var p=s;void 0===f;)(f=v())&&p+f.pathLength<a&&(p+=f.pathLength,f=void 0);if(f==={}||void 0===l)return;var y=!1;switch(f.command){case"L":c.Path.getLineLength(l.x,l.y,f.points[0],f.points[1])>a?h=c.Path.getPointOnLine(a,l.x,l.y,f.points[0],f.points[1],l.x,l.y):f=void 0;break;case"A":var m=f.points[4],_=f.points[5],b=f.points[4]+_;0===g?g=m+1e-8:a>s?g+=Math.PI/180*_/Math.abs(_):g-=Math.PI/360*_/Math.abs(_),(_<0&&g<b||_>=0&&g>b)&&(g=b,y=!0),h=c.Path.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],g,f.points[6]);break;case"C":0===g?g=a>f.pathLength?1e-8:a/f.pathLength:a>s?g+=(a-s)/f.pathLength:g-=(s-a)/f.pathLength,g>1&&(g=1,y=!0),h=c.Path.getPointOnCubicBezier(g,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);break;case"Q":0===g?g=a/f.pathLength:a>s?g+=(a-s)/f.pathLength:g-=(s-a)/f.pathLength,g>1&&(g=1,y=!0),h=c.Path.getPointOnQuadraticBezier(g,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3])}void 0!==h&&(s=c.Path.getLineLength(l.x,l.y,h.x,h.y)),y&&(y=!1,f=void 0)}},_=u/(t._getTextSize("C").width+r)-1,b=0;b<_&&(m("C"),void 0!==l&&void 0!==h);b++)l=h;for(var O=0;O<p.length&&(m(p[O]),void 0!==l&&void 0!==h);O++){var w=c.Path.getLineLength(l.x,l.y,h.x,h.y),k=0;if(a)try{k=a(p[O-1],p[O])*this.fontSize()}catch(A){k=0}l.x+=k,h.x+=k,this.textWidth+=k;var x=c.Path.getPointOnLine(k+w/2,l.x,l.y,h.x,h.y),R=Math.atan2(h.y-l.y,h.x-l.x);this.glyphInfo.push({transposeX:x.x,transposeY:x.y,text:p[O],rotation:R,p0:l,p1:h}),l=h}},e.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,r,n=t[0]||0,a=t[0]||0,o=t[1]||0,i=t[1]||0,c=0;c<t.length/2;c++)e=t[2*c],r=t[2*c+1],n=Math.min(n,e),a=Math.max(a,e),o=Math.min(o,r),i=Math.max(i,r);var s=this.fontSize();return{x:Math.round(n)-s/2,y:Math.round(o)-s/2,width:Math.round(a-n)+s,height:Math.round(i-o)+s}},e}(i.Shape);e.TextPath=d,d.prototype._fillFunc=f,d.prototype._strokeFunc=p,d.prototype._fillFuncHit=f,d.prototype._strokeFuncHit=p,d.prototype.className="TextPath",d.prototype._attrsAffectingSize=["text","fontSize","data"],l._registerNode(d),o.Factory.addGetterSetter(d,"data"),o.Factory.addGetterSetter(d,"fontFamily","Arial"),o.Factory.addGetterSetter(d,"fontSize",12,u.getNumberValidator()),o.Factory.addGetterSetter(d,"fontStyle",h),o.Factory.addGetterSetter(d,"align","left"),o.Factory.addGetterSetter(d,"letterSpacing",0,u.getNumberValidator()),o.Factory.addGetterSetter(d,"textBaseline","middle"),o.Factory.addGetterSetter(d,"fontVariant",h),o.Factory.addGetterSetter(d,"text",""),o.Factory.addGetterSetter(d,"textDecoration",null),o.Factory.addGetterSetter(d,"kerningFunc",null),a.Collection.mapMethods(d)},9382:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(2585),c=r(9132),s=r(8240),u=r(7675),l=r(2683),h=r(8999),f=r(2683),p="tr-konva",d=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+"."+p})).join(" "),y="nodeRect",g=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+"."+p})).join(" "),v={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},m="ontouchstart"in l.Konva._global;var _=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],b=function(t){function e(e){var r=t.call(this,e)||this;return r._transforming=!1,r._createElements(),r._handleMouseMove=r._handleMouseMove.bind(r),r._handleMouseUp=r._handleMouseUp.bind(r),r.update=r.update.bind(r),r.on(d,r.update),r.getNode()&&r.update(),r}return n(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){var e=this;this._node&&this.detach(),this._node=t,this._resetTransformCache();var r=t._attrsAffectingSize.map((function(t){return t+"Change."+p})).join(" "),n=function(){e._resetTransformCache(),e._transforming||e.update()};return t.on(r,n),t.on(g,n),t.on("xChange."+p+" yChange."+p,(function(){return e._resetTransformCache()})),!!this.findOne(".top-left")&&this.update(),this},e.prototype.getNode=function(){return this._node},e.prototype.detach=function(){this.getNode()&&(this.getNode().off("."+p),this._node=void 0),this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache(y),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache(y,this.__getNodeRect)},e.prototype.__getNodeRect=function(){var t=this.getNode();if(!t)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};t.parent&&this.parent&&t.parent!==this.parent&&a.Util.warn("Transformer and attached node have different parents. Konva does not support such case right now. Please move Transformer to the parent of attaching node.");var e=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=l.Konva.getAngle(t.rotation()),n=e.x*t.scaleX()-t.offsetX()*t.scaleX(),o=e.y*t.scaleY()-t.offsetY()*t.scaleY();return{x:t.x()+n*Math.cos(r)+o*Math.sin(-r),y:t.y()+o*Math.cos(r)+n*Math.sin(r),width:e.width*t.scaleX(),height:e.height*t.scaleY(),rotation:t.rotation()}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getRotation=function(){return this._getNodeRect().rotation},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),_.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,r=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),n=this;r.on("mousedown touchstart",(function(t){n._handleMouseDown(t)})),r.on("dragstart",(function(t){t.cancelBubble=!0})),r.on("dragmove",(function(t){t.cancelBubble=!0})),r.on("dragend",(function(t){t.cancelBubble=!0})),r.on("mouseenter",(function(){var n=l.Konva.getAngle(e.getAbsoluteRotation()),o=e.getNode().getAbsoluteScale(),i=o.y*o.x<0,c=function(t,e,r){if("rotater"===t)return"crosshair";e+=a.Util._degToRad(v[t]||0),r&&(e*=-1);var n=(a.Util._radToDeg(e)%360+360)%360;return a.Util._inRange(n,337.5,360)||a.Util._inRange(n,0,22.5)?"ns-resize":a.Util._inRange(n,22.5,67.5)?"nesw-resize":a.Util._inRange(n,67.5,112.5)?"ew-resize":a.Util._inRange(n,112.5,157.5)?"nwse-resize":a.Util._inRange(n,157.5,202.5)?"ns-resize":a.Util._inRange(n,202.5,247.5)?"nesw-resize":a.Util._inRange(n,247.5,292.5)?"ew-resize":a.Util._inRange(n,292.5,337.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(t,n,i);r.getStage().content.style.cursor=c,e._cursorChange=!0})),r.on("mouseout",(function(){r.getStage()&&r.getParent()&&(r.getStage().content.style.cursor="",e._cursorChange=!1)})),this.add(r)},e.prototype._createBack=function(){var t=new c.Shape({name:"back",width:0,height:0,listening:!1,sceneFunc:function(t){var e=this.getParent(),r=e.padding();t.beginPath(),t.rect(-r,-r,this.width()+2*r,this.height()+2*r),t.moveTo(this.width()/2,-r),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*a.Util._sign(this.height())-r),t.fillStrokeShape(this)}});this.add(t)},e.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),r=e.width,n=e.height,a=Math.sqrt(Math.pow(r,2)+Math.pow(n,2));this.sin=Math.abs(n/a),this.cos=Math.abs(r/a),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0,this._fire("transformstart",{evt:t,target:this.getNode()}),this.getNode()._fire("transformstart",{evt:t,target:this.getNode()})},e.prototype._handleMouseMove=function(t){var e,r,n,o=this.findOne("."+this._movingAnchorName),i=o.getStage();i.setPointersPositions(t),o.setAbsolutePosition(i.getPointerPosition());var c=this.keepRatio()||t.shiftKey,s=this.padding();if("top-left"===this._movingAnchorName){if(c){n=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-o.x()-2*s,2)+Math.pow(this.findOne(".bottom-right").y()-o.y()-2*s,2));var u=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1,h=this.findOne(".top-left").y()>this.findOne(".bottom-right").y()?-1:1;e=n*this.cos*u,r=n*this.sin*h,this.findOne(".top-left").x(this.findOne(".bottom-right").x()-e-2*s),this.findOne(".top-left").y(this.findOne(".bottom-right").y()-r-2*s)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(o.y());else if("top-right"===this._movingAnchorName){if(c){n=Math.sqrt(Math.pow(o.x()-this.findOne(".bottom-left").x()-2*s,2)+Math.pow(this.findOne(".bottom-left").y()-o.y()-2*s,2));u=this.findOne(".top-right").x()<this.findOne(".top-left").x()?-1:1,h=this.findOne(".top-right").y()>this.findOne(".bottom-left").y()?-1:1;e=n*this.cos*u,r=n*this.sin*h,this.findOne(".top-right").x(e+s),this.findOne(".top-right").y(this.findOne(".bottom-left").y()-r-2*s)}var f=o.position();this.findOne(".top-left").y(f.y),this.findOne(".bottom-right").x(f.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(o.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(o.x());else if("bottom-left"===this._movingAnchorName){if(c){n=Math.sqrt(Math.pow(this.findOne(".top-right").x()-o.x()-2*s,2)+Math.pow(o.y()-this.findOne(".top-right").y()-2*s,2));u=this.findOne(".top-right").x()<this.findOne(".bottom-left").x()?-1:1,h=this.findOne(".bottom-right").y()<this.findOne(".top-left").y()?-1:1;e=n*this.cos*u,r=n*this.sin*h,this.findOne(".bottom-left").x(this.findOne(".top-right").x()-e-2*s),this.findOne(".bottom-left").y(r+s)}f=o.position(),this.findOne(".top-left").x(f.x),this.findOne(".bottom-right").y(f.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(o.y());else if("bottom-right"===this._movingAnchorName){if(c){n=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-s,2)+Math.pow(this.findOne(".bottom-right").y()-s,2));u=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1,h=this.findOne(".top-left").y()>this.findOne(".bottom-right").y()?-1:1;e=n*this.cos*u,r=n*this.sin*h,this.findOne(".bottom-right").x(e+s),this.findOne(".bottom-right").y(r+s)}}else if("rotater"===this._movingAnchorName){var p=this._getNodeRect();e=o.x()-p.width/2,r=-o.y()+p.height/2;var d=Math.atan2(-r,e)+Math.PI/2;p.height<0&&(d-=Math.PI);for(var y=l.Konva.getAngle(this.rotation()),g=a.Util._radToDeg(y)+a.Util._radToDeg(d),v=l.Konva.getAngle(this.getNode().rotation()),m=a.Util._degToRad(g),_=this.rotationSnaps(),b=0;b<_.length;b++){var O=l.Konva.getAngle(_[b]);Math.abs(O-a.Util._degToRad(g))%(2*Math.PI)<.1&&(g=a.Util._radToDeg(O),m=a.Util._degToRad(g))}var w=s,k=s;this._fitNodeInto({rotation:l.Konva.angleDeg?g:a.Util._degToRad(g),x:p.x+(p.width/2+s)*(Math.cos(v)-Math.cos(m))+(p.height/2+s)*(Math.sin(-v)-Math.sin(-m))-(w*Math.cos(y)+k*Math.sin(-y)),y:p.y+(p.height/2+s)*(Math.cos(v)-Math.cos(m))+(p.width/2+s)*(Math.sin(v)-Math.sin(m))-(k*Math.cos(y)+w*Math.sin(y)),width:p.width+2*s,height:p.height+2*s},t)}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if("rotater"!==this._movingAnchorName){if(this.centeredScaling()||t.altKey){var x=this.findOne(".top-left"),R=this.findOne(".bottom-right"),A=x.x()+s,E=x.y()+s,S=this.getWidth()-R.x()+s,C=this.getHeight()-R.y()+s;R.move({x:-A,y:-E}),x.move({x:S,y:C})}var L=this.findOne(".top-left").getAbsolutePosition(this.getParent());e=L.x,r=L.y;var D=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),T=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodeInto({x:e+this.offsetX(),y:r+this.offsetY(),width:D,height:T},t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0);var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&e.fire("transformend",{evt:t,target:e})}},e.prototype._fitNodeInto=function(t,e){var r=this.boundBoxFunc();if(r){var n=this._getNodeRect();t=r.call(this,n,t)}var a=this.getNode();void 0!==t.rotation&&this.getNode().rotation(t.rotation);var o=a.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=this.padding(),c=o.width?(t.width-2*i)/o.width:1,s=o.height?(t.height-2*i)/o.height:1,u=l.Konva.getAngle(a.rotation()),h=o.x*c-i-a.offsetX()*c,f=o.y*s-i-a.offsetY()*s;this.getNode().setAttrs({scaleX:c,scaleY:s,x:t.x-(h*Math.cos(u)+f*Math.sin(-u)),y:t.y-(f*Math.cos(u)+h*Math.sin(u))}),this._fire("transform",{evt:e,target:this.getNode()}),this.getNode()._fire("transform",{evt:e,target:this.getNode()}),this.update(),this.getLayer().batchDraw()},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype.update=function(){var t=this,e=this._getNodeRect(),r=this.getNode(),n={x:1,y:1};r&&r.getParent()&&(n=r.getParent().getAbsoluteScale());var o={x:1/n.x,y:1/n.y},i=e.width,c=e.height,s=this.enabledAnchors(),u=this.resizeEnabled(),l=this.padding(),h=this.anchorSize();this.find("._anchor").each((function(e){return e.setAttrs({width:h,height:h,offsetX:h/2,offsetY:h/2,stroke:t.anchorStroke(),strokeWidth:t.anchorStrokeWidth(),fill:t.anchorFill(),cornerRadius:t.anchorCornerRadius()})})),this.findOne(".top-left").setAttrs({x:-l,y:-l,scale:o,visible:u&&s.indexOf("top-left")>=0}),this.findOne(".top-center").setAttrs({x:i/2,y:-l,scale:o,visible:u&&s.indexOf("top-center")>=0}),this.findOne(".top-right").setAttrs({x:i+l,y:-l,scale:o,visible:u&&s.indexOf("top-right")>=0}),this.findOne(".middle-left").setAttrs({x:-l,y:c/2,scale:o,visible:u&&s.indexOf("middle-left")>=0}),this.findOne(".middle-right").setAttrs({x:i+l,y:c/2,scale:o,visible:u&&s.indexOf("middle-right")>=0}),this.findOne(".bottom-left").setAttrs({x:-l,y:c+l,scale:o,visible:u&&s.indexOf("bottom-left")>=0}),this.findOne(".bottom-center").setAttrs({x:i/2,y:c+l,scale:o,visible:u&&s.indexOf("bottom-center")>=0}),this.findOne(".bottom-right").setAttrs({x:i+l,y:c+l,scale:o,visible:u&&s.indexOf("bottom-right")>=0});var f=-this.rotateAnchorOffset()*Math.abs(o.y);this.findOne(".rotater").setAttrs({x:i/2,y:f*a.Util._sign(c)-l,scale:o,visible:this.rotateEnabled()}),this.findOne(".back").setAttrs({width:i*n.x,height:c*n.y,scale:o,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash()})},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),u.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return i.Node.prototype.toObject.call(this)},e}(u.Group);e.Transformer=b,b.prototype.className="Transformer",f._registerNode(b),o.Factory.addGetterSetter(b,"enabledAnchors",_,(function(t){return t instanceof Array||a.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===_.indexOf(t)&&a.Util.warn("Unknown anchor name: "+t+". Available names are: "+_.join(", "))})),t||[]})),o.Factory.addGetterSetter(b,"resizeEnabled",!0),o.Factory.addGetterSetter(b,"anchorSize",10,h.getNumberValidator()),o.Factory.addGetterSetter(b,"rotateEnabled",!0),o.Factory.addGetterSetter(b,"rotationSnaps",[]),o.Factory.addGetterSetter(b,"rotateAnchorOffset",50,h.getNumberValidator()),o.Factory.addGetterSetter(b,"borderEnabled",!0),o.Factory.addGetterSetter(b,"anchorStroke","rgb(0, 161, 255)"),o.Factory.addGetterSetter(b,"anchorStrokeWidth",1,h.getNumberValidator()),o.Factory.addGetterSetter(b,"anchorFill","white"),o.Factory.addGetterSetter(b,"anchorCornerRadius",0,h.getNumberValidator()),o.Factory.addGetterSetter(b,"borderStroke","rgb(0, 161, 255)"),o.Factory.addGetterSetter(b,"borderStrokeWidth",1,h.getNumberValidator()),o.Factory.addGetterSetter(b,"borderDash"),o.Factory.addGetterSetter(b,"keepRatio",!0),o.Factory.addGetterSetter(b,"centeredScaling",!1),o.Factory.addGetterSetter(b,"ignoreStroke",!1),o.Factory.addGetterSetter(b,"padding",0,h.getNumberValidator()),o.Factory.addGetterSetter(b,"node"),o.Factory.addGetterSetter(b,"boundBoxFunc"),o.Factory.backCompat(b,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),a.Collection.mapMethods(b)},8861:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(2264),o=r(6534),i=r(9132),c=r(2683),s=r(8999),u=r(2683),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,c.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(i.Shape);e.Wedge=l,l.prototype.className="Wedge",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],u._registerNode(l),o.Factory.addGetterSetter(l,"radius",0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"angle",0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"clockwise",!1),o.Factory.backCompat(l,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),a.Collection.mapMethods(l)},908:function(t,e,r){var n=r(8136)(r(7009),"DataView");t.exports=n},9676:function(t,e,r){var n=r(5403),a=r(2747),o=r(6037),i=r(4154),c=r(7728);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=c,t.exports=s},2492:function(t,e,r){var n=r(5763),a=r(8807);function o(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=n(a.prototype),o.prototype.constructor=o,t.exports=o},8384:function(t,e,r){var n=r(3894),a=r(8699),o=r(4957),i=r(7184),c=r(7109);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=c,t.exports=s},5598:function(t,e,r){var n=r(5763),a=r(8807);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=n(a.prototype),o.prototype.constructor=o,t.exports=o},5797:function(t,e,r){var n=r(8136)(r(7009),"Map");t.exports=n},8059:function(t,e,r){var n=r(4086),a=r(9255),o=r(9186),i=r(3423),c=r(3739);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=c,t.exports=s},8319:function(t,e,r){var n=r(8136)(r(7009),"Promise");t.exports=n},3924:function(t,e,r){var n=r(8136)(r(7009),"Set");t.exports=n},692:function(t,e,r){var n=r(8059),a=r(5774),o=r(1596);function i(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,t.exports=i},2854:function(t,e,r){var n=r(8384),a=r(511),o=r(835),i=r(707),c=r(8832),s=r(5077);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=a,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=c,u.prototype.set=s,t.exports=u},7197:function(t,e,r){var n=r(7009).Symbol;t.exports=n},6219:function(t,e,r){var n=r(7009).Uint8Array;t.exports=n},7091:function(t,e,r){var n=r(8136)(r(7009),"WeakMap");t.exports=n},3665:function(t){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},4550:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},4903:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,a=0,o=[];++r<n;){var i=t[r];e(i,r,t)&&(o[a++]=i)}return o}},9055:function(t,e,r){var n=r(4842);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},7538:function(t,e,r){var n=r(6478),a=r(4963),o=r(3629),i=r(5174),c=r(6800),s=r(9102),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),l=!r&&a(t),h=!r&&!l&&i(t),f=!r&&!l&&!h&&s(t),p=r||l||h||f,d=p?n(t.length,String):[],y=d.length;for(var g in t)!e&&!u.call(t,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||c(g,y))||d.push(g);return d}},8950:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}},1705:function(t){t.exports=function(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}},7897:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},8463:function(t,e,r){var n=r(2526),a=r(9231),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var i=t[e];o.call(t,e)&&a(i,r)&&(void 0!==r||e in t)||n(t,e,r)}},7112:function(t,e,r){var n=r(9231);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},1855:function(t,e,r){var n=r(4503),a=r(2742);t.exports=function(t,e){return t&&n(e,a(e),t)}},5076:function(t,e,r){var n=r(4503),a=r(3961);t.exports=function(t,e){return t&&n(e,a(e),t)}},2526:function(t,e,r){var n=r(8528);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},1905:function(t,e,r){var n=r(2854),a=r(4550),o=r(8463),i=r(1855),c=r(5076),s=r(4523),u=r(291),l=r(2455),h=r(7636),f=r(8248),p=r(5341),d=r(8383),y=r(9243),g=r(9759),v=r(548),m=r(3629),_=r(5174),b=r(103),O=r(8092),w=r(6995),k=r(2742),x=r(3961),R="[object Arguments]",A="[object Function]",E="[object Object]",S={};S[R]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S[E]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S[A]=S["[object WeakMap]"]=!1,t.exports=function t(e,r,C,L,D,T){var N,P=1&r,G=2&r,U=4&r;if(C&&(N=D?C(e,L,D,T):C(e)),void 0!==N)return N;if(!O(e))return e;var I=m(e);if(I){if(N=y(e),!P)return u(e,N)}else{var M=d(e),F=M==A||"[object GeneratorFunction]"==M;if(_(e))return s(e,P);if(M==E||M==R||F&&!D){if(N=G||F?{}:v(e),!P)return G?h(e,c(N,e)):l(e,i(N,e))}else{if(!S[M])return D?e:{};N=g(e,M,P)}}T||(T=new n);var W=T.get(e);if(W)return W;T.set(e,N),w(e)?e.forEach((function(n){N.add(t(n,r,C,n,e,T))})):b(e)&&e.forEach((function(n,a){N.set(a,t(n,r,C,a,e,T))}));var j=I?void 0:(U?G?p:f:G?x:k)(e);return a(j||e,(function(n,a){j&&(n=e[a=n]),o(N,a,t(n,r,C,a,e,T))})),N}},5763:function(t,e,r){var n=r(8092),a=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(a)return a(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},2045:function(t){t.exports=function(t,e,r,n){for(var a=t.length,o=r+(n?1:-1);n?o--:++o<a;)if(e(t[o],o,t))return o;return-1}},5182:function(t,e,r){var n=r(1705),a=r(3529);t.exports=function t(e,r,o,i,c){var s=-1,u=e.length;for(o||(o=a),c||(c=[]);++s<u;){var l=e[s];r>0&&o(l)?r>1?t(l,r-1,o,i,c):n(c,l):i||(c[c.length]=l)}return c}},8667:function(t,e,r){var n=r(3082),a=r(9793);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[a(e[r++])];return r&&r==o?t:void 0}},1986:function(t,e,r){var n=r(1705),a=r(3629);t.exports=function(t,e,r){var o=e(t);return a(t)?o:n(o,r(t))}},9066:function(t,e,r){var n=r(7197),a=r(1587),o=r(3581),i=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?a(t):o(t)}},529:function(t){t.exports=function(t,e){return null!=t&&e in Object(t)}},4842:function(t,e,r){var n=r(2045),a=r(505),o=r(7167);t.exports=function(t,e,r){return e===e?o(t,e,r):n(t,a,r)}},4906:function(t,e,r){var n=r(9066),a=r(3141);t.exports=function(t){return a(t)&&"[object Arguments]"==n(t)}},1848:function(t,e,r){var n=r(3355),a=r(3141);t.exports=function t(e,r,o,i,c){return e===r||(null==e||null==r||!a(e)&&!a(r)?e!==e&&r!==r:n(e,r,o,i,t,c))}},3355:function(t,e,r){var n=r(2854),a=r(5305),o=r(2206),i=r(8078),c=r(8383),s=r(3629),u=r(5174),l=r(9102),h="[object Arguments]",f="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,y,g,v){var m=s(t),_=s(e),b=m?f:c(t),O=_?f:c(e),w=(b=b==h?p:b)==p,k=(O=O==h?p:O)==p,x=b==O;if(x&&u(t)){if(!u(e))return!1;m=!0,w=!1}if(x&&!w)return v||(v=new n),m||l(t)?a(t,e,r,y,g,v):o(t,e,b,r,y,g,v);if(!(1&r)){var R=w&&d.call(t,"__wrapped__"),A=k&&d.call(e,"__wrapped__");if(R||A){var E=R?t.value():t,S=A?e.value():e;return v||(v=new n),g(E,S,r,y,v)}}return!!x&&(v||(v=new n),i(t,e,r,y,g,v))}},3085:function(t,e,r){var n=r(8383),a=r(3141);t.exports=function(t){return a(t)&&"[object Map]"==n(t)}},8856:function(t,e,r){var n=r(2854),a=r(1848);t.exports=function(t,e,r,o){var i=r.length,c=i,s=!o;if(null==t)return!c;for(t=Object(t);i--;){var u=r[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<c;){var l=(u=r[i])[0],h=t[l],f=u[1];if(s&&u[2]){if(void 0===h&&!(l in t))return!1}else{var p=new n;if(o)var d=o(h,f,l,t,e,p);if(!(void 0===d?a(f,h,3,o,p):d))return!1}}return!0}},505:function(t){t.exports=function(t){return t!==t}},6703:function(t,e,r){var n=r(4786),a=r(257),o=r(8092),i=r(7907),c=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,l=s.toString,h=u.hasOwnProperty,f=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||a(t))&&(n(t)?f:c).test(i(t))}},8680:function(t,e,r){var n=r(8383),a=r(3141);t.exports=function(t){return a(t)&&"[object Set]"==n(t)}},8150:function(t,e,r){var n=r(9066),a=r(4635),o=r(3141),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&a(t.length)&&!!i[n(t)]}},6025:function(t,e,r){var n=r(7080),a=r(4322),o=r(2100),i=r(3629),c=r(38);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?i(t)?a(t[0],t[1]):n(t):c(t)}},3654:function(t,e,r){var n=r(2936),a=r(5964),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return a(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},8664:function(t,e,r){var n=r(8092),a=r(2936),o=r(4221),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=a(t),r=[];for(var c in t)("constructor"!=c||!e&&i.call(t,c))&&r.push(c);return r}},8807:function(t){t.exports=function(){}},7080:function(t,e,r){var n=r(8856),a=r(9091),o=r(284);t.exports=function(t){var e=a(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},4322:function(t,e,r){var n=r(1848),a=r(6181),o=r(5658),i=r(5823),c=r(5072),s=r(284),u=r(9793);t.exports=function(t,e){return i(t)&&c(e)?s(u(t),e):function(r){var i=a(r,t);return void 0===i&&i===e?o(r,t):n(e,i,3)}}},9586:function(t){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},4084:function(t,e,r){var n=r(8667);t.exports=function(t){return function(e){return n(e,t)}}},7026:function(t,e,r){var n=r(2100),a=r(1921),o=a?function(t,e){return a.set(t,e),t}:n;t.exports=o},7532:function(t,e,r){var n=r(1547),a=r(8528),o=r(2100),i=a?function(t,e){return a(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=i},6478:function(t){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},2446:function(t,e,r){var n=r(7197),a=r(8950),o=r(3629),i=r(152),c=n?n.prototype:void 0,s=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return a(e,t)+"";if(i(e))return s?s.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},821:function(t,e,r){var n=r(6050),a=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(a,""):t}},6194:function(t){t.exports=function(t){return function(e){return t(e)}}},75:function(t){t.exports=function(t,e){return t.has(e)}},3082:function(t,e,r){var n=r(3629),a=r(5823),o=r(170),i=r(3518);t.exports=function(t,e){return n(t)?t:a(t,e)?[t]:o(i(t))}},7010:function(t,e,r){var n=r(6219);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},4523:function(t,e,r){t=r.nmd(t);var n=r(7009),a=e&&!e.nodeType&&e,o=a&&t&&!t.nodeType&&t,i=o&&o.exports===a?n.Buffer:void 0,c=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=c?c(r):new t.constructor(r);return t.copy(n),n}},1022:function(t,e,r){var n=r(7010);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},8503:function(t){var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},4720:function(t,e,r){var n=r(7197),a=n?n.prototype:void 0,o=a?a.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},613:function(t,e,r){var n=r(7010);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},6557:function(t){var e=Math.max;t.exports=function(t,r,n,a){for(var o=-1,i=t.length,c=n.length,s=-1,u=r.length,l=e(i-c,0),h=Array(u+l),f=!a;++s<u;)h[s]=r[s];for(;++o<c;)(f||o<i)&&(h[n[o]]=t[o]);for(;l--;)h[s++]=t[o++];return h}},449:function(t){var e=Math.max;t.exports=function(t,r,n,a){for(var o=-1,i=t.length,c=-1,s=n.length,u=-1,l=r.length,h=e(i-s,0),f=Array(h+l),p=!a;++o<h;)f[o]=t[o];for(var d=o;++u<l;)f[d+u]=r[u];for(;++c<s;)(p||o<i)&&(f[d+n[c]]=t[o++]);return f}},291:function(t){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},4503:function(t,e,r){var n=r(8463),a=r(2526);t.exports=function(t,e,r,o){var i=!r;r||(r={});for(var c=-1,s=e.length;++c<s;){var u=e[c],l=o?o(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),i?a(r,u,l):n(r,u,l)}return r}},2455:function(t,e,r){var n=r(4503),a=r(5918);t.exports=function(t,e){return n(t,a(t),e)}},7636:function(t,e,r){var n=r(4503),a=r(8487);t.exports=function(t,e){return n(t,a(t),e)}},5525:function(t,e,r){var n=r(7009)["__core-js_shared__"];t.exports=n},4498:function(t){t.exports=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}},5006:function(t,e,r){var n=r(777),a=r(7009);t.exports=function(t,e,r){var o=1&e,i=n(t);return function e(){var n=this&&this!==a&&this instanceof e?i:t;return n.apply(o?r:this,arguments)}}},777:function(t,e,r){var n=r(5763),a=r(8092);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=n(t.prototype),o=t.apply(r,e);return a(o)?o:r}}},3884:function(t,e,r){var n=r(3665),a=r(777),o=r(997),i=r(5607),c=r(3885),s=r(2784),u=r(7009);t.exports=function(t,e,r){var l=a(t);return function a(){for(var h=arguments.length,f=Array(h),p=h,d=c(a);p--;)f[p]=arguments[p];var y=h<3&&f[0]!==d&&f[h-1]!==d?[]:s(f,d);if((h-=y.length)<r)return i(t,e,o,a.placeholder,void 0,f,y,void 0,void 0,r-h);var g=this&&this!==u&&this instanceof a?l:t;return n(g,this,f)}}},8026:function(t,e,r){var n=r(5598),a=r(7038),o=r(2192),i=r(9560),c=r(3629),s=r(8156);t.exports=function(t){return a((function(e){var r=e.length,a=r,u=n.prototype.thru;for(t&&e.reverse();a--;){var l=e[a];if("function"!=typeof l)throw new TypeError("Expected a function");if(u&&!h&&"wrapper"==i(l))var h=new n([],!0)}for(a=h?a:r;++a<r;){l=e[a];var f=i(l),p="wrapper"==f?o(l):void 0;h=p&&s(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?h[i(p[0])].apply(h,p[3]):1==l.length&&s(l)?h[f]():h.thru(l)}return function(){var t=arguments,n=t[0];if(h&&1==t.length&&c(n))return h.plant(n).value();for(var a=0,o=r?e[a].apply(this,t):n;++a<r;)o=e[a].call(this,o);return o}}))}},997:function(t,e,r){var n=r(6557),a=r(449),o=r(4498),i=r(777),c=r(5607),s=r(3885),u=r(4794),l=r(2784),h=r(7009);t.exports=function t(e,r,f,p,d,y,g,v,m,_){var b=128&r,O=1&r,w=2&r,k=24&r,x=512&r,R=w?void 0:i(e);return function A(){for(var E=arguments.length,S=Array(E),C=E;C--;)S[C]=arguments[C];if(k)var L=s(A),D=o(S,L);if(p&&(S=n(S,p,d,k)),y&&(S=a(S,y,g,k)),E-=D,k&&E<_){var T=l(S,L);return c(e,r,t,A.placeholder,f,S,T,v,m,_-E)}var N=O?f:this,P=w?N[e]:e;return E=S.length,v?S=u(S,v):x&&E>1&&S.reverse(),b&&m<E&&(S.length=m),this&&this!==h&&this instanceof A&&(P=R||i(P)),P.apply(N,S)}}},3346:function(t,e,r){var n=r(3665),a=r(777),o=r(7009);t.exports=function(t,e,r,i){var c=1&e,s=a(t);return function e(){for(var a=-1,u=arguments.length,l=-1,h=i.length,f=Array(h+u),p=this&&this!==o&&this instanceof e?s:t;++l<h;)f[l]=i[l];for(;u--;)f[l++]=arguments[++a];return n(p,c?r:this,f)}}},5607:function(t,e,r){var n=r(8156),a=r(6226),o=r(4603);t.exports=function(t,e,r,i,c,s,u,l,h,f){var p=8&e;e|=p?32:64,4&(e&=~(p?64:32))||(e&=-4);var d=[t,e,c,p?s:void 0,p?u:void 0,p?void 0:s,p?void 0:u,l,h,f],y=r.apply(void 0,d);return n(t)&&a(y,d),y.placeholder=i,o(y,t,e)}},1121:function(t,e,r){var n=r(7026),a=r(5006),o=r(3884),i=r(997),c=r(3346),s=r(2192),u=r(7935),l=r(6226),h=r(4603),f=r(9753),p=Math.max;t.exports=function(t,e,r,d,y,g,v,m){var _=2&e;if(!_&&"function"!=typeof t)throw new TypeError("Expected a function");var b=d?d.length:0;if(b||(e&=-97,d=y=void 0),v=void 0===v?v:p(f(v),0),m=void 0===m?m:f(m),b-=y?y.length:0,64&e){var O=d,w=y;d=y=void 0}var k=_?void 0:s(t),x=[t,e,r,d,y,O,w,g,v,m];if(k&&u(x,k),t=x[0],e=x[1],r=x[2],d=x[3],y=x[4],!(m=x[9]=void 0===x[9]?_?0:t.length:p(x[9]-b,0))&&24&e&&(e&=-25),e&&1!=e)R=8==e||16==e?o(t,e,m):32!=e&&33!=e||y.length?i.apply(void 0,x):c(t,e,r,d);else var R=a(t,e,r);return h((k?n:l)(R,x),t,e)}},8528:function(t,e,r){var n=r(8136),a=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=a},5305:function(t,e,r){var n=r(692),a=r(7897),o=r(75);t.exports=function(t,e,r,i,c,s){var u=1&r,l=t.length,h=e.length;if(l!=h&&!(u&&h>l))return!1;var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var d=-1,y=!0,g=2&r?new n:void 0;for(s.set(t,e),s.set(e,t);++d<l;){var v=t[d],m=e[d];if(i)var _=u?i(m,v,d,e,t,s):i(v,m,d,t,e,s);if(void 0!==_){if(_)continue;y=!1;break}if(g){if(!a(e,(function(t,e){if(!o(g,e)&&(v===t||c(v,t,r,i,s)))return g.push(e)}))){y=!1;break}}else if(v!==m&&!c(v,m,r,i,s)){y=!1;break}}return s.delete(t),s.delete(e),y}},2206:function(t,e,r){var n=r(7197),a=r(6219),o=r(9231),i=r(5305),c=r(234),s=r(2230),u=n?n.prototype:void 0,l=u?u.valueOf:void 0;t.exports=function(t,e,r,n,u,h,f){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new a(t),new a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=c;case"[object Set]":var d=1&n;if(p||(p=s),t.size!=e.size&&!d)return!1;var y=f.get(t);if(y)return y==e;n|=2,f.set(t,e);var g=i(p(t),p(e),n,u,h,f);return f.delete(t),g;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},8078:function(t,e,r){var n=r(8248),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,i,c){var s=1&r,u=n(t),l=u.length;if(l!=n(e).length&&!s)return!1;for(var h=l;h--;){var f=u[h];if(!(s?f in e:a.call(e,f)))return!1}var p=c.get(t),d=c.get(e);if(p&&d)return p==e&&d==t;var y=!0;c.set(t,e),c.set(e,t);for(var g=s;++h<l;){var v=t[f=u[h]],m=e[f];if(o)var _=s?o(m,v,f,e,t,c):o(v,m,f,t,e,c);if(!(void 0===_?v===m||i(v,m,r,o,c):_)){y=!1;break}g||(g="constructor"==f)}if(y&&!g){var b=t.constructor,O=e.constructor;b==O||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof O&&O instanceof O||(y=!1)}return c.delete(t),c.delete(e),y}},7038:function(t,e,r){var n=r(5506),a=r(4262),o=r(9156);t.exports=function(t){return o(a(t,void 0,n),t+"")}},1032:function(t,e,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8248:function(t,e,r){var n=r(1986),a=r(5918),o=r(2742);t.exports=function(t){return n(t,o,a)}},5341:function(t,e,r){var n=r(1986),a=r(8487),o=r(3961);t.exports=function(t){return n(t,o,a)}},2192:function(t,e,r){var n=r(1921),a=r(9694),o=n?function(t){return n.get(t)}:a;t.exports=o},9560:function(t,e,r){var n=r(583),a=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",r=n[e],o=a.call(n,e)?r.length:0;o--;){var i=r[o],c=i.func;if(null==c||c==t)return i.name}return e}},3885:function(t){t.exports=function(t){return t.placeholder}},2799:function(t,e,r){var n=r(9518);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},9091:function(t,e,r){var n=r(5072),a=r(2742);t.exports=function(t){for(var e=a(t),r=e.length;r--;){var o=e[r],i=t[o];e[r]=[o,i,n(i)]}return e}},8136:function(t,e,r){var n=r(6703),a=r(40);t.exports=function(t,e){var r=a(t,e);return n(r)?r:void 0}},1137:function(t,e,r){var n=r(2709)(Object.getPrototypeOf,Object);t.exports=n},1587:function(t,e,r){var n=r(7197),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,c=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,c),r=t[c];try{t[c]=void 0;var n=!0}catch(s){}var a=i.call(t);return n&&(e?t[c]=r:delete t[c]),a}},5918:function(t,e,r){var n=r(4903),a=r(9810),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,c=i?function(t){return null==t?[]:(t=Object(t),n(i(t),(function(e){return o.call(t,e)})))}:a;t.exports=c},8487:function(t,e,r){var n=r(1705),a=r(1137),o=r(5918),i=r(9810),c=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,o(t)),t=a(t);return e}:i;t.exports=c},8383:function(t,e,r){var n=r(908),a=r(5797),o=r(8319),i=r(3924),c=r(7091),s=r(9066),u=r(7907),l="[object Map]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",d="[object DataView]",y=u(n),g=u(a),v=u(o),m=u(i),_=u(c),b=s;(n&&b(new n(new ArrayBuffer(1)))!=d||a&&b(new a)!=l||o&&b(o.resolve())!=h||i&&b(new i)!=f||c&&b(new c)!=p)&&(b=function(t){var e=s(t),r="[object Object]"==e?t.constructor:void 0,n=r?u(r):"";if(n)switch(n){case y:return d;case g:return l;case v:return h;case m:return f;case _:return p}return e}),t.exports=b},40:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},2812:function(t){var e=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var n=t.match(e);return n?n[1].split(r):[]}},6417:function(t,e,r){var n=r(3082),a=r(4963),o=r(3629),i=r(6800),c=r(4635),s=r(9793);t.exports=function(t,e,r){for(var u=-1,l=(e=n(e,t)).length,h=!1;++u<l;){var f=s(e[u]);if(!(h=null!=t&&r(t,f)))break;t=t[f]}return h||++u!=l?h:!!(l=null==t?0:t.length)&&c(l)&&i(f,l)&&(o(t)||a(t))}},5403:function(t,e,r){var n=r(9620);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},2747:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},6037:function(t,e,r){var n=r(9620),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(e,t)?e[t]:void 0}},4154:function(t,e,r){var n=r(9620),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:a.call(e,t)}},7728:function(t,e,r){var n=r(9620);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},9243:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},9759:function(t,e,r){var n=r(7010),a=r(1022),o=r(8503),i=r(4720),c=r(613);t.exports=function(t,e,r){var s=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return a(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c(t,r);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return o(t);case"[object Symbol]":return i(t)}}},548:function(t,e,r){var n=r(5763),a=r(1137),o=r(2936);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:n(a(t))}},7795:function(t){var e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,r){var n=r.length;if(!n)return t;var a=n-1;return r[a]=(n>1?"& ":"")+r[a],r=r.join(n>2?", ":" "),t.replace(e,"{\n/* [wrapped with "+r+"] */\n")}},3529:function(t,e,r){var n=r(7197),a=r(4963),o=r(3629),i=n?n.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||a(t)||!!(i&&t&&t[i])}},6800:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},5823:function(t,e,r){var n=r(3629),a=r(152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!a(t))||(i.test(t)||!o.test(t)||null!=e&&t in Object(e))}},9518:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},8156:function(t,e,r){var n=r(2492),a=r(2192),o=r(9560),i=r(2857);t.exports=function(t){var e=o(t),r=i[e];if("function"!=typeof r||!(e in n.prototype))return!1;if(t===r)return!0;var c=a(r);return!!c&&t===c[0]}},257:function(t,e,r){var n=r(5525),a=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!a&&a in t}},2936:function(t){var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},5072:function(t,e,r){var n=r(8092);t.exports=function(t){return t===t&&!n(t)}},3894:function(t){t.exports=function(){this.__data__=[],this.size=0}},8699:function(t,e,r){var n=r(7112),a=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():a.call(e,r,1),--this.size,!0)}},4957:function(t,e,r){var n=r(7112);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7184:function(t,e,r){var n=r(7112);t.exports=function(t){return n(this.__data__,t)>-1}},7109:function(t,e,r){var n=r(7112);t.exports=function(t,e){var r=this.__data__,a=n(r,t);return a<0?(++this.size,r.push([t,e])):r[a][1]=e,this}},4086:function(t,e,r){var n=r(9676),a=r(8384),o=r(5797);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||a),string:new n}}},9255:function(t,e,r){var n=r(2799);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},9186:function(t,e,r){var n=r(2799);t.exports=function(t){return n(this,t).get(t)}},3423:function(t,e,r){var n=r(2799);t.exports=function(t){return n(this,t).has(t)}},3739:function(t,e,r){var n=r(2799);t.exports=function(t,e){var r=n(this,t),a=r.size;return r.set(t,e),this.size+=r.size==a?0:1,this}},234:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},284:function(t){t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},4634:function(t,e,r){var n=r(9151);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},7935:function(t,e,r){var n=r(6557),a=r(449),o=r(2784),i="__lodash_placeholder__",c=128,s=Math.min;t.exports=function(t,e){var r=t[1],u=e[1],l=r|u,h=l<131,f=u==c&&8==r||u==c&&256==r&&t[7].length<=e[8]||384==u&&e[7].length<=e[8]&&8==r;if(!h&&!f)return t;1&u&&(t[2]=e[2],l|=1&r?0:4);var p=e[3];if(p){var d=t[3];t[3]=d?n(d,p,e[4]):p,t[4]=d?o(t[3],i):e[4]}return(p=e[5])&&(d=t[5],t[5]=d?a(d,p,e[6]):p,t[6]=d?o(t[5],i):e[6]),(p=e[7])&&(t[7]=p),u&c&&(t[8]=null==t[8]?e[8]:s(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=l,t}},1921:function(t,e,r){var n=r(7091),a=n&&new n;t.exports=a},9620:function(t,e,r){var n=r(8136)(Object,"create");t.exports=n},5964:function(t,e,r){var n=r(2709)(Object.keys,Object);t.exports=n},4221:function(t){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},9494:function(t,e,r){t=r.nmd(t);var n=r(1032),a=e&&!e.nodeType&&e,o=a&&t&&!t.nodeType&&t,i=o&&o.exports===a&&n.process,c=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(e){}}();t.exports=c},3581:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},2709:function(t){t.exports=function(t,e){return function(r){return t(e(r))}}},4262:function(t,e,r){var n=r(3665),a=Math.max;t.exports=function(t,e,r){return e=a(void 0===e?t.length-1:e,0),function(){for(var o=arguments,i=-1,c=a(o.length-e,0),s=Array(c);++i<c;)s[i]=o[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=o[i];return u[e]=r(s),n(t,this,u)}}},583:function(t){t.exports={}},4794:function(t,e,r){var n=r(291),a=r(6800),o=Math.min;t.exports=function(t,e){for(var r=t.length,i=o(e.length,r),c=n(t);i--;){var s=e[i];t[i]=a(s,r)?c[s]:void 0}return t}},2784:function(t){var e="__lodash_placeholder__";t.exports=function(t,r){for(var n=-1,a=t.length,o=0,i=[];++n<a;){var c=t[n];c!==r&&c!==e||(t[n]=e,i[o++]=n)}return i}},7009:function(t,e,r){var n=r(1032),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();t.exports=o},5774:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},1596:function(t){t.exports=function(t){return this.__data__.has(t)}},6226:function(t,e,r){var n=r(7026),a=r(3197)(n);t.exports=a},2230:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},9156:function(t,e,r){var n=r(7532),a=r(3197)(n);t.exports=a},4603:function(t,e,r){var n=r(2812),a=r(7795),o=r(9156),i=r(2806);t.exports=function(t,e,r){var c=e+"";return o(t,a(c,i(n(c),r)))}},3197:function(t){var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var a=e(),o=16-(a-n);if(n=a,o>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},511:function(t,e,r){var n=r(8384);t.exports=function(){this.__data__=new n,this.size=0}},835:function(t){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},707:function(t){t.exports=function(t){return this.__data__.get(t)}},8832:function(t){t.exports=function(t){return this.__data__.has(t)}},5077:function(t,e,r){var n=r(8384),a=r(5797),o=r(8059);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var i=r.__data__;if(!a||i.length<199)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(i)}return r.set(t,e),this.size=r.size,this}},7167:function(t){t.exports=function(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}},170:function(t,e,r){var n=r(4634),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(a,(function(t,r,n,a){e.push(n?a.replace(o,"$1"):r||t)})),e}));t.exports=i},9793:function(t,e,r){var n=r(152);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},7907:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(r){}try{return t+""}catch(r){}}return""}},6050:function(t){var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},2806:function(t,e,r){var n=r(4550),a=r(9055),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return n(o,(function(r){var n="_."+r[0];e&r[1]&&!a(t,n)&&t.push(n)})),t.sort()}},8878:function(t,e,r){var n=r(2492),a=r(5598),o=r(291);t.exports=function(t){if(t instanceof n)return t.clone();var e=new a(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},9991:function(t,e,r){var n=r(1121);t.exports=function(t,e,r){return e=r?void 0:e,e=t&&null==e?t.length:e,n(t,128,void 0,void 0,void 0,void 0,e)}},8787:function(t,e,r){var n=r(1905);t.exports=function(t){return n(t,4)}},1547:function(t){t.exports=function(t){return function(){return t}}},5129:function(t,e,r){var n=r(1121);function a(t,e,r){var o=n(t,8,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return o.placeholder=a.placeholder,o}a.placeholder={},t.exports=a},9231:function(t){t.exports=function(t,e){return t===e||t!==t&&e!==e}},5506:function(t,e,r){var n=r(5182);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},6829:function(t,e,r){var n=r(8026)();t.exports=n},871:function(t,e,r){var n=r(9410).runInContext();t.exports=r(4717)(n,n)},4717:function(t,e,r){var n=r(767),a=r(8485),o=Array.prototype.push;function i(t,e){return 2==e?function(e,r){return t(e,r)}:function(e){return t(e)}}function c(t){for(var e=t?t.length:0,r=Array(e);e--;)r[e]=t[e];return r}function s(t,e){return function(){var r=arguments.length;if(r){for(var n=Array(r);r--;)n[r]=arguments[r];var a=n[0]=e.apply(void 0,n);return t.apply(void 0,n),a}}}t.exports=function t(e,r,u,l){var h="function"==typeof r,f=r===Object(r);if(f&&(l=u,u=r,r=void 0),null==u)throw new TypeError;l||(l={});var p=!("cap"in l)||l.cap,d=!("curry"in l)||l.curry,y=!("fixed"in l)||l.fixed,g=!("immutable"in l)||l.immutable,v=!("rearg"in l)||l.rearg,m=h?u:a,_="curry"in l&&l.curry,b="fixed"in l&&l.fixed,O="rearg"in l&&l.rearg,w=h?u.runInContext():void 0,k=h?u:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},x=k.ary,R=k.assign,A=k.clone,E=k.curry,S=k.forEach,C=k.isArray,L=k.isError,D=k.isFunction,T=k.isWeakMap,N=k.keys,P=k.rearg,G=k.toInteger,U=k.toPath,I=N(n.aryMethod),M={castArray:function(t){return function(){var e=arguments[0];return C(e)?t(c(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],r=arguments[1],n=t(e,r),a=n.length;return p&&"number"==typeof r?(r=r>2?r-2:1,a&&a<=r?n:i(n,r)):n}},mixin:function(t){return function(e){var r=this;if(!D(r))return t(r,Object(e));var n=[];return S(N(e),(function(t){D(e[t])&&n.push([t,r.prototype[t]])})),t(r,Object(e)),S(n,(function(t){var e=t[1];D(e)?r.prototype[t[0]]=e:delete r.prototype[t[0]]})),r}},nthArg:function(t){return function(e){var r=e<0?1:G(e)+1;return E(t(e),r)}},rearg:function(t){return function(e,r){var n=r?r.length:0;return E(t(e,r),n)}},runInContext:function(r){return function(n){return t(e,r(n),l)}}};function F(t,e){if(p){var r=n.iterateeRearg[t];if(r)return function(t,e){return H(t,(function(t){var r=e.length;return function(t,e){return 2==e?function(e,r){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}(P(i(t,r),e),r)}))}(e,r);var a=!h&&n.iterateeAry[t];if(a)return function(t,e){return H(t,(function(t){return"function"==typeof t?i(t,e):t}))}(e,a)}return e}function W(t,e,r){if(y&&(b||!n.skipFixed[t])){var a=n.methodSpread[t],i=a&&a.start;return void 0===i?x(e,r):function(t,e){return function(){for(var r=arguments.length,n=r-1,a=Array(r);r--;)a[r]=arguments[r];var i=a[e],c=a.slice(0,e);return i&&o.apply(c,i),e!=n&&o.apply(c,a.slice(e+1)),t.apply(this,c)}}(e,i)}return e}function j(t,e,r){return v&&r>1&&(O||!n.skipRearg[t])?P(e,n.methodRearg[t]||n.aryRearg[r]):e}function B(t,e){for(var r=-1,n=(e=U(e)).length,a=n-1,o=A(Object(t)),i=o;null!=i&&++r<n;){var c=e[r],s=i[c];null==s||D(s)||L(s)||T(s)||(i[c]=A(r==a?s:Object(s))),i=i[c]}return o}function z(e,r){var a=n.aliasToReal[e]||e,o=n.remap[a]||a,i=l;return function(e){var n=h?w:k,c=h?w[o]:r,s=R(R({},i),e);return t(n,a,c,s)}}function H(t,e){return function(){var r=arguments.length;if(!r)return t();for(var n=Array(r);r--;)n[r]=arguments[r];var a=v?0:r-1;return n[a]=e(n[a]),t.apply(void 0,n)}}function V(t,e,r){var a,o=n.aliasToReal[t]||t,i=e,u=M[o];return u?i=u(e):g&&(n.mutate.array[o]?i=s(e,c):n.mutate.object[o]?i=s(e,function(t){return function(e){return t({},e)}}(e)):n.mutate.set[o]&&(i=s(e,B))),S(I,(function(t){return S(n.aryMethod[t],(function(e){if(o==e){var r=n.methodSpread[o],c=r&&r.afterRearg;return a=c?W(o,j(o,i,t),t):j(o,W(o,i,t),t),a=function(t,e,r){return _||d&&r>1?E(e,r):e}(0,a=F(o,a),t),!1}})),!a})),a||(a=i),a==e&&(a=_?E(a,1):function(){return e.apply(this,arguments)}),a.convert=z(o,e),a.placeholder=e.placeholder=r,a}if(!f)return V(r,u,m);var q=u,K=[];return S(I,(function(t){S(n.aryMethod[t],(function(t){var e=q[n.remap[t]||t];e&&K.push([t,V(t,e,q)])}))})),S(N(q),(function(t){var e=q[t];if("function"==typeof e){for(var r=K.length;r--;)if(K[r][0]==t)return;e.convert=z(t,e),K.push([t,e])}})),S(K,(function(t){q[t[0]]=t[1]})),q.convert=function(t){return q.runInContext.convert(t)(void 0)},q.placeholder=q,S(N(q),(function(t){S(n.realToAlias[t]||[],(function(e){q[e]=q[t]}))})),q}},767:function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,r=e.aliasToReal,n={};for(var a in r){var o=r[a];t.call(n,o)?n[o].push(a):n[o]=[a]}return n}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},2635:function(t,e,r){t.exports={ary:r(9991),assign:r(1855),clone:r(8787),curry:r(5129),forEach:r(4550),isArray:r(3629),isError:r(3908),isFunction:r(4786),isWeakMap:r(5183),iteratee:r(8608),keys:r(3654),rearg:r(1968),toInteger:r(9753),toPath:r(168)}},1294:function(t,e,r){var n=r(4717),a=r(2635);t.exports=function(t,e,r){return n(a,t,e,r)}},4808:function(t,e,r){var n=r(1294)("flow",r(6829));n.placeholder=r(8485),t.exports=n},146:function(t,e,r){t.exports=r(4808)},8485:function(t){t.exports={}},6181:function(t,e,r){var n=r(8667);t.exports=function(t,e,r){var a=null==t?void 0:n(t,e);return void 0===a?r:a}},5658:function(t,e,r){var n=r(529),a=r(6417);t.exports=function(t,e){return null!=t&&a(t,e,n)}},2100:function(t){t.exports=function(t){return t}},4963:function(t,e,r){var n=r(4906),a=r(3141),o=Object.prototype,i=o.hasOwnProperty,c=o.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(t){return a(t)&&i.call(t,"callee")&&!c.call(t,"callee")};t.exports=s},3629:function(t){var e=Array.isArray;t.exports=e},1473:function(t,e,r){var n=r(4786),a=r(4635);t.exports=function(t){return null!=t&&a(t.length)&&!n(t)}},5174:function(t,e,r){t=r.nmd(t);var n=r(7009),a=r(9488),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,c=i&&i.exports===o?n.Buffer:void 0,s=(c?c.isBuffer:void 0)||a;t.exports=s},3908:function(t,e,r){var n=r(9066),a=r(3141),o=r(3977);t.exports=function(t){if(!a(t))return!1;var e=n(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!o(t)}},4786:function(t,e,r){var n=r(9066),a=r(8092);t.exports=function(t){if(!a(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},4635:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},103:function(t,e,r){var n=r(3085),a=r(6194),o=r(9494),i=o&&o.isMap,c=i?a(i):n;t.exports=c},8092:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},3141:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},3977:function(t,e,r){var n=r(9066),a=r(1137),o=r(3141),i=Function.prototype,c=Object.prototype,s=i.toString,u=c.hasOwnProperty,l=s.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=n(t))return!1;var e=a(t);if(null===e)return!0;var r=u.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==l}},6995:function(t,e,r){var n=r(8680),a=r(6194),o=r(9494),i=o&&o.isSet,c=i?a(i):n;t.exports=c},152:function(t,e,r){var n=r(9066),a=r(3141);t.exports=function(t){return"symbol"==typeof t||a(t)&&"[object Symbol]"==n(t)}},9102:function(t,e,r){var n=r(8150),a=r(6194),o=r(9494),i=o&&o.isTypedArray,c=i?a(i):n;t.exports=c},5183:function(t,e,r){var n=r(8383),a=r(3141);t.exports=function(t){return a(t)&&"[object WeakMap]"==n(t)}},8608:function(t,e,r){var n=r(1905),a=r(6025);t.exports=function(t){return a("function"==typeof t?t:n(t,1))}},2742:function(t,e,r){var n=r(7538),a=r(3654),o=r(1473);t.exports=function(t){return o(t)?n(t):a(t)}},3961:function(t,e,r){var n=r(7538),a=r(8664),o=r(1473);t.exports=function(t){return o(t)?n(t,!0):a(t)}},763:function(t,e,r){var n;t=r.nmd(t),function(){var a,o="Expected a function",i="__lodash_hash_undefined__",c="__lodash_placeholder__",s=16,u=32,l=64,h=128,f=256,p=1/0,d=9007199254740991,y=NaN,g=4294967295,v=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",u],["partialRight",l],["rearg",f]],m="[object Arguments]",_="[object Array]",b="[object Boolean]",O="[object Date]",w="[object Error]",k="[object Function]",x="[object GeneratorFunction]",R="[object Map]",A="[object Number]",E="[object Object]",S="[object Promise]",C="[object RegExp]",L="[object Set]",D="[object String]",T="[object Symbol]",N="[object WeakMap]",P="[object ArrayBuffer]",G="[object DataView]",U="[object Float32Array]",I="[object Float64Array]",M="[object Int8Array]",F="[object Int16Array]",W="[object Int32Array]",j="[object Uint8Array]",B="[object Uint8ClampedArray]",z="[object Uint16Array]",H="[object Uint32Array]",V=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Z=RegExp(X.source),$=RegExp(Y.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,at=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(at.source),it=/^\s+/,ct=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,Ot=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,kt=/['\n\r\u2028\u2029\\]/g,xt="\\ud800-\\udfff",Rt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",At="\\u2700-\\u27bf",Et="a-z\\xdf-\\xf6\\xf8-\\xff",St="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",Lt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dt="['\u2019]",Tt="["+xt+"]",Nt="["+Lt+"]",Pt="["+Rt+"]",Gt="\\d+",Ut="["+At+"]",It="["+Et+"]",Mt="[^"+xt+Lt+Gt+At+Et+St+"]",Ft="\\ud83c[\\udffb-\\udfff]",Wt="[^"+xt+"]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",zt="["+St+"]",Ht="\\u200d",Vt="(?:"+It+"|"+Mt+")",qt="(?:"+zt+"|"+Mt+")",Kt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Pt+"|"+Ft+")"+"?",Zt="["+Ct+"]?",$t=Zt+Yt+("(?:"+Ht+"(?:"+[Wt,jt,Bt].join("|")+")"+Zt+Yt+")*"),Qt="(?:"+[Ut,jt,Bt].join("|")+")"+$t,Jt="(?:"+[Wt+Pt+"?",Pt,jt,Bt,Tt].join("|")+")",te=RegExp(Dt,"g"),ee=RegExp(Pt,"g"),re=RegExp(Ft+"(?="+Ft+")|"+Jt+$t,"g"),ne=RegExp([zt+"?"+It+"+"+Kt+"(?="+[Nt,zt,"$"].join("|")+")",qt+"+"+Xt+"(?="+[Nt,zt+Vt,"$"].join("|")+")",zt+"?"+Vt+"+"+Kt,zt+"+"+Xt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gt,Qt].join("|"),"g"),ae=RegExp("["+Ht+xt+Rt+Ct+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ie=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ce=-1,se={};se[U]=se[I]=se[M]=se[F]=se[W]=se[j]=se[B]=se[z]=se[H]=!0,se[m]=se[_]=se[P]=se[b]=se[G]=se[O]=se[w]=se[k]=se[R]=se[A]=se[E]=se[C]=se[L]=se[D]=se[N]=!1;var ue={};ue[m]=ue[_]=ue[P]=ue[G]=ue[b]=ue[O]=ue[U]=ue[I]=ue[M]=ue[F]=ue[W]=ue[R]=ue[A]=ue[E]=ue[C]=ue[L]=ue[D]=ue[T]=ue[j]=ue[B]=ue[z]=ue[H]=!0,ue[w]=ue[k]=ue[N]=!1;var le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,fe=parseInt,pe="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,de="object"==typeof self&&self&&self.Object===Object&&self,ye=pe||de||Function("return this")(),ge=e&&!e.nodeType&&e,ve=ge&&t&&!t.nodeType&&t,me=ve&&ve.exports===ge,_e=me&&pe.process,be=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||_e&&_e.binding&&_e.binding("util")}catch(e){}}(),Oe=be&&be.isArrayBuffer,we=be&&be.isDate,ke=be&&be.isMap,xe=be&&be.isRegExp,Re=be&&be.isSet,Ae=be&&be.isTypedArray;function Ee(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Se(t,e,r,n){for(var a=-1,o=null==t?0:t.length;++a<o;){var i=t[a];e(n,i,r(i),t)}return n}function Ce(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Le(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function De(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Te(t,e){for(var r=-1,n=null==t?0:t.length,a=0,o=[];++r<n;){var i=t[r];e(i,r,t)&&(o[a++]=i)}return o}function Ne(t,e){return!!(null==t?0:t.length)&&ze(t,e,0)>-1}function Pe(t,e,r){for(var n=-1,a=null==t?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}function Ge(t,e){for(var r=-1,n=null==t?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}function Ue(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}function Ie(t,e,r,n){var a=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++a]);++a<o;)r=e(r,t[a],a,t);return r}function Me(t,e,r,n){var a=null==t?0:t.length;for(n&&a&&(r=t[--a]);a--;)r=e(r,t[a],a,t);return r}function Fe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var We=Ke("length");function je(t,e,r){var n;return r(t,(function(t,r,a){if(e(t,r,a))return n=r,!1})),n}function Be(t,e,r,n){for(var a=t.length,o=r+(n?1:-1);n?o--:++o<a;)if(e(t[o],o,t))return o;return-1}function ze(t,e,r){return e===e?function(t,e,r){var n=r-1,a=t.length;for(;++n<a;)if(t[n]===e)return n;return-1}(t,e,r):Be(t,Ve,r)}function He(t,e,r,n){for(var a=r-1,o=t.length;++a<o;)if(n(t[a],e))return a;return-1}function Ve(t){return t!==t}function qe(t,e){var r=null==t?0:t.length;return r?Ze(t,e)/r:y}function Ke(t){return function(e){return null==e?a:e[t]}}function Xe(t){return function(e){return null==t?a:t[e]}}function Ye(t,e,r,n,a){return a(t,(function(t,a,o){r=n?(n=!1,t):e(r,t,a,o)})),r}function Ze(t,e){for(var r,n=-1,o=t.length;++n<o;){var i=e(t[n]);i!==a&&(r=r===a?i:r+i)}return r}function $e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Qe(t){return t?t.slice(0,gr(t)+1).replace(it,""):t}function Je(t){return function(e){return t(e)}}function tr(t,e){return Ge(e,(function(e){return t[e]}))}function er(t,e){return t.has(e)}function rr(t,e){for(var r=-1,n=t.length;++r<n&&ze(e,t[r],0)>-1;);return r}function nr(t,e){for(var r=t.length;r--&&ze(e,t[r],0)>-1;);return r}function ar(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var or=Xe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),ir=Xe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cr(t){return"\\"+le[t]}function sr(t){return ae.test(t)}function ur(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function lr(t,e){return function(r){return t(e(r))}}function hr(t,e){for(var r=-1,n=t.length,a=0,o=[];++r<n;){var i=t[r];i!==e&&i!==c||(t[r]=c,o[a++]=r)}return o}function fr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function pr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function dr(t){return sr(t)?function(t){var e=re.lastIndex=0;for(;re.test(t);)++e;return e}(t):We(t)}function yr(t){return sr(t)?function(t){return t.match(re)||[]}(t):function(t){return t.split("")}(t)}function gr(t){for(var e=t.length;e--&&ct.test(t.charAt(e)););return e}var vr=Xe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mr=function t(e){var r=(e=null==e?ye:mr.defaults(ye.Object(),e,mr.pick(ye,ie))).Array,n=e.Date,ct=e.Error,xt=e.Function,Rt=e.Math,At=e.Object,Et=e.RegExp,St=e.String,Ct=e.TypeError,Lt=r.prototype,Dt=xt.prototype,Tt=At.prototype,Nt=e["__core-js_shared__"],Pt=Dt.toString,Gt=Tt.hasOwnProperty,Ut=0,It=function(){var t=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Mt=Tt.toString,Ft=Pt.call(At),Wt=ye._,jt=Et("^"+Pt.call(Gt).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=me?e.Buffer:a,zt=e.Symbol,Ht=e.Uint8Array,Vt=Bt?Bt.allocUnsafe:a,qt=lr(At.getPrototypeOf,At),Kt=At.create,Xt=Tt.propertyIsEnumerable,Yt=Lt.splice,Zt=zt?zt.isConcatSpreadable:a,$t=zt?zt.iterator:a,Qt=zt?zt.toStringTag:a,Jt=function(){try{var t=fo(At,"defineProperty");return t({},"",{}),t}catch(e){}}(),re=e.clearTimeout!==ye.clearTimeout&&e.clearTimeout,ae=n&&n.now!==ye.Date.now&&n.now,le=e.setTimeout!==ye.setTimeout&&e.setTimeout,pe=Rt.ceil,de=Rt.floor,ge=At.getOwnPropertySymbols,ve=Bt?Bt.isBuffer:a,_e=e.isFinite,be=Lt.join,We=lr(At.keys,At),Xe=Rt.max,_r=Rt.min,br=n.now,Or=e.parseInt,wr=Rt.random,kr=Lt.reverse,xr=fo(e,"DataView"),Rr=fo(e,"Map"),Ar=fo(e,"Promise"),Er=fo(e,"Set"),Sr=fo(e,"WeakMap"),Cr=fo(At,"create"),Lr=Sr&&new Sr,Dr={},Tr=Wo(xr),Nr=Wo(Rr),Pr=Wo(Ar),Gr=Wo(Er),Ur=Wo(Sr),Ir=zt?zt.prototype:a,Mr=Ir?Ir.valueOf:a,Fr=Ir?Ir.toString:a;function Wr(t){if(nc(t)&&!qi(t)&&!(t instanceof Hr)){if(t instanceof zr)return t;if(Gt.call(t,"__wrapped__"))return jo(t)}return new zr(t)}var jr=function(){function t(){}return function(e){if(!rc(e))return{};if(Kt)return Kt(e);t.prototype=e;var r=new t;return t.prototype=a,r}}();function Br(){}function zr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=a}function Hr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function qr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Kr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Xr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Kr;++e<r;)this.add(t[e])}function Yr(t){var e=this.__data__=new qr(t);this.size=e.size}function Zr(t,e){var r=qi(t),n=!r&&Vi(t),a=!r&&!n&&Zi(t),o=!r&&!n&&!a&&hc(t),i=r||n||a||o,c=i?$e(t.length,St):[],s=c.length;for(var u in t)!e&&!Gt.call(t,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bo(u,s))||c.push(u);return c}function $r(t){var e=t.length;return e?t[Yn(0,e-1)]:a}function Qr(t,e){return Io(La(t),sn(e,0,t.length))}function Jr(t){return Io(La(t))}function tn(t,e,r){(r!==a&&!Bi(t[e],r)||r===a&&!(e in t))&&on(t,e,r)}function en(t,e,r){var n=t[e];Gt.call(t,e)&&Bi(n,r)&&(r!==a||e in t)||on(t,e,r)}function rn(t,e){for(var r=t.length;r--;)if(Bi(t[r][0],e))return r;return-1}function nn(t,e,r,n){return pn(t,(function(t,a,o){e(n,t,r(t),o)})),n}function an(t,e){return t&&Da(e,Nc(e),t)}function on(t,e,r){"__proto__"==e&&Jt?Jt(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function cn(t,e){for(var n=-1,o=e.length,i=r(o),c=null==t;++n<o;)i[n]=c?a:Sc(t,e[n]);return i}function sn(t,e,r){return t===t&&(r!==a&&(t=t<=r?t:r),e!==a&&(t=t>=e?t:e)),t}function un(t,e,r,n,o,i){var c,s=1&e,u=2&e,l=4&e;if(r&&(c=o?r(t,n,o,i):r(t)),c!==a)return c;if(!rc(t))return t;var h=qi(t);if(h){if(c=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&Gt.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!s)return La(t,c)}else{var f=go(t),p=f==k||f==x;if(Zi(t))return xa(t,s);if(f==E||f==m||p&&!o){if(c=u||p?{}:mo(t),!s)return u?function(t,e){return Da(t,yo(t),e)}(t,function(t,e){return t&&Da(e,Pc(e),t)}(c,t)):function(t,e){return Da(t,po(t),e)}(t,an(c,t))}else{if(!ue[f])return o?t:{};c=function(t,e,r){var n=t.constructor;switch(e){case P:return Ra(t);case b:case O:return new n(+t);case G:return function(t,e){var r=e?Ra(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case U:case I:case M:case F:case W:case j:case B:case z:case H:return Aa(t,r);case R:return new n;case A:case D:return new n(t);case C:return function(t){var e=new t.constructor(t.source,yt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case L:return new n;case T:return a=t,Mr?At(Mr.call(a)):{}}var a}(t,f,s)}}i||(i=new Yr);var d=i.get(t);if(d)return d;i.set(t,c),sc(t)?t.forEach((function(n){c.add(un(n,e,r,n,t,i))})):ac(t)&&t.forEach((function(n,a){c.set(a,un(n,e,r,a,t,i))}));var y=h?a:(l?u?oo:ao:u?Pc:Nc)(t);return Ce(y||t,(function(n,a){y&&(n=t[a=n]),en(c,a,un(n,e,r,a,t,i))})),c}function ln(t,e,r){var n=r.length;if(null==t)return!n;for(t=At(t);n--;){var o=r[n],i=e[o],c=t[o];if(c===a&&!(o in t)||!i(c))return!1}return!0}function hn(t,e,r){if("function"!=typeof t)throw new Ct(o);return No((function(){t.apply(a,r)}),e)}function fn(t,e,r,n){var a=-1,o=Ne,i=!0,c=t.length,s=[],u=e.length;if(!c)return s;r&&(e=Ge(e,Je(r))),n?(o=Pe,i=!1):e.length>=200&&(o=er,i=!1,e=new Xr(e));t:for(;++a<c;){var l=t[a],h=null==r?l:r(l);if(l=n||0!==l?l:0,i&&h===h){for(var f=u;f--;)if(e[f]===h)continue t;s.push(l)}else o(e,h,n)||s.push(l)}return s}Wr.templateSettings={escape:Q,evaluate:J,interpolate:tt,variable:"",imports:{_:Wr}},Wr.prototype=Br.prototype,Wr.prototype.constructor=Wr,zr.prototype=jr(Br.prototype),zr.prototype.constructor=zr,Hr.prototype=jr(Br.prototype),Hr.prototype.constructor=Hr,Vr.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},Vr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vr.prototype.get=function(t){var e=this.__data__;if(Cr){var r=e[t];return r===i?a:r}return Gt.call(e,t)?e[t]:a},Vr.prototype.has=function(t){var e=this.__data__;return Cr?e[t]!==a:Gt.call(e,t)},Vr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Cr&&e===a?i:e,this},qr.prototype.clear=function(){this.__data__=[],this.size=0},qr.prototype.delete=function(t){var e=this.__data__,r=rn(e,t);return!(r<0)&&(r==e.length-1?e.pop():Yt.call(e,r,1),--this.size,!0)},qr.prototype.get=function(t){var e=this.__data__,r=rn(e,t);return r<0?a:e[r][1]},qr.prototype.has=function(t){return rn(this.__data__,t)>-1},qr.prototype.set=function(t,e){var r=this.__data__,n=rn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Kr.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(Rr||qr),string:new Vr}},Kr.prototype.delete=function(t){var e=lo(this,t).delete(t);return this.size-=e?1:0,e},Kr.prototype.get=function(t){return lo(this,t).get(t)},Kr.prototype.has=function(t){return lo(this,t).has(t)},Kr.prototype.set=function(t,e){var r=lo(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Xr.prototype.add=Xr.prototype.push=function(t){return this.__data__.set(t,i),this},Xr.prototype.has=function(t){return this.__data__.has(t)},Yr.prototype.clear=function(){this.__data__=new qr,this.size=0},Yr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Yr.prototype.get=function(t){return this.__data__.get(t)},Yr.prototype.has=function(t){return this.__data__.has(t)},Yr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof qr){var n=r.__data__;if(!Rr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Kr(n)}return r.set(t,e),this.size=r.size,this};var pn=Pa(On),dn=Pa(wn,!0);function yn(t,e){var r=!0;return pn(t,(function(t,n,a){return r=!!e(t,n,a)})),r}function gn(t,e,r){for(var n=-1,o=t.length;++n<o;){var i=t[n],c=e(i);if(null!=c&&(s===a?c===c&&!lc(c):r(c,s)))var s=c,u=i}return u}function vn(t,e){var r=[];return pn(t,(function(t,n,a){e(t,n,a)&&r.push(t)})),r}function mn(t,e,r,n,a){var o=-1,i=t.length;for(r||(r=_o),a||(a=[]);++o<i;){var c=t[o];e>0&&r(c)?e>1?mn(c,e-1,r,n,a):Ue(a,c):n||(a[a.length]=c)}return a}var _n=Ga(),bn=Ga(!0);function On(t,e){return t&&_n(t,e,Nc)}function wn(t,e){return t&&bn(t,e,Nc)}function kn(t,e){return Te(e,(function(e){return Ji(t[e])}))}function xn(t,e){for(var r=0,n=(e=ba(e,t)).length;null!=t&&r<n;)t=t[Fo(e[r++])];return r&&r==n?t:a}function Rn(t,e,r){var n=e(t);return qi(t)?n:Ue(n,r(t))}function An(t){return null==t?t===a?"[object Undefined]":"[object Null]":Qt&&Qt in At(t)?function(t){var e=Gt.call(t,Qt),r=t[Qt];try{t[Qt]=a;var n=!0}catch(i){}var o=Mt.call(t);n&&(e?t[Qt]=r:delete t[Qt]);return o}(t):function(t){return Mt.call(t)}(t)}function En(t,e){return t>e}function Sn(t,e){return null!=t&&Gt.call(t,e)}function Cn(t,e){return null!=t&&e in At(t)}function Ln(t,e,n){for(var o=n?Pe:Ne,i=t[0].length,c=t.length,s=c,u=r(c),l=1/0,h=[];s--;){var f=t[s];s&&e&&(f=Ge(f,Je(e))),l=_r(f.length,l),u[s]=!n&&(e||i>=120&&f.length>=120)?new Xr(s&&f):a}f=t[0];var p=-1,d=u[0];t:for(;++p<i&&h.length<l;){var y=f[p],g=e?e(y):y;if(y=n||0!==y?y:0,!(d?er(d,g):o(h,g,n))){for(s=c;--s;){var v=u[s];if(!(v?er(v,g):o(t[s],g,n)))continue t}d&&d.push(g),h.push(y)}}return h}function Dn(t,e,r){var n=null==(t=Co(t,e=ba(e,t)))?t:t[Fo(Qo(e))];return null==n?a:Ee(n,t,r)}function Tn(t){return nc(t)&&An(t)==m}function Nn(t,e,r,n,o){return t===e||(null==t||null==e||!nc(t)&&!nc(e)?t!==t&&e!==e:function(t,e,r,n,o,i){var c=qi(t),s=qi(e),u=c?_:go(t),l=s?_:go(e),h=(u=u==m?E:u)==E,f=(l=l==m?E:l)==E,p=u==l;if(p&&Zi(t)){if(!Zi(e))return!1;c=!0,h=!1}if(p&&!h)return i||(i=new Yr),c||hc(t)?ro(t,e,r,n,o,i):function(t,e,r,n,a,o,i){switch(r){case G:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case P:return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case b:case O:case A:return Bi(+t,+e);case w:return t.name==e.name&&t.message==e.message;case C:case D:return t==e+"";case R:var c=ur;case L:var s=1&n;if(c||(c=fr),t.size!=e.size&&!s)return!1;var u=i.get(t);if(u)return u==e;n|=2,i.set(t,e);var l=ro(c(t),c(e),n,a,o,i);return i.delete(t),l;case T:if(Mr)return Mr.call(t)==Mr.call(e)}return!1}(t,e,u,r,n,o,i);if(!(1&r)){var d=h&&Gt.call(t,"__wrapped__"),y=f&&Gt.call(e,"__wrapped__");if(d||y){var g=d?t.value():t,v=y?e.value():e;return i||(i=new Yr),o(g,v,r,n,i)}}if(!p)return!1;return i||(i=new Yr),function(t,e,r,n,o,i){var c=1&r,s=ao(t),u=s.length,l=ao(e),h=l.length;if(u!=h&&!c)return!1;var f=u;for(;f--;){var p=s[f];if(!(c?p in e:Gt.call(e,p)))return!1}var d=i.get(t),y=i.get(e);if(d&&y)return d==e&&y==t;var g=!0;i.set(t,e),i.set(e,t);var v=c;for(;++f<u;){var m=t[p=s[f]],_=e[p];if(n)var b=c?n(_,m,p,e,t,i):n(m,_,p,t,e,i);if(!(b===a?m===_||o(m,_,r,n,i):b)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var O=t.constructor,w=e.constructor;O==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof O&&O instanceof O&&"function"==typeof w&&w instanceof w||(g=!1)}return i.delete(t),i.delete(e),g}(t,e,r,n,o,i)}(t,e,r,n,Nn,o))}function Pn(t,e,r,n){var o=r.length,i=o,c=!n;if(null==t)return!i;for(t=At(t);o--;){var s=r[o];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var u=(s=r[o])[0],l=t[u],h=s[1];if(c&&s[2]){if(l===a&&!(u in t))return!1}else{var f=new Yr;if(n)var p=n(l,h,u,t,e,f);if(!(p===a?Nn(h,l,3,n,f):p))return!1}}return!0}function Gn(t){return!(!rc(t)||(e=t,It&&It in e))&&(Ji(t)?jt:mt).test(Wo(t));var e}function Un(t){return"function"==typeof t?t:null==t?os:"object"==typeof t?qi(t)?Bn(t[0],t[1]):jn(t):ds(t)}function In(t){if(!Ro(t))return We(t);var e=[];for(var r in At(t))Gt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Mn(t){if(!rc(t))return function(t){var e=[];if(null!=t)for(var r in At(t))e.push(r);return e}(t);var e=Ro(t),r=[];for(var n in t)("constructor"!=n||!e&&Gt.call(t,n))&&r.push(n);return r}function Fn(t,e){return t<e}function Wn(t,e){var n=-1,a=Xi(t)?r(t.length):[];return pn(t,(function(t,r,o){a[++n]=e(t,r,o)})),a}function jn(t){var e=ho(t);return 1==e.length&&e[0][2]?Eo(e[0][0],e[0][1]):function(r){return r===t||Pn(r,t,e)}}function Bn(t,e){return wo(t)&&Ao(e)?Eo(Fo(t),e):function(r){var n=Sc(r,t);return n===a&&n===e?Cc(r,t):Nn(e,n,3)}}function zn(t,e,r,n,o){t!==e&&_n(e,(function(i,c){if(o||(o=new Yr),rc(i))!function(t,e,r,n,o,i,c){var s=Do(t,r),u=Do(e,r),l=c.get(u);if(l)return void tn(t,r,l);var h=i?i(s,u,r+"",t,e,c):a,f=h===a;if(f){var p=qi(u),d=!p&&Zi(u),y=!p&&!d&&hc(u);h=u,p||d||y?qi(s)?h=s:Yi(s)?h=La(s):d?(f=!1,h=xa(u,!0)):y?(f=!1,h=Aa(u,!0)):h=[]:ic(u)||Vi(u)?(h=s,Vi(s)?h=_c(s):rc(s)&&!Ji(s)||(h=mo(u))):f=!1}f&&(c.set(u,h),o(h,u,n,i,c),c.delete(u));tn(t,r,h)}(t,e,c,r,zn,n,o);else{var s=n?n(Do(t,c),i,c+"",t,e,o):a;s===a&&(s=i),tn(t,c,s)}}),Pc)}function Hn(t,e){var r=t.length;if(r)return bo(e+=e<0?r:0,r)?t[e]:a}function Vn(t,e,r){e=e.length?Ge(e,(function(t){return qi(t)?function(e){return xn(e,1===t.length?t[0]:t)}:t})):[os];var n=-1;e=Ge(e,Je(uo()));var a=Wn(t,(function(t,r,a){var o=Ge(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(a,(function(t,e){return function(t,e,r){var n=-1,a=t.criteria,o=e.criteria,i=a.length,c=r.length;for(;++n<i;){var s=Ea(a[n],o[n]);if(s)return n>=c?s:s*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function qn(t,e,r){for(var n=-1,a=e.length,o={};++n<a;){var i=e[n],c=xn(t,i);r(c,i)&&ta(o,ba(i,t),c)}return o}function Kn(t,e,r,n){var a=n?He:ze,o=-1,i=e.length,c=t;for(t===e&&(e=La(e)),r&&(c=Ge(t,Je(r)));++o<i;)for(var s=0,u=e[o],l=r?r(u):u;(s=a(c,l,s,n))>-1;)c!==t&&Yt.call(c,s,1),Yt.call(t,s,1);return t}function Xn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var a=e[r];if(r==n||a!==o){var o=a;bo(a)?Yt.call(t,a,1):fa(t,a)}}return t}function Yn(t,e){return t+de(wr()*(e-t+1))}function Zn(t,e){var r="";if(!t||e<1||e>d)return r;do{e%2&&(r+=t),(e=de(e/2))&&(t+=t)}while(e);return r}function $n(t,e){return Po(So(t,e,os),t+"")}function Qn(t){return $r(Bc(t))}function Jn(t,e){var r=Bc(t);return Io(r,sn(e,0,r.length))}function ta(t,e,r,n){if(!rc(t))return t;for(var o=-1,i=(e=ba(e,t)).length,c=i-1,s=t;null!=s&&++o<i;){var u=Fo(e[o]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=c){var h=s[u];(l=n?n(h,u,s):a)===a&&(l=rc(h)?h:bo(e[o+1])?[]:{})}en(s,u,l),s=s[u]}return t}var ea=Lr?function(t,e){return Lr.set(t,e),t}:os,ra=Jt?function(t,e){return Jt(t,"toString",{configurable:!0,enumerable:!1,value:rs(e),writable:!0})}:os;function na(t){return Io(Bc(t))}function aa(t,e,n){var a=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=r(o);++a<o;)i[a]=t[a+e];return i}function oa(t,e){var r;return pn(t,(function(t,n,a){return!(r=e(t,n,a))})),!!r}function ia(t,e,r){var n=0,a=null==t?n:t.length;if("number"==typeof e&&e===e&&a<=2147483647){for(;n<a;){var o=n+a>>>1,i=t[o];null!==i&&!lc(i)&&(r?i<=e:i<e)?n=o+1:a=o}return a}return ca(t,e,os,r)}function ca(t,e,r,n){var o=0,i=null==t?0:t.length;if(0===i)return 0;for(var c=(e=r(e))!==e,s=null===e,u=lc(e),l=e===a;o<i;){var h=de((o+i)/2),f=r(t[h]),p=f!==a,d=null===f,y=f===f,g=lc(f);if(c)var v=n||y;else v=l?y&&(n||p):s?y&&p&&(n||!d):u?y&&p&&!d&&(n||!g):!d&&!g&&(n?f<=e:f<e);v?o=h+1:i=h}return _r(i,4294967294)}function sa(t,e){for(var r=-1,n=t.length,a=0,o=[];++r<n;){var i=t[r],c=e?e(i):i;if(!r||!Bi(c,s)){var s=c;o[a++]=0===i?0:i}}return o}function ua(t){return"number"==typeof t?t:lc(t)?y:+t}function la(t){if("string"==typeof t)return t;if(qi(t))return Ge(t,la)+"";if(lc(t))return Fr?Fr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ha(t,e,r){var n=-1,a=Ne,o=t.length,i=!0,c=[],s=c;if(r)i=!1,a=Pe;else if(o>=200){var u=e?null:Za(t);if(u)return fr(u);i=!1,a=er,s=new Xr}else s=e?[]:c;t:for(;++n<o;){var l=t[n],h=e?e(l):l;if(l=r||0!==l?l:0,i&&h===h){for(var f=s.length;f--;)if(s[f]===h)continue t;e&&s.push(h),c.push(l)}else a(s,h,r)||(s!==c&&s.push(h),c.push(l))}return c}function fa(t,e){return null==(t=Co(t,e=ba(e,t)))||delete t[Fo(Qo(e))]}function pa(t,e,r,n){return ta(t,e,r(xn(t,e)),n)}function da(t,e,r,n){for(var a=t.length,o=n?a:-1;(n?o--:++o<a)&&e(t[o],o,t););return r?aa(t,n?0:o,n?o+1:a):aa(t,n?o+1:0,n?a:o)}function ya(t,e){var r=t;return r instanceof Hr&&(r=r.value()),Ie(e,(function(t,e){return e.func.apply(e.thisArg,Ue([t],e.args))}),r)}function ga(t,e,n){var a=t.length;if(a<2)return a?ha(t[0]):[];for(var o=-1,i=r(a);++o<a;)for(var c=t[o],s=-1;++s<a;)s!=o&&(i[o]=fn(i[o]||c,t[s],e,n));return ha(mn(i,1),e,n)}function va(t,e,r){for(var n=-1,o=t.length,i=e.length,c={};++n<o;){var s=n<i?e[n]:a;r(c,t[n],s)}return c}function ma(t){return Yi(t)?t:[]}function _a(t){return"function"==typeof t?t:os}function ba(t,e){return qi(t)?t:wo(t,e)?[t]:Mo(bc(t))}var Oa=$n;function wa(t,e,r){var n=t.length;return r=r===a?n:r,!e&&r>=n?t:aa(t,e,r)}var ka=re||function(t){return ye.clearTimeout(t)};function xa(t,e){if(e)return t.slice();var r=t.length,n=Vt?Vt(r):new t.constructor(r);return t.copy(n),n}function Ra(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Aa(t,e){var r=e?Ra(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Ea(t,e){if(t!==e){var r=t!==a,n=null===t,o=t===t,i=lc(t),c=e!==a,s=null===e,u=e===e,l=lc(e);if(!s&&!l&&!i&&t>e||i&&c&&u&&!s&&!l||n&&c&&u||!r&&u||!o)return 1;if(!n&&!i&&!l&&t<e||l&&r&&o&&!n&&!i||s&&r&&o||!c&&o||!u)return-1}return 0}function Sa(t,e,n,a){for(var o=-1,i=t.length,c=n.length,s=-1,u=e.length,l=Xe(i-c,0),h=r(u+l),f=!a;++s<u;)h[s]=e[s];for(;++o<c;)(f||o<i)&&(h[n[o]]=t[o]);for(;l--;)h[s++]=t[o++];return h}function Ca(t,e,n,a){for(var o=-1,i=t.length,c=-1,s=n.length,u=-1,l=e.length,h=Xe(i-s,0),f=r(h+l),p=!a;++o<h;)f[o]=t[o];for(var d=o;++u<l;)f[d+u]=e[u];for(;++c<s;)(p||o<i)&&(f[d+n[c]]=t[o++]);return f}function La(t,e){var n=-1,a=t.length;for(e||(e=r(a));++n<a;)e[n]=t[n];return e}function Da(t,e,r,n){var o=!r;r||(r={});for(var i=-1,c=e.length;++i<c;){var s=e[i],u=n?n(r[s],t[s],s,r,t):a;u===a&&(u=t[s]),o?on(r,s,u):en(r,s,u)}return r}function Ta(t,e){return function(r,n){var a=qi(r)?Se:nn,o=e?e():{};return a(r,t,uo(n,2),o)}}function Na(t){return $n((function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:a,c=o>2?r[2]:a;for(i=t.length>3&&"function"==typeof i?(o--,i):a,c&&Oo(r[0],r[1],c)&&(i=o<3?a:i,o=1),e=At(e);++n<o;){var s=r[n];s&&t(e,s,n,i)}return e}))}function Pa(t,e){return function(r,n){if(null==r)return r;if(!Xi(r))return t(r,n);for(var a=r.length,o=e?a:-1,i=At(r);(e?o--:++o<a)&&!1!==n(i[o],o,i););return r}}function Ga(t){return function(e,r,n){for(var a=-1,o=At(e),i=n(e),c=i.length;c--;){var s=i[t?c:++a];if(!1===r(o[s],s,o))break}return e}}function Ua(t){return function(e){var r=sr(e=bc(e))?yr(e):a,n=r?r[0]:e.charAt(0),o=r?wa(r,1).join(""):e.slice(1);return n[t]()+o}}function Ia(t){return function(e){return Ie(Jc(Vc(e).replace(te,"")),t,"")}}function Ma(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=jr(t.prototype),n=t.apply(r,e);return rc(n)?n:r}}function Fa(t){return function(e,r,n){var o=At(e);if(!Xi(e)){var i=uo(r,3);e=Nc(e),r=function(t){return i(o[t],t,o)}}var c=t(e,r,n);return c>-1?o[i?e[c]:c]:a}}function Wa(t){return no((function(e){var r=e.length,n=r,i=zr.prototype.thru;for(t&&e.reverse();n--;){var c=e[n];if("function"!=typeof c)throw new Ct(o);if(i&&!s&&"wrapper"==co(c))var s=new zr([],!0)}for(n=s?n:r;++n<r;){var u=co(c=e[n]),l="wrapper"==u?io(c):a;s=l&&ko(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[co(l[0])].apply(s,l[3]):1==c.length&&ko(c)?s[u]():s.thru(c)}return function(){var t=arguments,n=t[0];if(s&&1==t.length&&qi(n))return s.plant(n).value();for(var a=0,o=r?e[a].apply(this,t):n;++a<r;)o=e[a].call(this,o);return o}}))}function ja(t,e,n,o,i,c,s,u,l,f){var p=e&h,d=1&e,y=2&e,g=24&e,v=512&e,m=y?a:Ma(t);return function a(){for(var h=arguments.length,_=r(h),b=h;b--;)_[b]=arguments[b];if(g)var O=so(a),w=ar(_,O);if(o&&(_=Sa(_,o,i,g)),c&&(_=Ca(_,c,s,g)),h-=w,g&&h<f){var k=hr(_,O);return Xa(t,e,ja,a.placeholder,n,_,k,u,l,f-h)}var x=d?n:this,R=y?x[t]:t;return h=_.length,u?_=Lo(_,u):v&&h>1&&_.reverse(),p&&l<h&&(_.length=l),this&&this!==ye&&this instanceof a&&(R=m||Ma(R)),R.apply(x,_)}}function Ba(t,e){return function(r,n){return function(t,e,r,n){return On(t,(function(t,a,o){e(n,r(t),a,o)})),n}(r,t,e(n),{})}}function za(t,e){return function(r,n){var o;if(r===a&&n===a)return e;if(r!==a&&(o=r),n!==a){if(o===a)return n;"string"==typeof r||"string"==typeof n?(r=la(r),n=la(n)):(r=ua(r),n=ua(n)),o=t(r,n)}return o}}function Ha(t){return no((function(e){return e=Ge(e,Je(uo())),$n((function(r){var n=this;return t(e,(function(t){return Ee(t,n,r)}))}))}))}function Va(t,e){var r=(e=e===a?" ":la(e)).length;if(r<2)return r?Zn(e,t):e;var n=Zn(e,pe(t/dr(e)));return sr(e)?wa(yr(n),0,t).join(""):n.slice(0,t)}function qa(t){return function(e,n,o){return o&&"number"!=typeof o&&Oo(e,n,o)&&(n=o=a),e=yc(e),n===a?(n=e,e=0):n=yc(n),function(t,e,n,a){for(var o=-1,i=Xe(pe((e-t)/(n||1)),0),c=r(i);i--;)c[a?i:++o]=t,t+=n;return c}(e,n,o=o===a?e<n?1:-1:yc(o),t)}}function Ka(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=mc(e),r=mc(r)),t(e,r)}}function Xa(t,e,r,n,o,i,c,s,h,f){var p=8&e;e|=p?u:l,4&(e&=~(p?l:u))||(e&=-4);var d=[t,e,o,p?i:a,p?c:a,p?a:i,p?a:c,s,h,f],y=r.apply(a,d);return ko(t)&&To(y,d),y.placeholder=n,Go(y,t,e)}function Ya(t){var e=Rt[t];return function(t,r){if(t=mc(t),(r=null==r?0:_r(gc(r),292))&&_e(t)){var n=(bc(t)+"e").split("e");return+((n=(bc(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Za=Er&&1/fr(new Er([,-0]))[1]==p?function(t){return new Er(t)}:ls;function $a(t){return function(e){var r=go(e);return r==R?ur(e):r==L?pr(e):function(t,e){return Ge(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qa(t,e,n,i,p,d,y,g){var v=2&e;if(!v&&"function"!=typeof t)throw new Ct(o);var m=i?i.length:0;if(m||(e&=-97,i=p=a),y=y===a?y:Xe(gc(y),0),g=g===a?g:gc(g),m-=p?p.length:0,e&l){var _=i,b=p;i=p=a}var O=v?a:io(t),w=[t,e,n,i,p,_,b,d,y,g];if(O&&function(t,e){var r=t[1],n=e[1],a=r|n,o=a<131,i=n==h&&8==r||n==h&&r==f&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!i)return t;1&n&&(t[2]=e[2],a|=1&r?0:4);var s=e[3];if(s){var u=t[3];t[3]=u?Sa(u,s,e[4]):s,t[4]=u?hr(t[3],c):e[4]}(s=e[5])&&(u=t[5],t[5]=u?Ca(u,s,e[6]):s,t[6]=u?hr(t[5],c):e[6]);(s=e[7])&&(t[7]=s);n&h&&(t[8]=null==t[8]?e[8]:_r(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=a}(w,O),t=w[0],e=w[1],n=w[2],i=w[3],p=w[4],!(g=w[9]=w[9]===a?v?0:t.length:Xe(w[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)k=8==e||e==s?function(t,e,n){var o=Ma(t);return function i(){for(var c=arguments.length,s=r(c),u=c,l=so(i);u--;)s[u]=arguments[u];var h=c<3&&s[0]!==l&&s[c-1]!==l?[]:hr(s,l);return(c-=h.length)<n?Xa(t,e,ja,i.placeholder,a,s,h,a,a,n-c):Ee(this&&this!==ye&&this instanceof i?o:t,this,s)}}(t,e,g):e!=u&&33!=e||p.length?ja.apply(a,w):function(t,e,n,a){var o=1&e,i=Ma(t);return function e(){for(var c=-1,s=arguments.length,u=-1,l=a.length,h=r(l+s),f=this&&this!==ye&&this instanceof e?i:t;++u<l;)h[u]=a[u];for(;s--;)h[u++]=arguments[++c];return Ee(f,o?n:this,h)}}(t,e,n,i);else var k=function(t,e,r){var n=1&e,a=Ma(t);return function e(){return(this&&this!==ye&&this instanceof e?a:t).apply(n?r:this,arguments)}}(t,e,n);return Go((O?ea:To)(k,w),t,e)}function Ja(t,e,r,n){return t===a||Bi(t,Tt[r])&&!Gt.call(n,r)?e:t}function to(t,e,r,n,o,i){return rc(t)&&rc(e)&&(i.set(e,t),zn(t,e,a,to,i),i.delete(e)),t}function eo(t){return ic(t)?a:t}function ro(t,e,r,n,o,i){var c=1&r,s=t.length,u=e.length;if(s!=u&&!(c&&u>s))return!1;var l=i.get(t),h=i.get(e);if(l&&h)return l==e&&h==t;var f=-1,p=!0,d=2&r?new Xr:a;for(i.set(t,e),i.set(e,t);++f<s;){var y=t[f],g=e[f];if(n)var v=c?n(g,y,f,e,t,i):n(y,g,f,t,e,i);if(v!==a){if(v)continue;p=!1;break}if(d){if(!Fe(e,(function(t,e){if(!er(d,e)&&(y===t||o(y,t,r,n,i)))return d.push(e)}))){p=!1;break}}else if(y!==g&&!o(y,g,r,n,i)){p=!1;break}}return i.delete(t),i.delete(e),p}function no(t){return Po(So(t,a,Ko),t+"")}function ao(t){return Rn(t,Nc,po)}function oo(t){return Rn(t,Pc,yo)}var io=Lr?function(t){return Lr.get(t)}:ls;function co(t){for(var e=t.name+"",r=Dr[e],n=Gt.call(Dr,e)?r.length:0;n--;){var a=r[n],o=a.func;if(null==o||o==t)return a.name}return e}function so(t){return(Gt.call(Wr,"placeholder")?Wr:t).placeholder}function uo(){var t=Wr.iteratee||is;return t=t===is?Un:t,arguments.length?t(arguments[0],arguments[1]):t}function lo(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function ho(t){for(var e=Nc(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,Ao(a)]}return e}function fo(t,e){var r=function(t,e){return null==t?a:t[e]}(t,e);return Gn(r)?r:a}var po=ge?function(t){return null==t?[]:(t=At(t),Te(ge(t),(function(e){return Xt.call(t,e)})))}:vs,yo=ge?function(t){for(var e=[];t;)Ue(e,po(t)),t=qt(t);return e}:vs,go=An;function vo(t,e,r){for(var n=-1,a=(e=ba(e,t)).length,o=!1;++n<a;){var i=Fo(e[n]);if(!(o=null!=t&&r(t,i)))break;t=t[i]}return o||++n!=a?o:!!(a=null==t?0:t.length)&&ec(a)&&bo(i,a)&&(qi(t)||Vi(t))}function mo(t){return"function"!=typeof t.constructor||Ro(t)?{}:jr(qt(t))}function _o(t){return qi(t)||Vi(t)||!!(Zt&&t&&t[Zt])}function bo(t,e){var r=typeof t;return!!(e=null==e?d:e)&&("number"==r||"symbol"!=r&&bt.test(t))&&t>-1&&t%1==0&&t<e}function Oo(t,e,r){if(!rc(r))return!1;var n=typeof e;return!!("number"==n?Xi(r)&&bo(e,r.length):"string"==n&&e in r)&&Bi(r[e],t)}function wo(t,e){if(qi(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!lc(t))||(rt.test(t)||!et.test(t)||null!=e&&t in At(e))}function ko(t){var e=co(t),r=Wr[e];if("function"!=typeof r||!(e in Hr.prototype))return!1;if(t===r)return!0;var n=io(r);return!!n&&t===n[0]}(xr&&go(new xr(new ArrayBuffer(1)))!=G||Rr&&go(new Rr)!=R||Ar&&go(Ar.resolve())!=S||Er&&go(new Er)!=L||Sr&&go(new Sr)!=N)&&(go=function(t){var e=An(t),r=e==E?t.constructor:a,n=r?Wo(r):"";if(n)switch(n){case Tr:return G;case Nr:return R;case Pr:return S;case Gr:return L;case Ur:return N}return e});var xo=Nt?Ji:ms;function Ro(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Tt)}function Ao(t){return t===t&&!rc(t)}function Eo(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==a||t in At(r)))}}function So(t,e,n){return e=Xe(e===a?t.length-1:e,0),function(){for(var a=arguments,o=-1,i=Xe(a.length-e,0),c=r(i);++o<i;)c[o]=a[e+o];o=-1;for(var s=r(e+1);++o<e;)s[o]=a[o];return s[e]=n(c),Ee(t,this,s)}}function Co(t,e){return e.length<2?t:xn(t,aa(e,0,-1))}function Lo(t,e){for(var r=t.length,n=_r(e.length,r),o=La(t);n--;){var i=e[n];t[n]=bo(i,r)?o[i]:a}return t}function Do(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var To=Uo(ea),No=le||function(t,e){return ye.setTimeout(t,e)},Po=Uo(ra);function Go(t,e,r){var n=e+"";return Po(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(st,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Ce(v,(function(r){var n="_."+r[0];e&r[1]&&!Ne(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(lt):[]}(n),r)))}function Uo(t){var e=0,r=0;return function(){var n=br(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(a,arguments)}}function Io(t,e){var r=-1,n=t.length,o=n-1;for(e=e===a?n:e;++r<e;){var i=Yn(r,o),c=t[i];t[i]=t[r],t[r]=c}return t.length=e,t}var Mo=function(t){var e=Ui(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,r,n,a){e.push(n?a.replace(pt,"$1"):r||t)})),e}));function Fo(t){if("string"==typeof t||lc(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Wo(t){if(null!=t){try{return Pt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function jo(t){if(t instanceof Hr)return t.clone();var e=new zr(t.__wrapped__,t.__chain__);return e.__actions__=La(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Bo=$n((function(t,e){return Yi(t)?fn(t,mn(e,1,Yi,!0)):[]})),zo=$n((function(t,e){var r=Qo(e);return Yi(r)&&(r=a),Yi(t)?fn(t,mn(e,1,Yi,!0),uo(r,2)):[]})),Ho=$n((function(t,e){var r=Qo(e);return Yi(r)&&(r=a),Yi(t)?fn(t,mn(e,1,Yi,!0),a,r):[]}));function Vo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var a=null==r?0:gc(r);return a<0&&(a=Xe(n+a,0)),Be(t,uo(e,3),a)}function qo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return r!==a&&(o=gc(r),o=r<0?Xe(n+o,0):_r(o,n-1)),Be(t,uo(e,3),o,!0)}function Ko(t){return(null==t?0:t.length)?mn(t,1):[]}function Xo(t){return t&&t.length?t[0]:a}var Yo=$n((function(t){var e=Ge(t,ma);return e.length&&e[0]===t[0]?Ln(e):[]})),Zo=$n((function(t){var e=Qo(t),r=Ge(t,ma);return e===Qo(r)?e=a:r.pop(),r.length&&r[0]===t[0]?Ln(r,uo(e,2)):[]})),$o=$n((function(t){var e=Qo(t),r=Ge(t,ma);return(e="function"==typeof e?e:a)&&r.pop(),r.length&&r[0]===t[0]?Ln(r,a,e):[]}));function Qo(t){var e=null==t?0:t.length;return e?t[e-1]:a}var Jo=$n(ti);function ti(t,e){return t&&t.length&&e&&e.length?Kn(t,e):t}var ei=no((function(t,e){var r=null==t?0:t.length,n=cn(t,e);return Xn(t,Ge(e,(function(t){return bo(t,r)?+t:t})).sort(Ea)),n}));function ri(t){return null==t?t:kr.call(t)}var ni=$n((function(t){return ha(mn(t,1,Yi,!0))})),ai=$n((function(t){var e=Qo(t);return Yi(e)&&(e=a),ha(mn(t,1,Yi,!0),uo(e,2))})),oi=$n((function(t){var e=Qo(t);return e="function"==typeof e?e:a,ha(mn(t,1,Yi,!0),a,e)}));function ii(t){if(!t||!t.length)return[];var e=0;return t=Te(t,(function(t){if(Yi(t))return e=Xe(t.length,e),!0})),$e(e,(function(e){return Ge(t,Ke(e))}))}function ci(t,e){if(!t||!t.length)return[];var r=ii(t);return null==e?r:Ge(r,(function(t){return Ee(e,a,t)}))}var si=$n((function(t,e){return Yi(t)?fn(t,e):[]})),ui=$n((function(t){return ga(Te(t,Yi))})),li=$n((function(t){var e=Qo(t);return Yi(e)&&(e=a),ga(Te(t,Yi),uo(e,2))})),hi=$n((function(t){var e=Qo(t);return e="function"==typeof e?e:a,ga(Te(t,Yi),a,e)})),fi=$n(ii);var pi=$n((function(t){var e=t.length,r=e>1?t[e-1]:a;return r="function"==typeof r?(t.pop(),r):a,ci(t,r)}));function di(t){var e=Wr(t);return e.__chain__=!0,e}function yi(t,e){return e(t)}var gi=no((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,o=function(e){return cn(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Hr&&bo(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:yi,args:[o],thisArg:a}),new zr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(a),t}))):this.thru(o)}));var vi=Ta((function(t,e,r){Gt.call(t,r)?++t[r]:on(t,r,1)}));var mi=Fa(Vo),_i=Fa(qo);function bi(t,e){return(qi(t)?Ce:pn)(t,uo(e,3))}function Oi(t,e){return(qi(t)?Le:dn)(t,uo(e,3))}var wi=Ta((function(t,e,r){Gt.call(t,r)?t[r].push(e):on(t,r,[e])}));var ki=$n((function(t,e,n){var a=-1,o="function"==typeof e,i=Xi(t)?r(t.length):[];return pn(t,(function(t){i[++a]=o?Ee(e,t,n):Dn(t,e,n)})),i})),xi=Ta((function(t,e,r){on(t,r,e)}));function Ri(t,e){return(qi(t)?Ge:Wn)(t,uo(e,3))}var Ai=Ta((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var Ei=$n((function(t,e){if(null==t)return[];var r=e.length;return r>1&&Oo(t,e[0],e[1])?e=[]:r>2&&Oo(e[0],e[1],e[2])&&(e=[e[0]]),Vn(t,mn(e,1),[])})),Si=ae||function(){return ye.Date.now()};function Ci(t,e,r){return e=r?a:e,e=t&&null==e?t.length:e,Qa(t,h,a,a,a,a,e)}function Li(t,e){var r;if("function"!=typeof e)throw new Ct(o);return t=gc(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=a),r}}var Di=$n((function(t,e,r){var n=1;if(r.length){var a=hr(r,so(Di));n|=u}return Qa(t,n,e,r,a)})),Ti=$n((function(t,e,r){var n=3;if(r.length){var a=hr(r,so(Ti));n|=u}return Qa(e,n,t,r,a)}));function Ni(t,e,r){var n,i,c,s,u,l,h=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new Ct(o);function y(e){var r=n,o=i;return n=i=a,h=e,s=t.apply(o,r)}function g(t){return h=t,u=No(m,e),f?y(t):s}function v(t){var r=t-l;return l===a||r>=e||r<0||p&&t-h>=c}function m(){var t=Si();if(v(t))return _(t);u=No(m,function(t){var r=e-(t-l);return p?_r(r,c-(t-h)):r}(t))}function _(t){return u=a,d&&n?y(t):(n=i=a,s)}function b(){var t=Si(),r=v(t);if(n=arguments,i=this,l=t,r){if(u===a)return g(l);if(p)return ka(u),u=No(m,e),y(l)}return u===a&&(u=No(m,e)),s}return e=mc(e)||0,rc(r)&&(f=!!r.leading,c=(p="maxWait"in r)?Xe(mc(r.maxWait)||0,e):c,d="trailing"in r?!!r.trailing:d),b.cancel=function(){u!==a&&ka(u),h=0,n=l=i=u=a},b.flush=function(){return u===a?s:_(Si())},b}var Pi=$n((function(t,e){return hn(t,1,e)})),Gi=$n((function(t,e,r){return hn(t,mc(e)||0,r)}));function Ui(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ct(o);var r=function r(){var n=arguments,a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=t.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Ui.Cache||Kr),r}function Ii(t){if("function"!=typeof t)throw new Ct(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ui.Cache=Kr;var Mi=Oa((function(t,e){var r=(e=1==e.length&&qi(e[0])?Ge(e[0],Je(uo())):Ge(mn(e,1),Je(uo()))).length;return $n((function(n){for(var a=-1,o=_r(n.length,r);++a<o;)n[a]=e[a].call(this,n[a]);return Ee(t,this,n)}))})),Fi=$n((function(t,e){var r=hr(e,so(Fi));return Qa(t,u,a,e,r)})),Wi=$n((function(t,e){var r=hr(e,so(Wi));return Qa(t,l,a,e,r)})),ji=no((function(t,e){return Qa(t,f,a,a,a,e)}));function Bi(t,e){return t===e||t!==t&&e!==e}var zi=Ka(En),Hi=Ka((function(t,e){return t>=e})),Vi=Tn(function(){return arguments}())?Tn:function(t){return nc(t)&&Gt.call(t,"callee")&&!Xt.call(t,"callee")},qi=r.isArray,Ki=Oe?Je(Oe):function(t){return nc(t)&&An(t)==P};function Xi(t){return null!=t&&ec(t.length)&&!Ji(t)}function Yi(t){return nc(t)&&Xi(t)}var Zi=ve||ms,$i=we?Je(we):function(t){return nc(t)&&An(t)==O};function Qi(t){if(!nc(t))return!1;var e=An(t);return e==w||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ic(t)}function Ji(t){if(!rc(t))return!1;var e=An(t);return e==k||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function tc(t){return"number"==typeof t&&t==gc(t)}function ec(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function rc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function nc(t){return null!=t&&"object"==typeof t}var ac=ke?Je(ke):function(t){return nc(t)&&go(t)==R};function oc(t){return"number"==typeof t||nc(t)&&An(t)==A}function ic(t){if(!nc(t)||An(t)!=E)return!1;var e=qt(t);if(null===e)return!0;var r=Gt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Pt.call(r)==Ft}var cc=xe?Je(xe):function(t){return nc(t)&&An(t)==C};var sc=Re?Je(Re):function(t){return nc(t)&&go(t)==L};function uc(t){return"string"==typeof t||!qi(t)&&nc(t)&&An(t)==D}function lc(t){return"symbol"==typeof t||nc(t)&&An(t)==T}var hc=Ae?Je(Ae):function(t){return nc(t)&&ec(t.length)&&!!se[An(t)]};var fc=Ka(Fn),pc=Ka((function(t,e){return t<=e}));function dc(t){if(!t)return[];if(Xi(t))return uc(t)?yr(t):La(t);if($t&&t[$t])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[$t]());var e=go(t);return(e==R?ur:e==L?fr:Bc)(t)}function yc(t){return t?(t=mc(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function gc(t){var e=yc(t),r=e%1;return e===e?r?e-r:e:0}function vc(t){return t?sn(gc(t),0,g):0}function mc(t){if("number"==typeof t)return t;if(lc(t))return y;if(rc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=rc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Qe(t);var r=vt.test(t);return r||_t.test(t)?fe(t.slice(2),r?2:8):gt.test(t)?y:+t}function _c(t){return Da(t,Pc(t))}function bc(t){return null==t?"":la(t)}var Oc=Na((function(t,e){if(Ro(e)||Xi(e))Da(e,Nc(e),t);else for(var r in e)Gt.call(e,r)&&en(t,r,e[r])})),wc=Na((function(t,e){Da(e,Pc(e),t)})),kc=Na((function(t,e,r,n){Da(e,Pc(e),t,n)})),xc=Na((function(t,e,r,n){Da(e,Nc(e),t,n)})),Rc=no(cn);var Ac=$n((function(t,e){t=At(t);var r=-1,n=e.length,o=n>2?e[2]:a;for(o&&Oo(e[0],e[1],o)&&(n=1);++r<n;)for(var i=e[r],c=Pc(i),s=-1,u=c.length;++s<u;){var l=c[s],h=t[l];(h===a||Bi(h,Tt[l])&&!Gt.call(t,l))&&(t[l]=i[l])}return t})),Ec=$n((function(t){return t.push(a,to),Ee(Uc,a,t)}));function Sc(t,e,r){var n=null==t?a:xn(t,e);return n===a?r:n}function Cc(t,e){return null!=t&&vo(t,e,Cn)}var Lc=Ba((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),t[e]=r}),rs(os)),Dc=Ba((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),Gt.call(t,e)?t[e].push(r):t[e]=[r]}),uo),Tc=$n(Dn);function Nc(t){return Xi(t)?Zr(t):In(t)}function Pc(t){return Xi(t)?Zr(t,!0):Mn(t)}var Gc=Na((function(t,e,r){zn(t,e,r)})),Uc=Na((function(t,e,r,n){zn(t,e,r,n)})),Ic=no((function(t,e){var r={};if(null==t)return r;var n=!1;e=Ge(e,(function(e){return e=ba(e,t),n||(n=e.length>1),e})),Da(t,oo(t),r),n&&(r=un(r,7,eo));for(var a=e.length;a--;)fa(r,e[a]);return r}));var Mc=no((function(t,e){return null==t?{}:function(t,e){return qn(t,e,(function(e,r){return Cc(t,r)}))}(t,e)}));function Fc(t,e){if(null==t)return{};var r=Ge(oo(t),(function(t){return[t]}));return e=uo(e),qn(t,r,(function(t,r){return e(t,r[0])}))}var Wc=$a(Nc),jc=$a(Pc);function Bc(t){return null==t?[]:tr(t,Nc(t))}var zc=Ia((function(t,e,r){return e=e.toLowerCase(),t+(r?Hc(e):e)}));function Hc(t){return Qc(bc(t).toLowerCase())}function Vc(t){return(t=bc(t))&&t.replace(Ot,or).replace(ee,"")}var qc=Ia((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Kc=Ia((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Xc=Ua("toLowerCase");var Yc=Ia((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Zc=Ia((function(t,e,r){return t+(r?" ":"")+Qc(e)}));var $c=Ia((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Qc=Ua("toUpperCase");function Jc(t,e,r){return t=bc(t),(e=r?a:e)===a?function(t){return oe.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var ts=$n((function(t,e){try{return Ee(t,a,e)}catch(r){return Qi(r)?r:new ct(r)}})),es=no((function(t,e){return Ce(e,(function(e){e=Fo(e),on(t,e,Di(t[e],t))})),t}));function rs(t){return function(){return t}}var ns=Wa(),as=Wa(!0);function os(t){return t}function is(t){return Un("function"==typeof t?t:un(t,1))}var cs=$n((function(t,e){return function(r){return Dn(r,t,e)}})),ss=$n((function(t,e){return function(r){return Dn(t,r,e)}}));function us(t,e,r){var n=Nc(e),a=kn(e,n);null!=r||rc(e)&&(a.length||!n.length)||(r=e,e=t,t=this,a=kn(e,Nc(e)));var o=!(rc(r)&&"chain"in r)||!!r.chain,i=Ji(t);return Ce(a,(function(r){var n=e[r];t[r]=n,i&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),a=r.__actions__=La(this.__actions__);return a.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Ue([this.value()],arguments))})})),t}function ls(){}var hs=Ha(Ge),fs=Ha(De),ps=Ha(Fe);function ds(t){return wo(t)?Ke(Fo(t)):function(t){return function(e){return xn(e,t)}}(t)}var ys=qa(),gs=qa(!0);function vs(){return[]}function ms(){return!1}var _s=za((function(t,e){return t+e}),0),bs=Ya("ceil"),Os=za((function(t,e){return t/e}),1),ws=Ya("floor");var ks=za((function(t,e){return t*e}),1),xs=Ya("round"),Rs=za((function(t,e){return t-e}),0);return Wr.after=function(t,e){if("function"!=typeof e)throw new Ct(o);return t=gc(t),function(){if(--t<1)return e.apply(this,arguments)}},Wr.ary=Ci,Wr.assign=Oc,Wr.assignIn=wc,Wr.assignInWith=kc,Wr.assignWith=xc,Wr.at=Rc,Wr.before=Li,Wr.bind=Di,Wr.bindAll=es,Wr.bindKey=Ti,Wr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qi(t)?t:[t]},Wr.chain=di,Wr.chunk=function(t,e,n){e=(n?Oo(t,e,n):e===a)?1:Xe(gc(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,c=0,s=r(pe(o/e));i<o;)s[c++]=aa(t,i,i+=e);return s},Wr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,a=[];++e<r;){var o=t[e];o&&(a[n++]=o)}return a},Wr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],a=t;a--;)e[a-1]=arguments[a];return Ue(qi(n)?La(n):[n],mn(e,1))},Wr.cond=function(t){var e=null==t?0:t.length,r=uo();return t=e?Ge(t,(function(t){if("function"!=typeof t[1])throw new Ct(o);return[r(t[0]),t[1]]})):[],$n((function(r){for(var n=-1;++n<e;){var a=t[n];if(Ee(a[0],this,r))return Ee(a[1],this,r)}}))},Wr.conforms=function(t){return function(t){var e=Nc(t);return function(r){return ln(r,t,e)}}(un(t,1))},Wr.constant=rs,Wr.countBy=vi,Wr.create=function(t,e){var r=jr(t);return null==e?r:an(r,e)},Wr.curry=function t(e,r,n){var o=Qa(e,8,a,a,a,a,a,r=n?a:r);return o.placeholder=t.placeholder,o},Wr.curryRight=function t(e,r,n){var o=Qa(e,s,a,a,a,a,a,r=n?a:r);return o.placeholder=t.placeholder,o},Wr.debounce=Ni,Wr.defaults=Ac,Wr.defaultsDeep=Ec,Wr.defer=Pi,Wr.delay=Gi,Wr.difference=Bo,Wr.differenceBy=zo,Wr.differenceWith=Ho,Wr.drop=function(t,e,r){var n=null==t?0:t.length;return n?aa(t,(e=r||e===a?1:gc(e))<0?0:e,n):[]},Wr.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?aa(t,0,(e=n-(e=r||e===a?1:gc(e)))<0?0:e):[]},Wr.dropRightWhile=function(t,e){return t&&t.length?da(t,uo(e,3),!0,!0):[]},Wr.dropWhile=function(t,e){return t&&t.length?da(t,uo(e,3),!0):[]},Wr.fill=function(t,e,r,n){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&Oo(t,e,r)&&(r=0,n=o),function(t,e,r,n){var o=t.length;for((r=gc(r))<0&&(r=-r>o?0:o+r),(n=n===a||n>o?o:gc(n))<0&&(n+=o),n=r>n?0:vc(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},Wr.filter=function(t,e){return(qi(t)?Te:vn)(t,uo(e,3))},Wr.flatMap=function(t,e){return mn(Ri(t,e),1)},Wr.flatMapDeep=function(t,e){return mn(Ri(t,e),p)},Wr.flatMapDepth=function(t,e,r){return r=r===a?1:gc(r),mn(Ri(t,e),r)},Wr.flatten=Ko,Wr.flattenDeep=function(t){return(null==t?0:t.length)?mn(t,p):[]},Wr.flattenDepth=function(t,e){return(null==t?0:t.length)?mn(t,e=e===a?1:gc(e)):[]},Wr.flip=function(t){return Qa(t,512)},Wr.flow=ns,Wr.flowRight=as,Wr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var a=t[e];n[a[0]]=a[1]}return n},Wr.functions=function(t){return null==t?[]:kn(t,Nc(t))},Wr.functionsIn=function(t){return null==t?[]:kn(t,Pc(t))},Wr.groupBy=wi,Wr.initial=function(t){return(null==t?0:t.length)?aa(t,0,-1):[]},Wr.intersection=Yo,Wr.intersectionBy=Zo,Wr.intersectionWith=$o,Wr.invert=Lc,Wr.invertBy=Dc,Wr.invokeMap=ki,Wr.iteratee=is,Wr.keyBy=xi,Wr.keys=Nc,Wr.keysIn=Pc,Wr.map=Ri,Wr.mapKeys=function(t,e){var r={};return e=uo(e,3),On(t,(function(t,n,a){on(r,e(t,n,a),t)})),r},Wr.mapValues=function(t,e){var r={};return e=uo(e,3),On(t,(function(t,n,a){on(r,n,e(t,n,a))})),r},Wr.matches=function(t){return jn(un(t,1))},Wr.matchesProperty=function(t,e){return Bn(t,un(e,1))},Wr.memoize=Ui,Wr.merge=Gc,Wr.mergeWith=Uc,Wr.method=cs,Wr.methodOf=ss,Wr.mixin=us,Wr.negate=Ii,Wr.nthArg=function(t){return t=gc(t),$n((function(e){return Hn(e,t)}))},Wr.omit=Ic,Wr.omitBy=function(t,e){return Fc(t,Ii(uo(e)))},Wr.once=function(t){return Li(2,t)},Wr.orderBy=function(t,e,r,n){return null==t?[]:(qi(e)||(e=null==e?[]:[e]),qi(r=n?a:r)||(r=null==r?[]:[r]),Vn(t,e,r))},Wr.over=hs,Wr.overArgs=Mi,Wr.overEvery=fs,Wr.overSome=ps,Wr.partial=Fi,Wr.partialRight=Wi,Wr.partition=Ai,Wr.pick=Mc,Wr.pickBy=Fc,Wr.property=ds,Wr.propertyOf=function(t){return function(e){return null==t?a:xn(t,e)}},Wr.pull=Jo,Wr.pullAll=ti,Wr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Kn(t,e,uo(r,2)):t},Wr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Kn(t,e,a,r):t},Wr.pullAt=ei,Wr.range=ys,Wr.rangeRight=gs,Wr.rearg=ji,Wr.reject=function(t,e){return(qi(t)?Te:vn)(t,Ii(uo(e,3)))},Wr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,a=[],o=t.length;for(e=uo(e,3);++n<o;){var i=t[n];e(i,n,t)&&(r.push(i),a.push(n))}return Xn(t,a),r},Wr.rest=function(t,e){if("function"!=typeof t)throw new Ct(o);return $n(t,e=e===a?e:gc(e))},Wr.reverse=ri,Wr.sampleSize=function(t,e,r){return e=(r?Oo(t,e,r):e===a)?1:gc(e),(qi(t)?Qr:Jn)(t,e)},Wr.set=function(t,e,r){return null==t?t:ta(t,e,r)},Wr.setWith=function(t,e,r,n){return n="function"==typeof n?n:a,null==t?t:ta(t,e,r,n)},Wr.shuffle=function(t){return(qi(t)?Jr:na)(t)},Wr.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&Oo(t,e,r)?(e=0,r=n):(e=null==e?0:gc(e),r=r===a?n:gc(r)),aa(t,e,r)):[]},Wr.sortBy=Ei,Wr.sortedUniq=function(t){return t&&t.length?sa(t):[]},Wr.sortedUniqBy=function(t,e){return t&&t.length?sa(t,uo(e,2)):[]},Wr.split=function(t,e,r){return r&&"number"!=typeof r&&Oo(t,e,r)&&(e=r=a),(r=r===a?g:r>>>0)?(t=bc(t))&&("string"==typeof e||null!=e&&!cc(e))&&!(e=la(e))&&sr(t)?wa(yr(t),0,r):t.split(e,r):[]},Wr.spread=function(t,e){if("function"!=typeof t)throw new Ct(o);return e=null==e?0:Xe(gc(e),0),$n((function(r){var n=r[e],a=wa(r,0,e);return n&&Ue(a,n),Ee(t,this,a)}))},Wr.tail=function(t){var e=null==t?0:t.length;return e?aa(t,1,e):[]},Wr.take=function(t,e,r){return t&&t.length?aa(t,0,(e=r||e===a?1:gc(e))<0?0:e):[]},Wr.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?aa(t,(e=n-(e=r||e===a?1:gc(e)))<0?0:e,n):[]},Wr.takeRightWhile=function(t,e){return t&&t.length?da(t,uo(e,3),!1,!0):[]},Wr.takeWhile=function(t,e){return t&&t.length?da(t,uo(e,3)):[]},Wr.tap=function(t,e){return e(t),t},Wr.throttle=function(t,e,r){var n=!0,a=!0;if("function"!=typeof t)throw new Ct(o);return rc(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ni(t,e,{leading:n,maxWait:e,trailing:a})},Wr.thru=yi,Wr.toArray=dc,Wr.toPairs=Wc,Wr.toPairsIn=jc,Wr.toPath=function(t){return qi(t)?Ge(t,Fo):lc(t)?[t]:La(Mo(bc(t)))},Wr.toPlainObject=_c,Wr.transform=function(t,e,r){var n=qi(t),a=n||Zi(t)||hc(t);if(e=uo(e,4),null==r){var o=t&&t.constructor;r=a?n?new o:[]:rc(t)&&Ji(o)?jr(qt(t)):{}}return(a?Ce:On)(t,(function(t,n,a){return e(r,t,n,a)})),r},Wr.unary=function(t){return Ci(t,1)},Wr.union=ni,Wr.unionBy=ai,Wr.unionWith=oi,Wr.uniq=function(t){return t&&t.length?ha(t):[]},Wr.uniqBy=function(t,e){return t&&t.length?ha(t,uo(e,2)):[]},Wr.uniqWith=function(t,e){return e="function"==typeof e?e:a,t&&t.length?ha(t,a,e):[]},Wr.unset=function(t,e){return null==t||fa(t,e)},Wr.unzip=ii,Wr.unzipWith=ci,Wr.update=function(t,e,r){return null==t?t:pa(t,e,_a(r))},Wr.updateWith=function(t,e,r,n){return n="function"==typeof n?n:a,null==t?t:pa(t,e,_a(r),n)},Wr.values=Bc,Wr.valuesIn=function(t){return null==t?[]:tr(t,Pc(t))},Wr.without=si,Wr.words=Jc,Wr.wrap=function(t,e){return Fi(_a(e),t)},Wr.xor=ui,Wr.xorBy=li,Wr.xorWith=hi,Wr.zip=fi,Wr.zipObject=function(t,e){return va(t||[],e||[],en)},Wr.zipObjectDeep=function(t,e){return va(t||[],e||[],ta)},Wr.zipWith=pi,Wr.entries=Wc,Wr.entriesIn=jc,Wr.extend=wc,Wr.extendWith=kc,us(Wr,Wr),Wr.add=_s,Wr.attempt=ts,Wr.camelCase=zc,Wr.capitalize=Hc,Wr.ceil=bs,Wr.clamp=function(t,e,r){return r===a&&(r=e,e=a),r!==a&&(r=(r=mc(r))===r?r:0),e!==a&&(e=(e=mc(e))===e?e:0),sn(mc(t),e,r)},Wr.clone=function(t){return un(t,4)},Wr.cloneDeep=function(t){return un(t,5)},Wr.cloneDeepWith=function(t,e){return un(t,5,e="function"==typeof e?e:a)},Wr.cloneWith=function(t,e){return un(t,4,e="function"==typeof e?e:a)},Wr.conformsTo=function(t,e){return null==e||ln(t,e,Nc(e))},Wr.deburr=Vc,Wr.defaultTo=function(t,e){return null==t||t!==t?e:t},Wr.divide=Os,Wr.endsWith=function(t,e,r){t=bc(t),e=la(e);var n=t.length,o=r=r===a?n:sn(gc(r),0,n);return(r-=e.length)>=0&&t.slice(r,o)==e},Wr.eq=Bi,Wr.escape=function(t){return(t=bc(t))&&$.test(t)?t.replace(Y,ir):t},Wr.escapeRegExp=function(t){return(t=bc(t))&&ot.test(t)?t.replace(at,"\\$&"):t},Wr.every=function(t,e,r){var n=qi(t)?De:yn;return r&&Oo(t,e,r)&&(e=a),n(t,uo(e,3))},Wr.find=mi,Wr.findIndex=Vo,Wr.findKey=function(t,e){return je(t,uo(e,3),On)},Wr.findLast=_i,Wr.findLastIndex=qo,Wr.findLastKey=function(t,e){return je(t,uo(e,3),wn)},Wr.floor=ws,Wr.forEach=bi,Wr.forEachRight=Oi,Wr.forIn=function(t,e){return null==t?t:_n(t,uo(e,3),Pc)},Wr.forInRight=function(t,e){return null==t?t:bn(t,uo(e,3),Pc)},Wr.forOwn=function(t,e){return t&&On(t,uo(e,3))},Wr.forOwnRight=function(t,e){return t&&wn(t,uo(e,3))},Wr.get=Sc,Wr.gt=zi,Wr.gte=Hi,Wr.has=function(t,e){return null!=t&&vo(t,e,Sn)},Wr.hasIn=Cc,Wr.head=Xo,Wr.identity=os,Wr.includes=function(t,e,r,n){t=Xi(t)?t:Bc(t),r=r&&!n?gc(r):0;var a=t.length;return r<0&&(r=Xe(a+r,0)),uc(t)?r<=a&&t.indexOf(e,r)>-1:!!a&&ze(t,e,r)>-1},Wr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var a=null==r?0:gc(r);return a<0&&(a=Xe(n+a,0)),ze(t,e,a)},Wr.inRange=function(t,e,r){return e=yc(e),r===a?(r=e,e=0):r=yc(r),function(t,e,r){return t>=_r(e,r)&&t<Xe(e,r)}(t=mc(t),e,r)},Wr.invoke=Tc,Wr.isArguments=Vi,Wr.isArray=qi,Wr.isArrayBuffer=Ki,Wr.isArrayLike=Xi,Wr.isArrayLikeObject=Yi,Wr.isBoolean=function(t){return!0===t||!1===t||nc(t)&&An(t)==b},Wr.isBuffer=Zi,Wr.isDate=$i,Wr.isElement=function(t){return nc(t)&&1===t.nodeType&&!ic(t)},Wr.isEmpty=function(t){if(null==t)return!0;if(Xi(t)&&(qi(t)||"string"==typeof t||"function"==typeof t.splice||Zi(t)||hc(t)||Vi(t)))return!t.length;var e=go(t);if(e==R||e==L)return!t.size;if(Ro(t))return!In(t).length;for(var r in t)if(Gt.call(t,r))return!1;return!0},Wr.isEqual=function(t,e){return Nn(t,e)},Wr.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:a)?r(t,e):a;return n===a?Nn(t,e,a,r):!!n},Wr.isError=Qi,Wr.isFinite=function(t){return"number"==typeof t&&_e(t)},Wr.isFunction=Ji,Wr.isInteger=tc,Wr.isLength=ec,Wr.isMap=ac,Wr.isMatch=function(t,e){return t===e||Pn(t,e,ho(e))},Wr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:a,Pn(t,e,ho(e),r)},Wr.isNaN=function(t){return oc(t)&&t!=+t},Wr.isNative=function(t){if(xo(t))throw new ct("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Gn(t)},Wr.isNil=function(t){return null==t},Wr.isNull=function(t){return null===t},Wr.isNumber=oc,Wr.isObject=rc,Wr.isObjectLike=nc,Wr.isPlainObject=ic,Wr.isRegExp=cc,Wr.isSafeInteger=function(t){return tc(t)&&t>=-9007199254740991&&t<=d},Wr.isSet=sc,Wr.isString=uc,Wr.isSymbol=lc,Wr.isTypedArray=hc,Wr.isUndefined=function(t){return t===a},Wr.isWeakMap=function(t){return nc(t)&&go(t)==N},Wr.isWeakSet=function(t){return nc(t)&&"[object WeakSet]"==An(t)},Wr.join=function(t,e){return null==t?"":be.call(t,e)},Wr.kebabCase=qc,Wr.last=Qo,Wr.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n;return r!==a&&(o=(o=gc(r))<0?Xe(n+o,0):_r(o,n-1)),e===e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):Be(t,Ve,o,!0)},Wr.lowerCase=Kc,Wr.lowerFirst=Xc,Wr.lt=fc,Wr.lte=pc,Wr.max=function(t){return t&&t.length?gn(t,os,En):a},Wr.maxBy=function(t,e){return t&&t.length?gn(t,uo(e,2),En):a},Wr.mean=function(t){return qe(t,os)},Wr.meanBy=function(t,e){return qe(t,uo(e,2))},Wr.min=function(t){return t&&t.length?gn(t,os,Fn):a},Wr.minBy=function(t,e){return t&&t.length?gn(t,uo(e,2),Fn):a},Wr.stubArray=vs,Wr.stubFalse=ms,Wr.stubObject=function(){return{}},Wr.stubString=function(){return""},Wr.stubTrue=function(){return!0},Wr.multiply=ks,Wr.nth=function(t,e){return t&&t.length?Hn(t,gc(e)):a},Wr.noConflict=function(){return ye._===this&&(ye._=Wt),this},Wr.noop=ls,Wr.now=Si,Wr.pad=function(t,e,r){t=bc(t);var n=(e=gc(e))?dr(t):0;if(!e||n>=e)return t;var a=(e-n)/2;return Va(de(a),r)+t+Va(pe(a),r)},Wr.padEnd=function(t,e,r){t=bc(t);var n=(e=gc(e))?dr(t):0;return e&&n<e?t+Va(e-n,r):t},Wr.padStart=function(t,e,r){t=bc(t);var n=(e=gc(e))?dr(t):0;return e&&n<e?Va(e-n,r)+t:t},Wr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),Or(bc(t).replace(it,""),e||0)},Wr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&Oo(t,e,r)&&(e=r=a),r===a&&("boolean"==typeof e?(r=e,e=a):"boolean"==typeof t&&(r=t,t=a)),t===a&&e===a?(t=0,e=1):(t=yc(t),e===a?(e=t,t=0):e=yc(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var o=wr();return _r(t+o*(e-t+he("1e-"+((o+"").length-1))),e)}return Yn(t,e)},Wr.reduce=function(t,e,r){var n=qi(t)?Ie:Ye,a=arguments.length<3;return n(t,uo(e,4),r,a,pn)},Wr.reduceRight=function(t,e,r){var n=qi(t)?Me:Ye,a=arguments.length<3;return n(t,uo(e,4),r,a,dn)},Wr.repeat=function(t,e,r){return e=(r?Oo(t,e,r):e===a)?1:gc(e),Zn(bc(t),e)},Wr.replace=function(){var t=arguments,e=bc(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Wr.result=function(t,e,r){var n=-1,o=(e=ba(e,t)).length;for(o||(o=1,t=a);++n<o;){var i=null==t?a:t[Fo(e[n])];i===a&&(n=o,i=r),t=Ji(i)?i.call(t):i}return t},Wr.round=xs,Wr.runInContext=t,Wr.sample=function(t){return(qi(t)?$r:Qn)(t)},Wr.size=function(t){if(null==t)return 0;if(Xi(t))return uc(t)?dr(t):t.length;var e=go(t);return e==R||e==L?t.size:In(t).length},Wr.snakeCase=Yc,Wr.some=function(t,e,r){var n=qi(t)?Fe:oa;return r&&Oo(t,e,r)&&(e=a),n(t,uo(e,3))},Wr.sortedIndex=function(t,e){return ia(t,e)},Wr.sortedIndexBy=function(t,e,r){return ca(t,e,uo(r,2))},Wr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ia(t,e);if(n<r&&Bi(t[n],e))return n}return-1},Wr.sortedLastIndex=function(t,e){return ia(t,e,!0)},Wr.sortedLastIndexBy=function(t,e,r){return ca(t,e,uo(r,2),!0)},Wr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=ia(t,e,!0)-1;if(Bi(t[r],e))return r}return-1},Wr.startCase=Zc,Wr.startsWith=function(t,e,r){return t=bc(t),r=null==r?0:sn(gc(r),0,t.length),e=la(e),t.slice(r,r+e.length)==e},Wr.subtract=Rs,Wr.sum=function(t){return t&&t.length?Ze(t,os):0},Wr.sumBy=function(t,e){return t&&t.length?Ze(t,uo(e,2)):0},Wr.template=function(t,e,r){var n=Wr.templateSettings;r&&Oo(t,e,r)&&(e=a),t=bc(t),e=kc({},e,n,Ja);var o,i,c=kc({},e.imports,n.imports,Ja),s=Nc(c),u=tr(c,s),l=0,h=e.interpolate||wt,f="__p += '",p=Et((e.escape||wt).source+"|"+h.source+"|"+(h===tt?dt:wt).source+"|"+(e.evaluate||wt).source+"|$","g"),d="//# sourceURL="+(Gt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ce+"]")+"\n";t.replace(p,(function(e,r,n,a,c,s){return n||(n=a),f+=t.slice(l,s).replace(kt,cr),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),c&&(i=!0,f+="';\n"+c+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=s+e.length,e})),f+="';\n";var y=Gt.call(e,"variable")&&e.variable;if(y){if(ft.test(y))throw new ct("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(V,""):f).replace(q,"$1").replace(K,"$1;"),f="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=ts((function(){return xt(s,d+"return "+f).apply(a,u)}));if(g.source=f,Qi(g))throw g;return g},Wr.times=function(t,e){if((t=gc(t))<1||t>d)return[];var r=g,n=_r(t,g);e=uo(e),t-=g;for(var a=$e(n,e);++r<t;)e(r);return a},Wr.toFinite=yc,Wr.toInteger=gc,Wr.toLength=vc,Wr.toLower=function(t){return bc(t).toLowerCase()},Wr.toNumber=mc,Wr.toSafeInteger=function(t){return t?sn(gc(t),-9007199254740991,d):0===t?t:0},Wr.toString=bc,Wr.toUpper=function(t){return bc(t).toUpperCase()},Wr.trim=function(t,e,r){if((t=bc(t))&&(r||e===a))return Qe(t);if(!t||!(e=la(e)))return t;var n=yr(t),o=yr(e);return wa(n,rr(n,o),nr(n,o)+1).join("")},Wr.trimEnd=function(t,e,r){if((t=bc(t))&&(r||e===a))return t.slice(0,gr(t)+1);if(!t||!(e=la(e)))return t;var n=yr(t);return wa(n,0,nr(n,yr(e))+1).join("")},Wr.trimStart=function(t,e,r){if((t=bc(t))&&(r||e===a))return t.replace(it,"");if(!t||!(e=la(e)))return t;var n=yr(t);return wa(n,rr(n,yr(e))).join("")},Wr.truncate=function(t,e){var r=30,n="...";if(rc(e)){var o="separator"in e?e.separator:o;r="length"in e?gc(e.length):r,n="omission"in e?la(e.omission):n}var i=(t=bc(t)).length;if(sr(t)){var c=yr(t);i=c.length}if(r>=i)return t;var s=r-dr(n);if(s<1)return n;var u=c?wa(c,0,s).join(""):t.slice(0,s);if(o===a)return u+n;if(c&&(s+=u.length-s),cc(o)){if(t.slice(s).search(o)){var l,h=u;for(o.global||(o=Et(o.source,bc(yt.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var f=l.index;u=u.slice(0,f===a?s:f)}}else if(t.indexOf(la(o),s)!=s){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+n},Wr.unescape=function(t){return(t=bc(t))&&Z.test(t)?t.replace(X,vr):t},Wr.uniqueId=function(t){var e=++Ut;return bc(t)+e},Wr.upperCase=$c,Wr.upperFirst=Qc,Wr.each=bi,Wr.eachRight=Oi,Wr.first=Xo,us(Wr,function(){var t={};return On(Wr,(function(e,r){Gt.call(Wr.prototype,r)||(t[r]=e)})),t}(),{chain:!1}),Wr.VERSION="4.17.21",Ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Wr[t].placeholder=Wr})),Ce(["drop","take"],(function(t,e){Hr.prototype[t]=function(r){r=r===a?1:Xe(gc(r),0);var n=this.__filtered__&&!e?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=_r(r,n.__takeCount__):n.__views__.push({size:_r(r,g),type:t+(n.__dir__<0?"Right":"")}),n},Hr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ce(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Hr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:uo(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Ce(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Hr.prototype[t]=function(){return this[r](1).value()[0]}})),Ce(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Hr.prototype[t]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(os)},Hr.prototype.find=function(t){return this.filter(t).head()},Hr.prototype.findLast=function(t){return this.reverse().find(t)},Hr.prototype.invokeMap=$n((function(t,e){return"function"==typeof t?new Hr(this):this.map((function(r){return Dn(r,t,e)}))})),Hr.prototype.reject=function(t){return this.filter(Ii(uo(t)))},Hr.prototype.slice=function(t,e){t=gc(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Hr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==a&&(r=(e=gc(e))<0?r.dropRight(-e):r.take(e-t)),r)},Hr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hr.prototype.toArray=function(){return this.take(g)},On(Hr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=Wr[n?"take"+("last"==e?"Right":""):e],i=n||/^find/.test(e);o&&(Wr.prototype[e]=function(){var e=this.__wrapped__,c=n?[1]:arguments,s=e instanceof Hr,u=c[0],l=s||qi(e),h=function(t){var e=o.apply(Wr,Ue([t],c));return n&&f?e[0]:e};l&&r&&"function"==typeof u&&1!=u.length&&(s=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=i&&!f,y=s&&!p;if(!i&&l){e=y?e:new Hr(this);var g=t.apply(e,c);return g.__actions__.push({func:yi,args:[h],thisArg:a}),new zr(g,f)}return d&&y?t.apply(this,c):(g=this.thru(h),d?n?g.value()[0]:g.value():g)})})),Ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Lt[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Wr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var a=this.value();return e.apply(qi(a)?a:[],t)}return this[r]((function(r){return e.apply(qi(r)?r:[],t)}))}})),On(Hr.prototype,(function(t,e){var r=Wr[e];if(r){var n=r.name+"";Gt.call(Dr,n)||(Dr[n]=[]),Dr[n].push({name:e,func:r})}})),Dr[ja(a,2).name]=[{name:"wrapper",func:a}],Hr.prototype.clone=function(){var t=new Hr(this.__wrapped__);return t.__actions__=La(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=La(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=La(this.__views__),t},Hr.prototype.reverse=function(){if(this.__filtered__){var t=new Hr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=qi(t),n=e<0,a=r?t.length:0,o=function(t,e,r){var n=-1,a=r.length;for(;++n<a;){var o=r[n],i=o.size;switch(o.type){case"drop":t+=i;break;case"dropRight":e-=i;break;case"take":e=_r(e,t+i);break;case"takeRight":t=Xe(t,e-i)}}return{start:t,end:e}}(0,a,this.__views__),i=o.start,c=o.end,s=c-i,u=n?c:i-1,l=this.__iteratees__,h=l.length,f=0,p=_r(s,this.__takeCount__);if(!r||!n&&a==s&&p==s)return ya(t,this.__actions__);var d=[];t:for(;s--&&f<p;){for(var y=-1,g=t[u+=e];++y<h;){var v=l[y],m=v.iteratee,_=v.type,b=m(g);if(2==_)g=b;else if(!b){if(1==_)continue t;break t}}d[f++]=g}return d},Wr.prototype.at=gi,Wr.prototype.chain=function(){return di(this)},Wr.prototype.commit=function(){return new zr(this.value(),this.__chain__)},Wr.prototype.next=function(){this.__values__===a&&(this.__values__=dc(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?a:this.__values__[this.__index__++]}},Wr.prototype.plant=function(t){for(var e,r=this;r instanceof Br;){var n=jo(r);n.__index__=0,n.__values__=a,e?o.__wrapped__=n:e=n;var o=n;r=r.__wrapped__}return o.__wrapped__=t,e},Wr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hr){var e=t;return this.__actions__.length&&(e=new Hr(this)),(e=e.reverse()).__actions__.push({func:yi,args:[ri],thisArg:a}),new zr(e,this.__chain__)}return this.thru(ri)},Wr.prototype.toJSON=Wr.prototype.valueOf=Wr.prototype.value=function(){return ya(this.__wrapped__,this.__actions__)},Wr.prototype.first=Wr.prototype.head,$t&&(Wr.prototype[$t]=function(){return this}),Wr}();ye._=mr,(n=function(){return mr}.call(e,r,e,t))===a||(t.exports=n)}.call(this)},9410:function(t,e,r){var n;t=r.nmd(t),function(){function a(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function o(t,e,r,n){for(var a=-1,o=null==t?0:t.length;++a<o;){var i=t[a];e(n,i,r(i),t)}return n}function i(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function c(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function s(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function u(t,e){for(var r=-1,n=null==t?0:t.length,a=0,o=[];++r<n;){var i=t[r];e(i,r,t)&&(o[a++]=i)}return o}function l(t,e){return!(null==t||!t.length)&&b(t,e,0)>-1}function h(t,e,r){for(var n=-1,a=null==t?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}function f(t,e){for(var r=-1,n=null==t?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}function p(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}function d(t,e,r,n){var a=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++a]);++a<o;)r=e(r,t[a],a,t);return r}function y(t,e,r,n){var a=null==t?0:t.length;for(n&&a&&(r=t[--a]);a--;)r=e(r,t[a],a,t);return r}function g(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function v(t){return t.match(te)||[]}function m(t,e,r){var n;return r(t,(function(t,r,a){if(e(t,r,a))return n=r,!1})),n}function _(t,e,r,n){for(var a=t.length,o=r+(n?1:-1);n?o--:++o<a;)if(e(t[o],o,t))return o;return-1}function b(t,e,r){return e===e?function(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}(t,e,r):_(t,w,r)}function O(t,e,r,n){for(var a=r-1,o=t.length;++a<o;)if(n(t[a],e))return a;return-1}function w(t){return t!==t}function k(t,e){var r=null==t?0:t.length;return r?E(t,e)/r:at}function x(t){return function(e){return null==e?K:e[t]}}function R(t){return function(e){return null==t?K:t[e]}}function A(t,e,r,n,a){return a(t,(function(t,a,o){r=n?(n=!1,t):e(r,t,a,o)})),r}function E(t,e){for(var r,n=-1,a=t.length;++n<a;){var o=e(t[n]);o!==K&&(r=r===K?o:r+o)}return r}function S(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function C(t){return t?t.slice(0,V(t)+1).replace(Yt,""):t}function L(t){return function(e){return t(e)}}function D(t,e){return f(e,(function(e){return t[e]}))}function T(t,e){return t.has(e)}function N(t,e){for(var r=-1,n=t.length;++r<n&&b(e,t[r],0)>-1;);return r}function P(t,e){for(var r=t.length;r--&&b(e,t[r],0)>-1;);return r}function G(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}function U(t){return"\\"+Je[t]}function I(t){return Ke.test(t)}function M(t){return Xe.test(t)}function F(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function W(t,e){return function(r){return t(e(r))}}function j(t,e){for(var r=-1,n=t.length,a=0,o=[];++r<n;){var i=t[r];i!==e&&i!==Z||(t[r]=Z,o[a++]=r)}return o}function B(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function z(t){return I(t)?function(t){for(var e=Ve.lastIndex=0;Ve.test(t);)++e;return e}(t):gr(t)}function H(t){return I(t)?function(t){return t.match(Ve)||[]}(t):function(t){return t.split("")}(t)}function V(t){for(var e=t.length;e--&&Zt.test(t.charAt(e)););return e}function q(t){return t.match(qe)||[]}var K,X="Expected a function",Y="__lodash_hash_undefined__",Z="__lodash_placeholder__",$=16,Q=32,J=64,tt=128,et=256,rt=1/0,nt=9007199254740991,at=NaN,ot=4294967295,it=[["ary",tt],["bind",1],["bindKey",2],["curry",8],["curryRight",$],["flip",512],["partial",Q],["partialRight",J],["rearg",et]],ct="[object Arguments]",st="[object Array]",ut="[object Boolean]",lt="[object Date]",ht="[object Error]",ft="[object Function]",pt="[object GeneratorFunction]",dt="[object Map]",yt="[object Number]",gt="[object Object]",vt="[object Promise]",mt="[object RegExp]",_t="[object Set]",bt="[object String]",Ot="[object Symbol]",wt="[object WeakMap]",kt="[object ArrayBuffer]",xt="[object DataView]",Rt="[object Float32Array]",At="[object Float64Array]",Et="[object Int8Array]",St="[object Int16Array]",Ct="[object Int32Array]",Lt="[object Uint8Array]",Dt="[object Uint8ClampedArray]",Tt="[object Uint16Array]",Nt="[object Uint32Array]",Pt=/\b__p \+= '';/g,Gt=/\b(__p \+=) '' \+/g,Ut=/(__e\(.*?\)|\b__t\)) \+\n'';/g,It=/&(?:amp|lt|gt|quot|#39);/g,Mt=/[&<>"']/g,Ft=RegExp(It.source),Wt=RegExp(Mt.source),jt=/<%-([\s\S]+?)%>/g,Bt=/<%([\s\S]+?)%>/g,zt=/<%=([\s\S]+?)%>/g,Ht=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vt=/^\w*$/,qt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kt=/[\\^$.*+?()[\]{}|]/g,Xt=RegExp(Kt.source),Yt=/^\s+/,Zt=/\s/,$t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qt=/\{\n\/\* \[wrapped with (.+)\] \*/,Jt=/,? & /,te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,re=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ae=/\w*$/,oe=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,ce=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,he=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,pe="\\ud800-\\udfff",de="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ye="\\u2700-\\u27bf",ge="a-z\\xdf-\\xf6\\xf8-\\xff",ve="A-Z\\xc0-\\xd6\\xd8-\\xde",me="\\ufe0e\\ufe0f",_e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",be="['\u2019]",Oe="["+pe+"]",we="["+_e+"]",ke="["+de+"]",xe="\\d+",Re="["+ye+"]",Ae="["+ge+"]",Ee="[^"+pe+_e+xe+ye+ge+ve+"]",Se="\\ud83c[\\udffb-\\udfff]",Ce="[^"+pe+"]",Le="(?:\\ud83c[\\udde6-\\uddff]){2}",De="[\\ud800-\\udbff][\\udc00-\\udfff]",Te="["+ve+"]",Ne="\\u200d",Pe="(?:"+Ae+"|"+Ee+")",Ge="(?:"+Te+"|"+Ee+")",Ue="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ie="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Me="(?:"+ke+"|"+Se+")"+"?",Fe="["+me+"]?",We=Fe+Me+("(?:"+Ne+"(?:"+[Ce,Le,De].join("|")+")"+Fe+Me+")*"),je="(?:"+[Re,Le,De].join("|")+")"+We,Be="(?:"+[Ce+ke+"?",ke,Le,De,Oe].join("|")+")",ze=RegExp(be,"g"),He=RegExp(ke,"g"),Ve=RegExp(Se+"(?="+Se+")|"+Be+We,"g"),qe=RegExp([Te+"?"+Ae+"+"+Ue+"(?="+[we,Te,"$"].join("|")+")",Ge+"+"+Ie+"(?="+[we,Te+Pe,"$"].join("|")+")",Te+"?"+Pe+"+"+Ue,Te+"+"+Ie,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xe,je].join("|"),"g"),Ke=RegExp("["+Ne+pe+de+me+"]"),Xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ze=-1,$e={};$e[Rt]=$e[At]=$e[Et]=$e[St]=$e[Ct]=$e[Lt]=$e[Dt]=$e[Tt]=$e[Nt]=!0,$e[ct]=$e[st]=$e[kt]=$e[ut]=$e[xt]=$e[lt]=$e[ht]=$e[ft]=$e[dt]=$e[yt]=$e[gt]=$e[mt]=$e[_t]=$e[bt]=$e[wt]=!1;var Qe={};Qe[ct]=Qe[st]=Qe[kt]=Qe[xt]=Qe[ut]=Qe[lt]=Qe[Rt]=Qe[At]=Qe[Et]=Qe[St]=Qe[Ct]=Qe[dt]=Qe[yt]=Qe[gt]=Qe[mt]=Qe[_t]=Qe[bt]=Qe[Ot]=Qe[Lt]=Qe[Dt]=Qe[Tt]=Qe[Nt]=!0,Qe[ht]=Qe[ft]=Qe[wt]=!1;var Je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tr=parseFloat,er=parseInt,rr="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,nr="object"==typeof self&&self&&self.Object===Object&&self,ar=rr||nr||Function("return this")(),or=e&&!e.nodeType&&e,ir=or&&t&&!t.nodeType&&t,cr=ir&&ir.exports===or,sr=cr&&rr.process,ur=function(){try{var t=ir&&ir.require&&ir.require("util").types;return t||sr&&sr.binding&&sr.binding("util")}catch(t){}}(),lr=ur&&ur.isArrayBuffer,hr=ur&&ur.isDate,fr=ur&&ur.isMap,pr=ur&&ur.isRegExp,dr=ur&&ur.isSet,yr=ur&&ur.isTypedArray,gr=x("length"),vr=R({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),mr=R({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),_r=R({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),br=function t(e){function r(t){if(Wa(t)&&!Lc(t)&&!(t instanceof Zt)){if(t instanceof R)return t;if(Lo.call(t,"__wrapped__"))return fa(t)}return new R(t)}function n(){}function R(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=K}function Zt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ot,this.__views__=[]}function te(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function pe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function de(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ye(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new de;++e<r;)this.add(t[e])}function ge(t){this.size=(this.__data__=new pe(t)).size}function ve(t,e){var r=Lc(t),n=!r&&Cc(t),a=!r&&!n&&Tc(t),o=!r&&!n&&!a&&Ic(t),i=r||n||a||o,c=i?S(t.length,ko):[],s=c.length;for(var u in t)!e&&!Lo.call(t,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Yn(u,s))||c.push(u);return c}function me(t){var e=t.length;return e?t[Dr(0,e-1)]:K}function _e(t,e){return sa(un(t),Se(e,0,t.length))}function be(t){return sa(un(t))}function Oe(t,e,r){(r===K||Ta(t[e],r))&&(r!==K||e in t)||Ae(t,e,r)}function we(t,e,r){var n=t[e];Lo.call(t,e)&&Ta(n,r)&&(r!==K||e in t)||Ae(t,e,r)}function ke(t,e){for(var r=t.length;r--;)if(Ta(t[r][0],e))return r;return-1}function xe(t,e,r,n){return Si(t,(function(t,a,o){e(n,t,r(t),o)})),n}function Re(t,e){return t&&ln(e,to(e),t)}function Ae(t,e,r){"__proto__"==e&&Xo?Xo(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Ee(t,e){for(var r=-1,n=e.length,a=go(n),o=null==t;++r<n;)a[r]=o?K:Qa(t,e[r]);return a}function Se(t,e,r){return t===t&&(r!==K&&(t=t<=r?t:r),e!==K&&(t=t>=e?t:e)),t}function Ce(t,e,r,n,a,o){var c,s=1&e,u=2&e,l=4&e;if(r&&(c=a?r(t,n,a,o):r(t)),c!==K)return c;if(!Fa(t))return t;var h=Lc(t);if(h){if(c=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Lo.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!s)return un(t,c)}else{var f=Wi(t),p=f==ft||f==pt;if(Tc(t))return rn(t,s);if(f==gt||f==ct||p&&!a){if(c=u||p?{}:Kn(t),!s)return u?function(t,e){return ln(t,Fi(t),e)}(t,function(t,e){return t&&ln(e,eo(e),t)}(c,t)):function(t,e){return ln(t,Mi(t),e)}(t,Re(c,t))}else{if(!Qe[f])return a?t:{};c=function(t,e,r){var n=t.constructor;switch(e){case kt:return nn(t);case ut:case lt:return new n(+t);case xt:return function(t,e){return new t.constructor(e?nn(t.buffer):t.buffer,t.byteOffset,t.byteLength)}(t,r);case Rt:case At:case Et:case St:case Ct:case Lt:case Dt:case Tt:case Nt:return an(t,r);case dt:return new n;case yt:case bt:return new n(t);case mt:return function(t){var e=new t.constructor(t.source,ae.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _t:return new n;case Ot:return function(t){return Ri?Oo(Ri.call(t)):{}}(t)}}(t,f,s)}}o||(o=new ge);var d=o.get(t);if(d)return d;o.set(t,c),Uc(t)?t.forEach((function(n){c.add(Ce(n,e,r,n,t,o))})):Pc(t)&&t.forEach((function(n,a){c.set(a,Ce(n,e,r,a,t,o))}));var y=h?K:(l?u?Fn:Mn:u?eo:to)(t);return i(y||t,(function(n,a){y&&(n=t[a=n]),we(c,a,Ce(n,e,r,a,t,o))})),c}function Le(t,e,r){var n=r.length;if(null==t)return!n;for(t=Oo(t);n--;){var a=r[n],o=e[a],i=t[a];if(i===K&&!(a in t)||!o(i))return!1}return!0}function De(t,e,r){if("function"!=typeof t)throw new xo(X);return zi((function(){t.apply(K,r)}),e)}function Te(t,e,r,n){var a=-1,o=l,i=!0,c=t.length,s=[],u=e.length;if(!c)return s;r&&(e=f(e,L(r))),n?(o=h,i=!1):e.length>=200&&(o=T,i=!1,e=new ye(e));t:for(;++a<c;){var p=t[a],d=null==r?p:r(p);if(p=n||0!==p?p:0,i&&d===d){for(var y=u;y--;)if(e[y]===d)continue t;s.push(p)}else o(e,d,n)||s.push(p)}return s}function Ne(t,e){var r=!0;return Si(t,(function(t,n,a){return r=!!e(t,n,a)})),r}function Pe(t,e,r){for(var n=-1,a=t.length;++n<a;){var o=t[n],i=e(o);if(null!=i&&(c===K?i===i&&!Ha(i):r(i,c)))var c=i,s=o}return s}function Ge(t,e){var r=[];return Si(t,(function(t,n,a){e(t,n,a)&&r.push(t)})),r}function Ue(t,e,r,n,a){var o=-1,i=t.length;for(r||(r=Xn),a||(a=[]);++o<i;){var c=t[o];e>0&&r(c)?e>1?Ue(c,e-1,r,n,a):p(a,c):n||(a[a.length]=c)}return a}function Ie(t,e){return t&&Li(t,e,to)}function Me(t,e){return t&&Di(t,e,to)}function Fe(t,e){return u(e,(function(e){return Ua(t[e])}))}function We(t,e){for(var r=0,n=(e=tn(e,t)).length;null!=t&&r<n;)t=t[ua(e[r++])];return r&&r==n?t:K}function je(t,e,r){var n=e(t);return Lc(t)?n:p(n,r(t))}function Be(t){return null==t?t===K?"[object Undefined]":"[object Null]":Ko&&Ko in Oo(t)?function(t){var e=Lo.call(t,Ko),r=t[Ko];try{t[Ko]=K;var n=!0}catch(t){}var a=No.call(t);return n&&(e?t[Ko]=r:delete t[Ko]),a}(t):function(t){return No.call(t)}(t)}function Ve(t,e){return t>e}function qe(t,e){return null!=t&&Lo.call(t,e)}function Ke(t,e){return null!=t&&e in Oo(t)}function Xe(t,e,r){for(var n=r?h:l,a=t[0].length,o=t.length,i=o,c=go(o),s=1/0,u=[];i--;){var p=t[i];i&&e&&(p=f(p,L(e))),s=ii(p.length,s),c[i]=!r&&(e||a>=120&&p.length>=120)?new ye(i&&p):K}p=t[0];var d=-1,y=c[0];t:for(;++d<a&&u.length<s;){var g=p[d],v=e?e(g):g;if(g=r||0!==g?g:0,!(y?T(y,v):n(u,v,r))){for(i=o;--i;){var m=c[i];if(!(m?T(m,v):n(t[i],v,r)))continue t}y&&y.push(v),u.push(g)}}return u}function Je(t,e,r){var n=null==(t=na(t,e=tn(e,t)))?t:t[ua(va(e))];return null==n?K:a(n,t,r)}function rr(t){return Wa(t)&&Be(t)==ct}function nr(t,e,r,n,a){return t===e||(null==t||null==e||!Wa(t)&&!Wa(e)?t!==t&&e!==e:function(t,e,r,n,a,o){var i=Lc(t),c=Lc(e),s=i?st:Wi(t),u=c?st:Wi(e);s=s==ct?gt:s,u=u==ct?gt:u;var l=s==gt,h=u==gt,f=s==u;if(f&&Tc(t)){if(!Tc(e))return!1;i=!0,l=!1}if(f&&!l)return o||(o=new ge),i||Ic(t)?Un(t,e,r,n,a,o):function(t,e,r,n,a,o,i){switch(r){case xt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case kt:return!(t.byteLength!=e.byteLength||!o(new Fo(t),new Fo(e)));case ut:case lt:case yt:return Ta(+t,+e);case ht:return t.name==e.name&&t.message==e.message;case mt:case bt:return t==e+"";case dt:var c=F;case _t:var s=1&n;if(c||(c=B),t.size!=e.size&&!s)return!1;var u=i.get(t);if(u)return u==e;n|=2,i.set(t,e);var l=Un(c(t),c(e),n,a,o,i);return i.delete(t),l;case Ot:if(Ri)return Ri.call(t)==Ri.call(e)}return!1}(t,e,s,r,n,a,o);if(!(1&r)){var p=l&&Lo.call(t,"__wrapped__"),d=h&&Lo.call(e,"__wrapped__");if(p||d){var y=p?t.value():t,g=d?e.value():e;return o||(o=new ge),a(y,g,r,n,o)}}return!!f&&(o||(o=new ge),function(t,e,r,n,a,o){var i=1&r,c=Mn(t),s=c.length;if(s!=Mn(e).length&&!i)return!1;for(var u=s;u--;){var l=c[u];if(!(i?l in e:Lo.call(e,l)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);for(var d=i;++u<s;){var y=t[l=c[u]],g=e[l];if(n)var v=i?n(g,y,l,e,t,o):n(y,g,l,t,e,o);if(!(v===K?y===g||a(y,g,r,n,o):v)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var m=t.constructor,_=e.constructor;m!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o.delete(t),o.delete(e),p}(t,e,r,n,a,o))}(t,e,r,n,nr,a))}function or(t,e,r,n){var a=r.length,o=a,i=!n;if(null==t)return!o;for(t=Oo(t);a--;){var c=r[a];if(i&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<o;){var s=(c=r[a])[0],u=t[s],l=c[1];if(i&&c[2]){if(u===K&&!(s in t))return!1}else{var h=new ge;if(n)var f=n(u,l,s,t,e,h);if(!(f===K?nr(l,u,3,n,h):f))return!1}}return!0}function ir(t){return!(!Fa(t)||function(t){return!!To&&To in t}(t))&&(Ua(t)?Uo:ce).test(la(t))}function sr(t){return"function"==typeof t?t:null==t?so:"object"==typeof t?Lc(t)?xr(t[0],t[1]):kr(t):fo(t)}function ur(t){if(!Jn(t))return ai(t);var e=[];for(var r in Oo(t))Lo.call(t,r)&&"constructor"!=r&&e.push(r);return e}function gr(t){if(!Fa(t))return function(t){var e=[];if(null!=t)for(var r in Oo(t))e.push(r);return e}(t);var e=Jn(t),r=[];for(var n in t)("constructor"!=n||!e&&Lo.call(t,n))&&r.push(n);return r}function Or(t,e){return t<e}function wr(t,e){var r=-1,n=Na(t)?go(t.length):[];return Si(t,(function(t,a,o){n[++r]=e(t,a,o)})),n}function kr(t){var e=Hn(t);return 1==e.length&&e[0][2]?ea(e[0][0],e[0][1]):function(r){return r===t||or(r,t,e)}}function xr(t,e){return $n(t)&&ta(e)?ea(ua(t),e):function(r){var n=Qa(r,t);return n===K&&n===e?Ja(r,t):nr(e,n,3)}}function Rr(t,e,r,n,a){t!==e&&Li(e,(function(o,i){if(a||(a=new ge),Fa(o))!function(t,e,r,n,a,o,i){var c=oa(t,r),s=oa(e,r),u=i.get(s);if(u)return Oe(t,r,u),K;var l=o?o(c,s,r+"",t,e,i):K,h=l===K;if(h){var f=Lc(s),p=!f&&Tc(s),d=!f&&!p&&Ic(s);l=s,f||p||d?Lc(c)?l=c:Pa(c)?l=un(c):p?(h=!1,l=rn(s,!0)):d?(h=!1,l=an(s,!0)):l=[]:Ba(s)||Cc(s)?(l=c,Cc(c)?l=Za(c):Fa(c)&&!Ua(c)||(l=Kn(s))):h=!1}h&&(i.set(s,l),a(l,s,n,o,i),i.delete(s)),Oe(t,r,l)}(t,e,i,r,Rr,n,a);else{var c=n?n(oa(t,i),o,i+"",t,e,a):K;c===K&&(c=o),Oe(t,i,c)}}),eo)}function Ar(t,e){var r=t.length;if(r)return Yn(e+=e<0?r:0,r)?t[e]:K}function Er(t,e,r){e=e.length?f(e,(function(t){return Lc(t)?function(e){return We(e,1===t.length?t[0]:t)}:t})):[so];var n=-1;return e=f(e,L(Bn())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(wr(t,(function(t,r,a){return{criteria:f(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,r){for(var n=-1,a=t.criteria,o=e.criteria,i=a.length,c=r.length;++n<i;){var s=on(a[n],o[n]);if(s)return n>=c?s:s*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function Sr(t,e,r){for(var n=-1,a=e.length,o={};++n<a;){var i=e[n],c=We(t,i);r(c,i)&&Ur(o,tn(i,t),c)}return o}function Cr(t,e,r,n){var a=n?O:b,o=-1,i=e.length,c=t;for(t===e&&(e=un(e)),r&&(c=f(t,L(r)));++o<i;)for(var s=0,u=e[o],l=r?r(u):u;(s=a(c,l,s,n))>-1;)c!==t&&Ho.call(c,s,1),Ho.call(t,s,1);return t}function Lr(t,e){for(var r=t?e.length:0,n=r-1;r--;){var a=e[r];if(r==n||a!==o){var o=a;Yn(a)?Ho.call(t,a,1):qr(t,a)}}return t}function Dr(t,e){return t+Jo(ui()*(e-t+1))}function Tr(t,e){var r="";if(!t||e<1||e>nt)return r;do{e%2&&(r+=t),(e=Jo(e/2))&&(t+=t)}while(e);return r}function Nr(t,e){return Hi(ra(t,e,so),t+"")}function Pr(t){return me(no(t))}function Gr(t,e){var r=no(t);return sa(r,Se(e,0,r.length))}function Ur(t,e,r,n){if(!Fa(t))return t;for(var a=-1,o=(e=tn(e,t)).length,i=o-1,c=t;null!=c&&++a<o;){var s=ua(e[a]),u=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(a!=i){var l=c[s];(u=n?n(l,s,c):K)===K&&(u=Fa(l)?l:Yn(e[a+1])?[]:{})}we(c,s,u),c=c[s]}return t}function Ir(t){return sa(no(t))}function Mr(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),(r=r>a?a:r)<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var o=go(a);++n<a;)o[n]=t[n+e];return o}function Fr(t,e){var r;return Si(t,(function(t,n,a){return!(r=e(t,n,a))})),!!r}function Wr(t,e,r){var n=0,a=null==t?n:t.length;if("number"==typeof e&&e===e&&a<=2147483647){for(;n<a;){var o=n+a>>>1,i=t[o];null!==i&&!Ha(i)&&(r?i<=e:i<e)?n=o+1:a=o}return a}return jr(t,e,so,r)}function jr(t,e,r,n){var a=0,o=null==t?0:t.length;if(0===o)return 0;for(var i=(e=r(e))!==e,c=null===e,s=Ha(e),u=e===K;a<o;){var l=Jo((a+o)/2),h=r(t[l]),f=h!==K,p=null===h,d=h===h,y=Ha(h);if(i)var g=n||d;else g=u?d&&(n||f):c?d&&f&&(n||!p):s?d&&f&&!p&&(n||!y):!p&&!y&&(n?h<=e:h<e);g?a=l+1:o=l}return ii(o,4294967294)}function Br(t,e){for(var r=-1,n=t.length,a=0,o=[];++r<n;){var i=t[r],c=e?e(i):i;if(!r||!Ta(c,s)){var s=c;o[a++]=0===i?0:i}}return o}function zr(t){return"number"==typeof t?t:Ha(t)?at:+t}function Hr(t){if("string"==typeof t)return t;if(Lc(t))return f(t,Hr)+"";if(Ha(t))return Ai?Ai.call(t):"";var e=t+"";return"0"==e&&1/t==-rt?"-0":e}function Vr(t,e,r){var n=-1,a=l,o=t.length,i=!0,c=[],s=c;if(r)i=!1,a=h;else if(o>=200){var u=e?null:Ui(t);if(u)return B(u);i=!1,a=T,s=new ye}else s=e?[]:c;t:for(;++n<o;){var f=t[n],p=e?e(f):f;if(f=r||0!==f?f:0,i&&p===p){for(var d=s.length;d--;)if(s[d]===p)continue t;e&&s.push(p),c.push(f)}else a(s,p,r)||(s!==c&&s.push(p),c.push(f))}return c}function qr(t,e){return null==(t=na(t,e=tn(e,t)))||delete t[ua(va(e))]}function Kr(t,e,r,n){return Ur(t,e,r(We(t,e)),n)}function Xr(t,e,r,n){for(var a=t.length,o=n?a:-1;(n?o--:++o<a)&&e(t[o],o,t););return r?Mr(t,n?0:o,n?o+1:a):Mr(t,n?o+1:0,n?a:o)}function Yr(t,e){var r=t;return r instanceof Zt&&(r=r.value()),d(e,(function(t,e){return e.func.apply(e.thisArg,p([t],e.args))}),r)}function Zr(t,e,r){var n=t.length;if(n<2)return n?Vr(t[0]):[];for(var a=-1,o=go(n);++a<n;)for(var i=t[a],c=-1;++c<n;)c!=a&&(o[a]=Te(o[a]||i,t[c],e,r));return Vr(Ue(o,1),e,r)}function $r(t,e,r){for(var n=-1,a=t.length,o=e.length,i={};++n<a;)r(i,t[n],n<o?e[n]:K);return i}function Qr(t){return Pa(t)?t:[]}function Jr(t){return"function"==typeof t?t:so}function tn(t,e){return Lc(t)?t:$n(t,e)?[t]:Vi($a(t))}function en(t,e,r){var n=t.length;return r=r===K?n:r,!e&&r>=n?t:Mr(t,e,r)}function rn(t,e){if(e)return t.slice();var r=t.length,n=Wo?Wo(r):new t.constructor(r);return t.copy(n),n}function nn(t){var e=new t.constructor(t.byteLength);return new Fo(e).set(new Fo(t)),e}function an(t,e){return new t.constructor(e?nn(t.buffer):t.buffer,t.byteOffset,t.length)}function on(t,e){if(t!==e){var r=t!==K,n=null===t,a=t===t,o=Ha(t),i=e!==K,c=null===e,s=e===e,u=Ha(e);if(!c&&!u&&!o&&t>e||o&&i&&s&&!c&&!u||n&&i&&s||!r&&s||!a)return 1;if(!n&&!o&&!u&&t<e||u&&r&&a&&!n&&!o||c&&r&&a||!i&&a||!s)return-1}return 0}function cn(t,e,r,n){for(var a=-1,o=t.length,i=r.length,c=-1,s=e.length,u=oi(o-i,0),l=go(s+u),h=!n;++c<s;)l[c]=e[c];for(;++a<i;)(h||a<o)&&(l[r[a]]=t[a]);for(;u--;)l[c++]=t[a++];return l}function sn(t,e,r,n){for(var a=-1,o=t.length,i=-1,c=r.length,s=-1,u=e.length,l=oi(o-c,0),h=go(l+u),f=!n;++a<l;)h[a]=t[a];for(var p=a;++s<u;)h[p+s]=e[s];for(;++i<c;)(f||a<o)&&(h[p+r[i]]=t[a++]);return h}function un(t,e){var r=-1,n=t.length;for(e||(e=go(n));++r<n;)e[r]=t[r];return e}function ln(t,e,r,n){var a=!r;r||(r={});for(var o=-1,i=e.length;++o<i;){var c=e[o],s=n?n(r[c],t[c],c,r,t):K;s===K&&(s=t[c]),a?Ae(r,c,s):we(r,c,s)}return r}function hn(t,e){return function(r,n){var a=Lc(r)?o:xe,i=e?e():{};return a(r,t,Bn(n,2),i)}}function fn(t){return Nr((function(e,r){var n=-1,a=r.length,o=a>1?r[a-1]:K,i=a>2?r[2]:K;for(o=t.length>3&&"function"==typeof o?(a--,o):K,i&&Zn(r[0],r[1],i)&&(o=a<3?K:o,a=1),e=Oo(e);++n<a;){var c=r[n];c&&t(e,c,n,o)}return e}))}function pn(t,e){return function(r,n){if(null==r)return r;if(!Na(r))return t(r,n);for(var a=r.length,o=e?a:-1,i=Oo(r);(e?o--:++o<a)&&!1!==n(i[o],o,i););return r}}function dn(t){return function(e,r,n){for(var a=-1,o=Oo(e),i=n(e),c=i.length;c--;){var s=i[t?c:++a];if(!1===r(o[s],s,o))break}return e}}function yn(t){return function(e){var r=I(e=$a(e))?H(e):K,n=r?r[0]:e.charAt(0),a=r?en(r,1).join(""):e.slice(1);return n[t]()+a}}function gn(t){return function(e){return d(io(oo(e).replace(ze,"")),t,"")}}function vn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Ei(t.prototype),n=t.apply(r,e);return Fa(n)?n:r}}function mn(t,e,r){var n=vn(t);return function o(){for(var i=arguments.length,c=go(i),s=i,u=jn(o);s--;)c[s]=arguments[s];var l=i<3&&c[0]!==u&&c[i-1]!==u?[]:j(c,u);return(i-=l.length)<r?Cn(t,e,On,o.placeholder,K,c,l,K,K,r-i):a(this&&this!==ar&&this instanceof o?n:t,this,c)}}function _n(t){return function(e,r,n){var a=Oo(e);if(!Na(e)){var o=Bn(r,3);e=to(e),r=function(t){return o(a[t],t,a)}}var i=t(e,r,n);return i>-1?a[o?e[i]:i]:K}}function bn(t){return In((function(e){var r=e.length,n=r,a=R.prototype.thru;for(t&&e.reverse();n--;){var o=e[n];if("function"!=typeof o)throw new xo(X);if(a&&!i&&"wrapper"==Wn(o))var i=new R([],!0)}for(n=i?n:r;++n<r;){var c=Wn(o=e[n]),s="wrapper"==c?Ii(o):K;i=s&&Qn(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?i[Wn(s[0])].apply(i,s[3]):1==o.length&&Qn(o)?i[c]():i.thru(o)}return function(){var t=arguments,n=t[0];if(i&&1==t.length&&Lc(n))return i.plant(n).value();for(var a=0,o=r?e[a].apply(this,t):n;++a<r;)o=e[a].call(this,o);return o}}))}function On(t,e,r,n,a,o,i,c,s,u){var l=e&tt,h=1&e,f=2&e,p=24&e,d=512&e,y=f?K:vn(t);return function g(){for(var v=arguments.length,m=go(v),_=v;_--;)m[_]=arguments[_];if(p)var b=jn(g),O=G(m,b);if(n&&(m=cn(m,n,a,p)),o&&(m=sn(m,o,i,p)),v-=O,p&&v<u)return Cn(t,e,On,g.placeholder,r,m,j(m,b),c,s,u-v);var w=h?r:this,k=f?w[t]:t;return v=m.length,c?m=aa(m,c):d&&v>1&&m.reverse(),l&&s<v&&(m.length=s),this&&this!==ar&&this instanceof g&&(k=y||vn(k)),k.apply(w,m)}}function wn(t,e){return function(r,n){return function(t,e,r,n){return Ie(t,(function(t,a,o){e(n,r(t),a,o)})),n}(r,t,e(n),{})}}function kn(t,e){return function(r,n){var a;if(r===K&&n===K)return e;if(r!==K&&(a=r),n!==K){if(a===K)return n;"string"==typeof r||"string"==typeof n?(r=Hr(r),n=Hr(n)):(r=zr(r),n=zr(n)),a=t(r,n)}return a}}function xn(t){return In((function(e){return e=f(e,L(Bn())),Nr((function(r){var n=this;return t(e,(function(t){return a(t,n,r)}))}))}))}function Rn(t,e){var r=(e=e===K?" ":Hr(e)).length;if(r<2)return r?Tr(e,t):e;var n=Tr(e,Qo(t/z(e)));return I(e)?en(H(n),0,t).join(""):n.slice(0,t)}function An(t,e,r,n){var o=1&e,i=vn(t);return function e(){for(var c=-1,s=arguments.length,u=-1,l=n.length,h=go(l+s),f=this&&this!==ar&&this instanceof e?i:t;++u<l;)h[u]=n[u];for(;s--;)h[u++]=arguments[++c];return a(f,o?r:this,h)}}function En(t){return function(e,r,n){return n&&"number"!=typeof n&&Zn(e,r,n)&&(r=n=K),e=qa(e),r===K?(r=e,e=0):r=qa(r),function(t,e,r,n){for(var a=-1,o=oi(Qo((e-t)/(r||1)),0),i=go(o);o--;)i[n?o:++a]=t,t+=r;return i}(e,r,n=n===K?e<r?1:-1:qa(n),t)}}function Sn(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=Ya(e),r=Ya(r)),t(e,r)}}function Cn(t,e,r,n,a,o,i,c,s,u){var l=8&e;e|=l?Q:J,4&(e&=~(l?J:Q))||(e&=-4);var h=[t,e,a,l?o:K,l?i:K,l?K:o,l?K:i,c,s,u],f=r.apply(K,h);return Qn(t)&&Bi(f,h),f.placeholder=n,ia(f,t,e)}function Ln(t){var e=bo[t];return function(t,r){if(t=Ya(t),(r=null==r?0:ii(Ka(r),292))&&ri(t)){var n=($a(t)+"e").split("e");return+((n=($a(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}function Dn(t){return function(e){var r=Wi(e);return r==dt?F(e):r==_t?function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}(e):function(t,e){return f(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Tn(t,e,r,n,a,o,i,c){var s=2&e;if(!s&&"function"!=typeof t)throw new xo(X);var u=n?n.length:0;if(u||(e&=-97,n=a=K),i=i===K?i:oi(Ka(i),0),c=c===K?c:Ka(c),u-=a?a.length:0,e&J){var l=n,h=a;n=a=K}var f=s?K:Ii(t),p=[t,e,r,n,a,l,h,o,i,c];if(f&&function(t,e){var r=t[1],n=e[1],a=r|n,o=a<131,i=n==tt&&8==r||n==tt&&r==et&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!i)return t;1&n&&(t[2]=e[2],a|=1&r?0:4);var c=e[3];if(c){var s=t[3];t[3]=s?cn(s,c,e[4]):c,t[4]=s?j(t[3],Z):e[4]}c=e[5],c&&(s=t[5],t[5]=s?sn(s,c,e[6]):c,t[6]=s?j(t[5],Z):e[6]),c=e[7],c&&(t[7]=c),n&tt&&(t[8]=null==t[8]?e[8]:ii(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=a}(p,f),t=p[0],e=p[1],r=p[2],n=p[3],a=p[4],!(c=p[9]=p[9]===K?s?0:t.length:oi(p[9]-u,0))&&24&e&&(e&=-25),e&&1!=e)d=8==e||e==$?mn(t,e,c):e!=Q&&33!=e||a.length?On.apply(K,p):An(t,e,r,n);else var d=function(t,e,r){var n=1&e,a=vn(t);return function e(){return(this&&this!==ar&&this instanceof e?a:t).apply(n?r:this,arguments)}}(t,e,r);return ia((f?Ti:Bi)(d,p),t,e)}function Nn(t,e,r,n){return t===K||Ta(t,Eo[r])&&!Lo.call(n,r)?e:t}function Pn(t,e,r,n,a,o){return Fa(t)&&Fa(e)&&(o.set(e,t),Rr(t,e,K,Pn,o),o.delete(e)),t}function Gn(t){return Ba(t)?K:t}function Un(t,e,r,n,a,o){var i=1&r,c=t.length,s=e.length;if(c!=s&&!(i&&s>c))return!1;var u=o.get(t),l=o.get(e);if(u&&l)return u==e&&l==t;var h=-1,f=!0,p=2&r?new ye:K;for(o.set(t,e),o.set(e,t);++h<c;){var d=t[h],y=e[h];if(n)var v=i?n(y,d,h,e,t,o):n(d,y,h,t,e,o);if(v!==K){if(v)continue;f=!1;break}if(p){if(!g(e,(function(t,e){if(!T(p,e)&&(d===t||a(d,t,r,n,o)))return p.push(e)}))){f=!1;break}}else if(d!==y&&!a(d,y,r,n,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function In(t){return Hi(ra(t,K,ya),t+"")}function Mn(t){return je(t,to,Mi)}function Fn(t){return je(t,eo,Fi)}function Wn(t){for(var e=t.name+"",r=mi[e],n=Lo.call(mi,e)?r.length:0;n--;){var a=r[n],o=a.func;if(null==o||o==t)return a.name}return e}function jn(t){return(Lo.call(r,"placeholder")?r:t).placeholder}function Bn(){var t=r.iteratee||uo;return t=t===uo?sr:t,arguments.length?t(arguments[0],arguments[1]):t}function zn(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Hn(t){for(var e=to(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,ta(a)]}return e}function Vn(t,e){var r=function(t,e){return null==t?K:t[e]}(t,e);return ir(r)?r:K}function qn(t,e,r){for(var n=-1,a=(e=tn(e,t)).length,o=!1;++n<a;){var i=ua(e[n]);if(!(o=null!=t&&r(t,i)))break;t=t[i]}return o||++n!=a?o:!!(a=null==t?0:t.length)&&Ma(a)&&Yn(i,a)&&(Lc(t)||Cc(t))}function Kn(t){return"function"!=typeof t.constructor||Jn(t)?{}:Ei(jo(t))}function Xn(t){return Lc(t)||Cc(t)||!!(Vo&&t&&t[Vo])}function Yn(t,e){var r=typeof t;return!!(e=null==e?nt:e)&&("number"==r||"symbol"!=r&&ue.test(t))&&t>-1&&t%1==0&&t<e}function Zn(t,e,r){if(!Fa(r))return!1;var n=typeof e;return!!("number"==n?Na(r)&&Yn(e,r.length):"string"==n&&e in r)&&Ta(r[e],t)}function $n(t,e){if(Lc(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Ha(t))||Vt.test(t)||!Ht.test(t)||null!=e&&t in Oo(e)}function Qn(t){var e=Wn(t),n=r[e];if("function"!=typeof n||!(e in Zt.prototype))return!1;if(t===n)return!0;var a=Ii(n);return!!a&&t===a[0]}function Jn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Eo)}function ta(t){return t===t&&!Fa(t)}function ea(t,e){return function(r){return null!=r&&r[t]===e&&(e!==K||t in Oo(r))}}function ra(t,e,r){return e=oi(e===K?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=oi(n.length-e,0),c=go(i);++o<i;)c[o]=n[e+o];o=-1;for(var s=go(e+1);++o<e;)s[o]=n[o];return s[e]=r(c),a(t,this,s)}}function na(t,e){return e.length<2?t:We(t,Mr(e,0,-1))}function aa(t,e){for(var r=t.length,n=ii(e.length,r),a=un(t);n--;){var o=e[n];t[n]=Yn(o,r)?a[o]:K}return t}function oa(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function ia(t,e,r){var n=e+"";return Hi(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace($t,"{\n/* [wrapped with "+e+"] */\n")}(n,ha(function(t){var e=t.match(Qt);return e?e[1].split(Jt):[]}(n),r)))}function ca(t){var e=0,r=0;return function(){var n=ci(),a=16-(n-r);if(r=n,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(K,arguments)}}function sa(t,e){var r=-1,n=t.length,a=n-1;for(e=e===K?n:e;++r<e;){var o=Dr(r,a),i=t[o];t[o]=t[r],t[r]=i}return t.length=e,t}function ua(t){if("string"==typeof t||Ha(t))return t;var e=t+"";return"0"==e&&1/t==-rt?"-0":e}function la(t){if(null!=t){try{return Co.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ha(t,e){return i(it,(function(r){var n="_."+r[0];e&r[1]&&!l(t,n)&&t.push(n)})),t.sort()}function fa(t){if(t instanceof Zt)return t.clone();var e=new R(t.__wrapped__,t.__chain__);return e.__actions__=un(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function pa(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var a=null==r?0:Ka(r);return a<0&&(a=oi(n+a,0)),_(t,Bn(e,3),a)}function da(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var a=n-1;return r!==K&&(a=Ka(r),a=r<0?oi(n+a,0):ii(a,n-1)),_(t,Bn(e,3),a,!0)}function ya(t){return null!=t&&t.length?Ue(t,1):[]}function ga(t){return t&&t.length?t[0]:K}function va(t){var e=null==t?0:t.length;return e?t[e-1]:K}function ma(t,e){return t&&t.length&&e&&e.length?Cr(t,e):t}function _a(t){return null==t?t:li.call(t)}function ba(t){if(!t||!t.length)return[];var e=0;return t=u(t,(function(t){if(Pa(t))return e=oi(t.length,e),!0})),S(e,(function(e){return f(t,x(e))}))}function Oa(t,e){if(!t||!t.length)return[];var r=ba(t);return null==e?r:f(r,(function(t){return a(e,K,t)}))}function wa(t){var e=r(t);return e.__chain__=!0,e}function ka(t,e){return e(t)}function xa(t,e){return(Lc(t)?i:Si)(t,Bn(e,3))}function Ra(t,e){return(Lc(t)?c:Ci)(t,Bn(e,3))}function Aa(t,e){return(Lc(t)?f:wr)(t,Bn(e,3))}function Ea(t,e,r){return e=r?K:e,e=t&&null==e?t.length:e,Tn(t,tt,K,K,K,K,e)}function Sa(t,e){var r;if("function"!=typeof e)throw new xo(X);return t=Ka(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=K),r}}function Ca(t,e,r){function n(e){var r=u,n=l;return u=l=K,y=e,f=t.apply(n,r)}function a(t){return y=t,p=zi(i,e),g?n(t):f}function o(t){var r=t-d;return d===K||r>=e||r<0||v&&t-y>=h}function i(){var t=mc();return o(t)?c(t):(p=zi(i,function(t){var r=e-(t-d);return v?ii(r,h-(t-y)):r}(t)),K)}function c(t){return p=K,m&&u?n(t):(u=l=K,f)}function s(){var t=mc(),r=o(t);if(u=arguments,l=this,d=t,r){if(p===K)return a(d);if(v)return Gi(p),p=zi(i,e),n(d)}return p===K&&(p=zi(i,e)),f}var u,l,h,f,p,d,y=0,g=!1,v=!1,m=!0;if("function"!=typeof t)throw new xo(X);return e=Ya(e)||0,Fa(r)&&(g=!!r.leading,h=(v="maxWait"in r)?oi(Ya(r.maxWait)||0,e):h,m="trailing"in r?!!r.trailing:m),s.cancel=function(){p!==K&&Gi(p),y=0,u=d=l=p=K},s.flush=function(){return p===K?f:c(mc())},s}function La(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new xo(X);var r=function r(){var n=arguments,a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=t.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(La.Cache||de),r}function Da(t){if("function"!=typeof t)throw new xo(X);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ta(t,e){return t===e||t!==t&&e!==e}function Na(t){return null!=t&&Ma(t.length)&&!Ua(t)}function Pa(t){return Wa(t)&&Na(t)}function Ga(t){if(!Wa(t))return!1;var e=Be(t);return e==ht||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ba(t)}function Ua(t){if(!Fa(t))return!1;var e=Be(t);return e==ft||e==pt||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ia(t){return"number"==typeof t&&t==Ka(t)}function Ma(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=nt}function Fa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Wa(t){return null!=t&&"object"==typeof t}function ja(t){return"number"==typeof t||Wa(t)&&Be(t)==yt}function Ba(t){if(!Wa(t)||Be(t)!=gt)return!1;var e=jo(t);if(null===e)return!0;var r=Lo.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Co.call(r)==Po}function za(t){return"string"==typeof t||!Lc(t)&&Wa(t)&&Be(t)==bt}function Ha(t){return"symbol"==typeof t||Wa(t)&&Be(t)==Ot}function Va(t){if(!t)return[];if(Na(t))return za(t)?H(t):un(t);if(qo&&t[qo])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[qo]());var e=Wi(t);return(e==dt?F:e==_t?B:no)(t)}function qa(t){return t?(t=Ya(t))===rt||t===-rt?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function Ka(t){var e=qa(t),r=e%1;return e===e?r?e-r:e:0}function Xa(t){return t?Se(Ka(t),0,ot):0}function Ya(t){if("number"==typeof t)return t;if(Ha(t))return at;if(Fa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Fa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=C(t);var r=ie.test(t);return r||se.test(t)?er(t.slice(2),r?2:8):oe.test(t)?at:+t}function Za(t){return ln(t,eo(t))}function $a(t){return null==t?"":Hr(t)}function Qa(t,e,r){var n=null==t?K:We(t,e);return n===K?r:n}function Ja(t,e){return null!=t&&qn(t,e,Ke)}function to(t){return Na(t)?ve(t):ur(t)}function eo(t){return Na(t)?ve(t,!0):gr(t)}function ro(t,e){if(null==t)return{};var r=f(Fn(t),(function(t){return[t]}));return e=Bn(e),Sr(t,r,(function(t,r){return e(t,r[0])}))}function no(t){return null==t?[]:D(t,to(t))}function ao(t){return us($a(t).toLowerCase())}function oo(t){return(t=$a(t))&&t.replace(le,vr).replace(He,"")}function io(t,e,r){return t=$a(t),(e=r?K:e)===K?M(t)?q(t):v(t):t.match(e)||[]}function co(t){return function(){return t}}function so(t){return t}function uo(t){return sr("function"==typeof t?t:Ce(t,1))}function lo(t,e,r){var n=to(e),a=Fe(e,n);null!=r||Fa(e)&&(a.length||!n.length)||(r=e,e=t,t=this,a=Fe(e,to(e)));var o=!(Fa(r)&&"chain"in r&&!r.chain),c=Ua(t);return i(a,(function(r){var n=e[r];t[r]=n,c&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__);return(r.__actions__=un(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,p([this.value()],arguments))})})),t}function ho(){}function fo(t){return $n(t)?x(ua(t)):function(t){return function(e){return We(e,t)}}(t)}function po(){return[]}function yo(){return!1}var go=(e=null==e?ar:br.defaults(ar.Object(),e,br.pick(ar,Ye))).Array,vo=e.Date,mo=e.Error,_o=e.Function,bo=e.Math,Oo=e.Object,wo=e.RegExp,ko=e.String,xo=e.TypeError,Ro=go.prototype,Ao=_o.prototype,Eo=Oo.prototype,So=e["__core-js_shared__"],Co=Ao.toString,Lo=Eo.hasOwnProperty,Do=0,To=function(){var t=/[^.]+$/.exec(So&&So.keys&&So.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),No=Eo.toString,Po=Co.call(Oo),Go=ar._,Uo=wo("^"+Co.call(Lo).replace(Kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Io=cr?e.Buffer:K,Mo=e.Symbol,Fo=e.Uint8Array,Wo=Io?Io.allocUnsafe:K,jo=W(Oo.getPrototypeOf,Oo),Bo=Oo.create,zo=Eo.propertyIsEnumerable,Ho=Ro.splice,Vo=Mo?Mo.isConcatSpreadable:K,qo=Mo?Mo.iterator:K,Ko=Mo?Mo.toStringTag:K,Xo=function(){try{var t=Vn(Oo,"defineProperty");return t({},"",{}),t}catch(t){}}(),Yo=e.clearTimeout!==ar.clearTimeout&&e.clearTimeout,Zo=vo&&vo.now!==ar.Date.now&&vo.now,$o=e.setTimeout!==ar.setTimeout&&e.setTimeout,Qo=bo.ceil,Jo=bo.floor,ti=Oo.getOwnPropertySymbols,ei=Io?Io.isBuffer:K,ri=e.isFinite,ni=Ro.join,ai=W(Oo.keys,Oo),oi=bo.max,ii=bo.min,ci=vo.now,si=e.parseInt,ui=bo.random,li=Ro.reverse,hi=Vn(e,"DataView"),fi=Vn(e,"Map"),pi=Vn(e,"Promise"),di=Vn(e,"Set"),yi=Vn(e,"WeakMap"),gi=Vn(Oo,"create"),vi=yi&&new yi,mi={},_i=la(hi),bi=la(fi),Oi=la(pi),wi=la(di),ki=la(yi),xi=Mo?Mo.prototype:K,Ri=xi?xi.valueOf:K,Ai=xi?xi.toString:K,Ei=function(){function t(){}return function(e){if(!Fa(e))return{};if(Bo)return Bo(e);t.prototype=e;var r=new t;return t.prototype=K,r}}();r.templateSettings={escape:jt,evaluate:Bt,interpolate:zt,variable:"",imports:{_:r}},r.prototype=n.prototype,r.prototype.constructor=r,R.prototype=Ei(n.prototype),R.prototype.constructor=R,Zt.prototype=Ei(n.prototype),Zt.prototype.constructor=Zt,te.prototype.clear=function(){this.__data__=gi?gi(null):{},this.size=0},te.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},te.prototype.get=function(t){var e=this.__data__;if(gi){var r=e[t];return r===Y?K:r}return Lo.call(e,t)?e[t]:K},te.prototype.has=function(t){var e=this.__data__;return gi?e[t]!==K:Lo.call(e,t)},te.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=gi&&e===K?Y:e,this},pe.prototype.clear=function(){this.__data__=[],this.size=0},pe.prototype.delete=function(t){var e=this.__data__,r=ke(e,t);return!(r<0)&&(r==e.length-1?e.pop():Ho.call(e,r,1),--this.size,!0)},pe.prototype.get=function(t){var e=this.__data__,r=ke(e,t);return r<0?K:e[r][1]},pe.prototype.has=function(t){return ke(this.__data__,t)>-1},pe.prototype.set=function(t,e){var r=this.__data__,n=ke(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},de.prototype.clear=function(){this.size=0,this.__data__={hash:new te,map:new(fi||pe),string:new te}},de.prototype.delete=function(t){var e=zn(this,t).delete(t);return this.size-=e?1:0,e},de.prototype.get=function(t){return zn(this,t).get(t)},de.prototype.has=function(t){return zn(this,t).has(t)},de.prototype.set=function(t,e){var r=zn(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},ye.prototype.add=ye.prototype.push=function(t){return this.__data__.set(t,Y),this},ye.prototype.has=function(t){return this.__data__.has(t)},ge.prototype.clear=function(){this.__data__=new pe,this.size=0},ge.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},ge.prototype.get=function(t){return this.__data__.get(t)},ge.prototype.has=function(t){return this.__data__.has(t)},ge.prototype.set=function(t,e){var r=this.__data__;if(r instanceof pe){var n=r.__data__;if(!fi||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new de(n)}return r.set(t,e),this.size=r.size,this};var Si=pn(Ie),Ci=pn(Me,!0),Li=dn(),Di=dn(!0),Ti=vi?function(t,e){return vi.set(t,e),t}:so,Ni=Xo?function(t,e){return Xo(t,"toString",{configurable:!0,enumerable:!1,value:co(e),writable:!0})}:so,Pi=Nr,Gi=Yo||function(t){return ar.clearTimeout(t)},Ui=di&&1/B(new di([,-0]))[1]==rt?function(t){return new di(t)}:ho,Ii=vi?function(t){return vi.get(t)}:ho,Mi=ti?function(t){return null==t?[]:(t=Oo(t),u(ti(t),(function(e){return zo.call(t,e)})))}:po,Fi=ti?function(t){for(var e=[];t;)p(e,Mi(t)),t=jo(t);return e}:po,Wi=Be;(hi&&Wi(new hi(new ArrayBuffer(1)))!=xt||fi&&Wi(new fi)!=dt||pi&&Wi(pi.resolve())!=vt||di&&Wi(new di)!=_t||yi&&Wi(new yi)!=wt)&&(Wi=function(t){var e=Be(t),r=e==gt?t.constructor:K,n=r?la(r):"";if(n)switch(n){case _i:return xt;case bi:return dt;case Oi:return vt;case wi:return _t;case ki:return wt}return e});var ji=So?Ua:yo,Bi=ca(Ti),zi=$o||function(t,e){return ar.setTimeout(t,e)},Hi=ca(Ni),Vi=function(t){var e=La(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(qt,(function(t,r,n,a){e.push(n?a.replace(re,"$1"):r||t)})),e})),qi=Nr((function(t,e){return Pa(t)?Te(t,Ue(e,1,Pa,!0)):[]})),Ki=Nr((function(t,e){var r=va(e);return Pa(r)&&(r=K),Pa(t)?Te(t,Ue(e,1,Pa,!0),Bn(r,2)):[]})),Xi=Nr((function(t,e){var r=va(e);return Pa(r)&&(r=K),Pa(t)?Te(t,Ue(e,1,Pa,!0),K,r):[]})),Yi=Nr((function(t){var e=f(t,Qr);return e.length&&e[0]===t[0]?Xe(e):[]})),Zi=Nr((function(t){var e=va(t),r=f(t,Qr);return e===va(r)?e=K:r.pop(),r.length&&r[0]===t[0]?Xe(r,Bn(e,2)):[]})),$i=Nr((function(t){var e=va(t),r=f(t,Qr);return(e="function"==typeof e?e:K)&&r.pop(),r.length&&r[0]===t[0]?Xe(r,K,e):[]})),Qi=Nr(ma),Ji=In((function(t,e){var r=null==t?0:t.length,n=Ee(t,e);return Lr(t,f(e,(function(t){return Yn(t,r)?+t:t})).sort(on)),n})),tc=Nr((function(t){return Vr(Ue(t,1,Pa,!0))})),ec=Nr((function(t){var e=va(t);return Pa(e)&&(e=K),Vr(Ue(t,1,Pa,!0),Bn(e,2))})),rc=Nr((function(t){var e=va(t);return e="function"==typeof e?e:K,Vr(Ue(t,1,Pa,!0),K,e)})),nc=Nr((function(t,e){return Pa(t)?Te(t,e):[]})),ac=Nr((function(t){return Zr(u(t,Pa))})),oc=Nr((function(t){var e=va(t);return Pa(e)&&(e=K),Zr(u(t,Pa),Bn(e,2))})),ic=Nr((function(t){var e=va(t);return e="function"==typeof e?e:K,Zr(u(t,Pa),K,e)})),cc=Nr(ba),sc=Nr((function(t){var e=t.length,r=e>1?t[e-1]:K;return r="function"==typeof r?(t.pop(),r):K,Oa(t,r)})),uc=In((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,a=function(e){return Ee(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Zt&&Yn(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:ka,args:[a],thisArg:K}),new R(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(K),t}))):this.thru(a)})),lc=hn((function(t,e,r){Lo.call(t,r)?++t[r]:Ae(t,r,1)})),hc=_n(pa),fc=_n(da),pc=hn((function(t,e,r){Lo.call(t,r)?t[r].push(e):Ae(t,r,[e])})),dc=Nr((function(t,e,r){var n=-1,o="function"==typeof e,i=Na(t)?go(t.length):[];return Si(t,(function(t){i[++n]=o?a(e,t,r):Je(t,e,r)})),i})),yc=hn((function(t,e,r){Ae(t,r,e)})),gc=hn((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]})),vc=Nr((function(t,e){if(null==t)return[];var r=e.length;return r>1&&Zn(t,e[0],e[1])?e=[]:r>2&&Zn(e[0],e[1],e[2])&&(e=[e[0]]),Er(t,Ue(e,1),[])})),mc=Zo||function(){return ar.Date.now()},_c=Nr((function(t,e,r){var n=1;if(r.length){var a=j(r,jn(_c));n|=Q}return Tn(t,n,e,r,a)})),bc=Nr((function(t,e,r){var n=3;if(r.length){var a=j(r,jn(bc));n|=Q}return Tn(e,n,t,r,a)})),Oc=Nr((function(t,e){return De(t,1,e)})),wc=Nr((function(t,e,r){return De(t,Ya(e)||0,r)}));La.Cache=de;var kc=Pi((function(t,e){var r=(e=1==e.length&&Lc(e[0])?f(e[0],L(Bn())):f(Ue(e,1),L(Bn()))).length;return Nr((function(n){for(var o=-1,i=ii(n.length,r);++o<i;)n[o]=e[o].call(this,n[o]);return a(t,this,n)}))})),xc=Nr((function(t,e){return Tn(t,Q,K,e,j(e,jn(xc)))})),Rc=Nr((function(t,e){return Tn(t,J,K,e,j(e,jn(Rc)))})),Ac=In((function(t,e){return Tn(t,et,K,K,K,e)})),Ec=Sn(Ve),Sc=Sn((function(t,e){return t>=e})),Cc=rr(function(){return arguments}())?rr:function(t){return Wa(t)&&Lo.call(t,"callee")&&!zo.call(t,"callee")},Lc=go.isArray,Dc=lr?L(lr):function(t){return Wa(t)&&Be(t)==kt},Tc=ei||yo,Nc=hr?L(hr):function(t){return Wa(t)&&Be(t)==lt},Pc=fr?L(fr):function(t){return Wa(t)&&Wi(t)==dt},Gc=pr?L(pr):function(t){return Wa(t)&&Be(t)==mt},Uc=dr?L(dr):function(t){return Wa(t)&&Wi(t)==_t},Ic=yr?L(yr):function(t){return Wa(t)&&Ma(t.length)&&!!$e[Be(t)]},Mc=Sn(Or),Fc=Sn((function(t,e){return t<=e})),Wc=fn((function(t,e){if(Jn(e)||Na(e))return ln(e,to(e),t),K;for(var r in e)Lo.call(e,r)&&we(t,r,e[r])})),jc=fn((function(t,e){ln(e,eo(e),t)})),Bc=fn((function(t,e,r,n){ln(e,eo(e),t,n)})),zc=fn((function(t,e,r,n){ln(e,to(e),t,n)})),Hc=In(Ee),Vc=Nr((function(t,e){t=Oo(t);var r=-1,n=e.length,a=n>2?e[2]:K;for(a&&Zn(e[0],e[1],a)&&(n=1);++r<n;)for(var o=e[r],i=eo(o),c=-1,s=i.length;++c<s;){var u=i[c],l=t[u];(l===K||Ta(l,Eo[u])&&!Lo.call(t,u))&&(t[u]=o[u])}return t})),qc=Nr((function(t){return t.push(K,Pn),a($c,K,t)})),Kc=wn((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=No.call(e)),t[e]=r}),co(so)),Xc=wn((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=No.call(e)),Lo.call(t,e)?t[e].push(r):t[e]=[r]}),Bn),Yc=Nr(Je),Zc=fn((function(t,e,r){Rr(t,e,r)})),$c=fn((function(t,e,r,n){Rr(t,e,r,n)})),Qc=In((function(t,e){var r={};if(null==t)return r;var n=!1;e=f(e,(function(e){return e=tn(e,t),n||(n=e.length>1),e})),ln(t,Fn(t),r),n&&(r=Ce(r,7,Gn));for(var a=e.length;a--;)qr(r,e[a]);return r})),Jc=In((function(t,e){return null==t?{}:function(t,e){return Sr(t,e,(function(e,r){return Ja(t,r)}))}(t,e)})),ts=Dn(to),es=Dn(eo),rs=gn((function(t,e,r){return e=e.toLowerCase(),t+(r?ao(e):e)})),ns=gn((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),as=gn((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),os=yn("toLowerCase"),is=gn((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()})),cs=gn((function(t,e,r){return t+(r?" ":"")+us(e)})),ss=gn((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),us=yn("toUpperCase"),ls=Nr((function(t,e){try{return a(t,K,e)}catch(a){return Ga(a)?a:new mo(a)}})),hs=In((function(t,e){return i(e,(function(e){e=ua(e),Ae(t,e,_c(t[e],t))})),t})),fs=bn(),ps=bn(!0),ds=Nr((function(t,e){return function(r){return Je(r,t,e)}})),ys=Nr((function(t,e){return function(r){return Je(t,r,e)}})),gs=xn(f),vs=xn(s),ms=xn(g),_s=En(),bs=En(!0),Os=kn((function(t,e){return t+e}),0),ws=Ln("ceil"),ks=kn((function(t,e){return t/e}),1),xs=Ln("floor"),Rs=kn((function(t,e){return t*e}),1),As=Ln("round"),Es=kn((function(t,e){return t-e}),0);return r.after=function(t,e){if("function"!=typeof e)throw new xo(X);return t=Ka(t),function(){if(--t<1)return e.apply(this,arguments)}},r.ary=Ea,r.assign=Wc,r.assignIn=jc,r.assignInWith=Bc,r.assignWith=zc,r.at=Hc,r.before=Sa,r.bind=_c,r.bindAll=hs,r.bindKey=bc,r.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Lc(t)?t:[t]},r.chain=wa,r.chunk=function(t,e,r){e=(r?Zn(t,e,r):e===K)?1:oi(Ka(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var a=0,o=0,i=go(Qo(n/e));a<n;)i[o++]=Mr(t,a,a+=e);return i},r.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,a=[];++e<r;){var o=t[e];o&&(a[n++]=o)}return a},r.concat=function(){var t=arguments.length;if(!t)return[];for(var e=go(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return p(Lc(r)?un(r):[r],Ue(e,1))},r.cond=function(t){var e=null==t?0:t.length,r=Bn();return t=e?f(t,(function(t){if("function"!=typeof t[1])throw new xo(X);return[r(t[0]),t[1]]})):[],Nr((function(r){for(var n=-1;++n<e;){var o=t[n];if(a(o[0],this,r))return a(o[1],this,r)}}))},r.conforms=function(t){return function(t){var e=to(t);return function(r){return Le(r,t,e)}}(Ce(t,1))},r.constant=co,r.countBy=lc,r.create=function(t,e){var r=Ei(t);return null==e?r:Re(r,e)},r.curry=function t(e,r,n){var a=Tn(e,8,K,K,K,K,K,r=n?K:r);return a.placeholder=t.placeholder,a},r.curryRight=function t(e,r,n){var a=Tn(e,$,K,K,K,K,K,r=n?K:r);return a.placeholder=t.placeholder,a},r.debounce=Ca,r.defaults=Vc,r.defaultsDeep=qc,r.defer=Oc,r.delay=wc,r.difference=qi,r.differenceBy=Ki,r.differenceWith=Xi,r.drop=function(t,e,r){var n=null==t?0:t.length;return n?Mr(t,(e=r||e===K?1:Ka(e))<0?0:e,n):[]},r.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?Mr(t,0,(e=n-(e=r||e===K?1:Ka(e)))<0?0:e):[]},r.dropRightWhile=function(t,e){return t&&t.length?Xr(t,Bn(e,3),!0,!0):[]},r.dropWhile=function(t,e){return t&&t.length?Xr(t,Bn(e,3),!0):[]},r.fill=function(t,e,r,n){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&Zn(t,e,r)&&(r=0,n=a),function(t,e,r,n){var a=t.length;for((r=Ka(r))<0&&(r=-r>a?0:a+r),(n=n===K||n>a?a:Ka(n))<0&&(n+=a),n=r>n?0:Xa(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},r.filter=function(t,e){return(Lc(t)?u:Ge)(t,Bn(e,3))},r.flatMap=function(t,e){return Ue(Aa(t,e),1)},r.flatMapDeep=function(t,e){return Ue(Aa(t,e),rt)},r.flatMapDepth=function(t,e,r){return r=r===K?1:Ka(r),Ue(Aa(t,e),r)},r.flatten=ya,r.flattenDeep=function(t){return null!=t&&t.length?Ue(t,rt):[]},r.flattenDepth=function(t,e){return null!=t&&t.length?Ue(t,e=e===K?1:Ka(e)):[]},r.flip=function(t){return Tn(t,512)},r.flow=fs,r.flowRight=ps,r.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var a=t[e];n[a[0]]=a[1]}return n},r.functions=function(t){return null==t?[]:Fe(t,to(t))},r.functionsIn=function(t){return null==t?[]:Fe(t,eo(t))},r.groupBy=pc,r.initial=function(t){return null!=t&&t.length?Mr(t,0,-1):[]},r.intersection=Yi,r.intersectionBy=Zi,r.intersectionWith=$i,r.invert=Kc,r.invertBy=Xc,r.invokeMap=dc,r.iteratee=uo,r.keyBy=yc,r.keys=to,r.keysIn=eo,r.map=Aa,r.mapKeys=function(t,e){var r={};return e=Bn(e,3),Ie(t,(function(t,n,a){Ae(r,e(t,n,a),t)})),r},r.mapValues=function(t,e){var r={};return e=Bn(e,3),Ie(t,(function(t,n,a){Ae(r,n,e(t,n,a))})),r},r.matches=function(t){return kr(Ce(t,1))},r.matchesProperty=function(t,e){return xr(t,Ce(e,1))},r.memoize=La,r.merge=Zc,r.mergeWith=$c,r.method=ds,r.methodOf=ys,r.mixin=lo,r.negate=Da,r.nthArg=function(t){return t=Ka(t),Nr((function(e){return Ar(e,t)}))},r.omit=Qc,r.omitBy=function(t,e){return ro(t,Da(Bn(e)))},r.once=function(t){return Sa(2,t)},r.orderBy=function(t,e,r,n){return null==t?[]:(Lc(e)||(e=null==e?[]:[e]),Lc(r=n?K:r)||(r=null==r?[]:[r]),Er(t,e,r))},r.over=gs,r.overArgs=kc,r.overEvery=vs,r.overSome=ms,r.partial=xc,r.partialRight=Rc,r.partition=gc,r.pick=Jc,r.pickBy=ro,r.property=fo,r.propertyOf=function(t){return function(e){return null==t?K:We(t,e)}},r.pull=Qi,r.pullAll=ma,r.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Cr(t,e,Bn(r,2)):t},r.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Cr(t,e,K,r):t},r.pullAt=Ji,r.range=_s,r.rangeRight=bs,r.rearg=Ac,r.reject=function(t,e){return(Lc(t)?u:Ge)(t,Da(Bn(e,3)))},r.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,a=[],o=t.length;for(e=Bn(e,3);++n<o;){var i=t[n];e(i,n,t)&&(r.push(i),a.push(n))}return Lr(t,a),r},r.rest=function(t,e){if("function"!=typeof t)throw new xo(X);return Nr(t,e=e===K?e:Ka(e))},r.reverse=_a,r.sampleSize=function(t,e,r){return e=(r?Zn(t,e,r):e===K)?1:Ka(e),(Lc(t)?_e:Gr)(t,e)},r.set=function(t,e,r){return null==t?t:Ur(t,e,r)},r.setWith=function(t,e,r,n){return n="function"==typeof n?n:K,null==t?t:Ur(t,e,r,n)},r.shuffle=function(t){return(Lc(t)?be:Ir)(t)},r.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&Zn(t,e,r)?(e=0,r=n):(e=null==e?0:Ka(e),r=r===K?n:Ka(r)),Mr(t,e,r)):[]},r.sortBy=vc,r.sortedUniq=function(t){return t&&t.length?Br(t):[]},r.sortedUniqBy=function(t,e){return t&&t.length?Br(t,Bn(e,2)):[]},r.split=function(t,e,r){return r&&"number"!=typeof r&&Zn(t,e,r)&&(e=r=K),(r=r===K?ot:r>>>0)?(t=$a(t))&&("string"==typeof e||null!=e&&!Gc(e))&&(!(e=Hr(e))&&I(t))?en(H(t),0,r):t.split(e,r):[]},r.spread=function(t,e){if("function"!=typeof t)throw new xo(X);return e=null==e?0:oi(Ka(e),0),Nr((function(r){var n=r[e],o=en(r,0,e);return n&&p(o,n),a(t,this,o)}))},r.tail=function(t){var e=null==t?0:t.length;return e?Mr(t,1,e):[]},r.take=function(t,e,r){return t&&t.length?Mr(t,0,(e=r||e===K?1:Ka(e))<0?0:e):[]},r.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?Mr(t,(e=n-(e=r||e===K?1:Ka(e)))<0?0:e,n):[]},r.takeRightWhile=function(t,e){return t&&t.length?Xr(t,Bn(e,3),!1,!0):[]},r.takeWhile=function(t,e){return t&&t.length?Xr(t,Bn(e,3)):[]},r.tap=function(t,e){return e(t),t},r.throttle=function(t,e,r){var n=!0,a=!0;if("function"!=typeof t)throw new xo(X);return Fa(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ca(t,e,{leading:n,maxWait:e,trailing:a})},r.thru=ka,r.toArray=Va,r.toPairs=ts,r.toPairsIn=es,r.toPath=function(t){return Lc(t)?f(t,ua):Ha(t)?[t]:un(Vi($a(t)))},r.toPlainObject=Za,r.transform=function(t,e,r){var n=Lc(t),a=n||Tc(t)||Ic(t);if(e=Bn(e,4),null==r){var o=t&&t.constructor;r=a?n?new o:[]:Fa(t)&&Ua(o)?Ei(jo(t)):{}}return(a?i:Ie)(t,(function(t,n,a){return e(r,t,n,a)})),r},r.unary=function(t){return Ea(t,1)},r.union=tc,r.unionBy=ec,r.unionWith=rc,r.uniq=function(t){return t&&t.length?Vr(t):[]},r.uniqBy=function(t,e){return t&&t.length?Vr(t,Bn(e,2)):[]},r.uniqWith=function(t,e){return e="function"==typeof e?e:K,t&&t.length?Vr(t,K,e):[]},r.unset=function(t,e){return null==t||qr(t,e)},r.unzip=ba,r.unzipWith=Oa,r.update=function(t,e,r){return null==t?t:Kr(t,e,Jr(r))},r.updateWith=function(t,e,r,n){return n="function"==typeof n?n:K,null==t?t:Kr(t,e,Jr(r),n)},r.values=no,r.valuesIn=function(t){return null==t?[]:D(t,eo(t))},r.without=nc,r.words=io,r.wrap=function(t,e){return xc(Jr(e),t)},r.xor=ac,r.xorBy=oc,r.xorWith=ic,r.zip=cc,r.zipObject=function(t,e){return $r(t||[],e||[],we)},r.zipObjectDeep=function(t,e){return $r(t||[],e||[],Ur)},r.zipWith=sc,r.entries=ts,r.entriesIn=es,r.extend=jc,r.extendWith=Bc,lo(r,r),r.add=Os,r.attempt=ls,r.camelCase=rs,r.capitalize=ao,r.ceil=ws,r.clamp=function(t,e,r){return r===K&&(r=e,e=K),r!==K&&(r=(r=Ya(r))===r?r:0),e!==K&&(e=(e=Ya(e))===e?e:0),Se(Ya(t),e,r)},r.clone=function(t){return Ce(t,4)},r.cloneDeep=function(t){return Ce(t,5)},r.cloneDeepWith=function(t,e){return Ce(t,5,e="function"==typeof e?e:K)},r.cloneWith=function(t,e){return Ce(t,4,e="function"==typeof e?e:K)},r.conformsTo=function(t,e){return null==e||Le(t,e,to(e))},r.deburr=oo,r.defaultTo=function(t,e){return null==t||t!==t?e:t},r.divide=ks,r.endsWith=function(t,e,r){t=$a(t),e=Hr(e);var n=t.length,a=r=r===K?n:Se(Ka(r),0,n);return(r-=e.length)>=0&&t.slice(r,a)==e},r.eq=Ta,r.escape=function(t){return(t=$a(t))&&Wt.test(t)?t.replace(Mt,mr):t},r.escapeRegExp=function(t){return(t=$a(t))&&Xt.test(t)?t.replace(Kt,"\\$&"):t},r.every=function(t,e,r){var n=Lc(t)?s:Ne;return r&&Zn(t,e,r)&&(e=K),n(t,Bn(e,3))},r.find=hc,r.findIndex=pa,r.findKey=function(t,e){return m(t,Bn(e,3),Ie)},r.findLast=fc,r.findLastIndex=da,r.findLastKey=function(t,e){return m(t,Bn(e,3),Me)},r.floor=xs,r.forEach=xa,r.forEachRight=Ra,r.forIn=function(t,e){return null==t?t:Li(t,Bn(e,3),eo)},r.forInRight=function(t,e){return null==t?t:Di(t,Bn(e,3),eo)},r.forOwn=function(t,e){return t&&Ie(t,Bn(e,3))},r.forOwnRight=function(t,e){return t&&Me(t,Bn(e,3))},r.get=Qa,r.gt=Ec,r.gte=Sc,r.has=function(t,e){return null!=t&&qn(t,e,qe)},r.hasIn=Ja,r.head=ga,r.identity=so,r.includes=function(t,e,r,n){t=Na(t)?t:no(t),r=r&&!n?Ka(r):0;var a=t.length;return r<0&&(r=oi(a+r,0)),za(t)?r<=a&&t.indexOf(e,r)>-1:!!a&&b(t,e,r)>-1},r.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var a=null==r?0:Ka(r);return a<0&&(a=oi(n+a,0)),b(t,e,a)},r.inRange=function(t,e,r){return e=qa(e),r===K?(r=e,e=0):r=qa(r),function(t,e,r){return t>=ii(e,r)&&t<oi(e,r)}(t=Ya(t),e,r)},r.invoke=Yc,r.isArguments=Cc,r.isArray=Lc,r.isArrayBuffer=Dc,r.isArrayLike=Na,r.isArrayLikeObject=Pa,r.isBoolean=function(t){return!0===t||!1===t||Wa(t)&&Be(t)==ut},r.isBuffer=Tc,r.isDate=Nc,r.isElement=function(t){return Wa(t)&&1===t.nodeType&&!Ba(t)},r.isEmpty=function(t){if(null==t)return!0;if(Na(t)&&(Lc(t)||"string"==typeof t||"function"==typeof t.splice||Tc(t)||Ic(t)||Cc(t)))return!t.length;var e=Wi(t);if(e==dt||e==_t)return!t.size;if(Jn(t))return!ur(t).length;for(var r in t)if(Lo.call(t,r))return!1;return!0},r.isEqual=function(t,e){return nr(t,e)},r.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:K)?r(t,e):K;return n===K?nr(t,e,K,r):!!n},r.isError=Ga,r.isFinite=function(t){return"number"==typeof t&&ri(t)},r.isFunction=Ua,r.isInteger=Ia,r.isLength=Ma,r.isMap=Pc,r.isMatch=function(t,e){return t===e||or(t,e,Hn(e))},r.isMatchWith=function(t,e,r){return r="function"==typeof r?r:K,or(t,e,Hn(e),r)},r.isNaN=function(t){return ja(t)&&t!=+t},r.isNative=function(t){if(ji(t))throw new mo("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ir(t)},r.isNil=function(t){return null==t},r.isNull=function(t){return null===t},r.isNumber=ja,r.isObject=Fa,r.isObjectLike=Wa,r.isPlainObject=Ba,r.isRegExp=Gc,r.isSafeInteger=function(t){return Ia(t)&&t>=-nt&&t<=nt},r.isSet=Uc,r.isString=za,r.isSymbol=Ha,r.isTypedArray=Ic,r.isUndefined=function(t){return t===K},r.isWeakMap=function(t){return Wa(t)&&Wi(t)==wt},r.isWeakSet=function(t){return Wa(t)&&"[object WeakSet]"==Be(t)},r.join=function(t,e){return null==t?"":ni.call(t,e)},r.kebabCase=ns,r.last=va,r.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var a=n;return r!==K&&(a=(a=Ka(r))<0?oi(n+a,0):ii(a,n-1)),e===e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,a):_(t,w,a,!0)},r.lowerCase=as,r.lowerFirst=os,r.lt=Mc,r.lte=Fc,r.max=function(t){return t&&t.length?Pe(t,so,Ve):K},r.maxBy=function(t,e){return t&&t.length?Pe(t,Bn(e,2),Ve):K},r.mean=function(t){return k(t,so)},r.meanBy=function(t,e){return k(t,Bn(e,2))},r.min=function(t){return t&&t.length?Pe(t,so,Or):K},r.minBy=function(t,e){return t&&t.length?Pe(t,Bn(e,2),Or):K},r.stubArray=po,r.stubFalse=yo,r.stubObject=function(){return{}},r.stubString=function(){return""},r.stubTrue=function(){return!0},r.multiply=Rs,r.nth=function(t,e){return t&&t.length?Ar(t,Ka(e)):K},r.noConflict=function(){return ar._===this&&(ar._=Go),this},r.noop=ho,r.now=mc,r.pad=function(t,e,r){t=$a(t);var n=(e=Ka(e))?z(t):0;if(!e||n>=e)return t;var a=(e-n)/2;return Rn(Jo(a),r)+t+Rn(Qo(a),r)},r.padEnd=function(t,e,r){t=$a(t);var n=(e=Ka(e))?z(t):0;return e&&n<e?t+Rn(e-n,r):t},r.padStart=function(t,e,r){t=$a(t);var n=(e=Ka(e))?z(t):0;return e&&n<e?Rn(e-n,r)+t:t},r.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),si($a(t).replace(Yt,""),e||0)},r.random=function(t,e,r){if(r&&"boolean"!=typeof r&&Zn(t,e,r)&&(e=r=K),r===K&&("boolean"==typeof e?(r=e,e=K):"boolean"==typeof t&&(r=t,t=K)),t===K&&e===K?(t=0,e=1):(t=qa(t),e===K?(e=t,t=0):e=qa(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var a=ui();return ii(t+a*(e-t+tr("1e-"+((a+"").length-1))),e)}return Dr(t,e)},r.reduce=function(t,e,r){var n=Lc(t)?d:A,a=arguments.length<3;return n(t,Bn(e,4),r,a,Si)},r.reduceRight=function(t,e,r){var n=Lc(t)?y:A,a=arguments.length<3;return n(t,Bn(e,4),r,a,Ci)},r.repeat=function(t,e,r){return e=(r?Zn(t,e,r):e===K)?1:Ka(e),Tr($a(t),e)},r.replace=function(){var t=arguments,e=$a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},r.result=function(t,e,r){var n=-1,a=(e=tn(e,t)).length;for(a||(a=1,t=K);++n<a;){var o=null==t?K:t[ua(e[n])];o===K&&(n=a,o=r),t=Ua(o)?o.call(t):o}return t},r.round=As,r.runInContext=t,r.sample=function(t){return(Lc(t)?me:Pr)(t)},r.size=function(t){if(null==t)return 0;if(Na(t))return za(t)?z(t):t.length;var e=Wi(t);return e==dt||e==_t?t.size:ur(t).length},r.snakeCase=is,r.some=function(t,e,r){var n=Lc(t)?g:Fr;return r&&Zn(t,e,r)&&(e=K),n(t,Bn(e,3))},r.sortedIndex=function(t,e){return Wr(t,e)},r.sortedIndexBy=function(t,e,r){return jr(t,e,Bn(r,2))},r.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=Wr(t,e);if(n<r&&Ta(t[n],e))return n}return-1},r.sortedLastIndex=function(t,e){return Wr(t,e,!0)},r.sortedLastIndexBy=function(t,e,r){return jr(t,e,Bn(r,2),!0)},r.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=Wr(t,e,!0)-1;if(Ta(t[r],e))return r}return-1},r.startCase=cs,r.startsWith=function(t,e,r){return t=$a(t),r=null==r?0:Se(Ka(r),0,t.length),e=Hr(e),t.slice(r,r+e.length)==e},r.subtract=Es,r.sum=function(t){return t&&t.length?E(t,so):0},r.sumBy=function(t,e){return t&&t.length?E(t,Bn(e,2)):0},r.template=function(t,e,n){var a=r.templateSettings;n&&Zn(t,e,n)&&(e=K),t=$a(t),e=Bc({},e,a,Nn);var o,i,c=Bc({},e.imports,a.imports,Nn),s=to(c),u=D(c,s),l=0,h=e.interpolate||he,f="__p += '",p=wo((e.escape||he).source+"|"+h.source+"|"+(h===zt?ne:he).source+"|"+(e.evaluate||he).source+"|$","g"),d="//# sourceURL="+(Lo.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ze+"]")+"\n";t.replace(p,(function(e,r,n,a,c,s){return n||(n=a),f+=t.slice(l,s).replace(fe,U),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),c&&(i=!0,f+="';\n"+c+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=s+e.length,e})),f+="';\n";var y=Lo.call(e,"variable")&&e.variable;if(y){if(ee.test(y))throw new mo("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(Pt,""):f).replace(Gt,"$1").replace(Ut,"$1;"),f="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=ls((function(){return _o(s,d+"return "+f).apply(K,u)}));if(g.source=f,Ga(g))throw g;return g},r.times=function(t,e){if((t=Ka(t))<1||t>nt)return[];var r=ot,n=ii(t,ot);e=Bn(e),t-=ot;for(var a=S(n,e);++r<t;)e(r);return a},r.toFinite=qa,r.toInteger=Ka,r.toLength=Xa,r.toLower=function(t){return $a(t).toLowerCase()},r.toNumber=Ya,r.toSafeInteger=function(t){return t?Se(Ka(t),-nt,nt):0===t?t:0},r.toString=$a,r.toUpper=function(t){return $a(t).toUpperCase()},r.trim=function(t,e,r){if((t=$a(t))&&(r||e===K))return C(t);if(!t||!(e=Hr(e)))return t;var n=H(t),a=H(e);return en(n,N(n,a),P(n,a)+1).join("")},r.trimEnd=function(t,e,r){if((t=$a(t))&&(r||e===K))return t.slice(0,V(t)+1);if(!t||!(e=Hr(e)))return t;var n=H(t);return en(n,0,P(n,H(e))+1).join("")},r.trimStart=function(t,e,r){if((t=$a(t))&&(r||e===K))return t.replace(Yt,"");if(!t||!(e=Hr(e)))return t;var n=H(t);return en(n,N(n,H(e))).join("")},r.truncate=function(t,e){var r=30,n="...";if(Fa(e)){var a="separator"in e?e.separator:a;r="length"in e?Ka(e.length):r,n="omission"in e?Hr(e.omission):n}var o=(t=$a(t)).length;if(I(t)){var i=H(t);o=i.length}if(r>=o)return t;var c=r-z(n);if(c<1)return n;var s=i?en(i,0,c).join(""):t.slice(0,c);if(a===K)return s+n;if(i&&(c+=s.length-c),Gc(a)){if(t.slice(c).search(a)){var u,l=s;for(a.global||(a=wo(a.source,$a(ae.exec(a))+"g")),a.lastIndex=0;u=a.exec(l);)var h=u.index;s=s.slice(0,h===K?c:h)}}else if(t.indexOf(Hr(a),c)!=c){var f=s.lastIndexOf(a);f>-1&&(s=s.slice(0,f))}return s+n},r.unescape=function(t){return(t=$a(t))&&Ft.test(t)?t.replace(It,_r):t},r.uniqueId=function(t){var e=++Do;return $a(t)+e},r.upperCase=ss,r.upperFirst=us,r.each=xa,r.eachRight=Ra,r.first=ga,lo(r,function(){var t={};return Ie(r,(function(e,n){Lo.call(r.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),r.VERSION="4.17.21",i(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){r[t].placeholder=r})),i(["drop","take"],(function(t,e){Zt.prototype[t]=function(r){r=r===K?1:oi(Ka(r),0);var n=this.__filtered__&&!e?new Zt(this):this.clone();return n.__filtered__?n.__takeCount__=ii(r,n.__takeCount__):n.__views__.push({size:ii(r,ot),type:t+(n.__dir__<0?"Right":"")}),n},Zt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),i(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Zt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Bn(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),i(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Zt.prototype[t]=function(){return this[r](1).value()[0]}})),i(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Zt.prototype[t]=function(){return this.__filtered__?new Zt(this):this[r](1)}})),Zt.prototype.compact=function(){return this.filter(so)},Zt.prototype.find=function(t){return this.filter(t).head()},Zt.prototype.findLast=function(t){return this.reverse().find(t)},Zt.prototype.invokeMap=Nr((function(t,e){return"function"==typeof t?new Zt(this):this.map((function(r){return Je(r,t,e)}))})),Zt.prototype.reject=function(t){return this.filter(Da(Bn(t)))},Zt.prototype.slice=function(t,e){t=Ka(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Zt(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==K&&(r=(e=Ka(e))<0?r.dropRight(-e):r.take(e-t)),r)},Zt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Zt.prototype.toArray=function(){return this.take(ot)},Ie(Zt.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),o=r[a?"take"+("last"==e?"Right":""):e],i=a||/^find/.test(e);o&&(r.prototype[e]=function(){var e=this.__wrapped__,c=a?[1]:arguments,s=e instanceof Zt,u=c[0],l=s||Lc(e),h=function(t){var e=o.apply(r,p([t],c));return a&&f?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var f=this.__chain__,d=!!this.__actions__.length,y=i&&!f,g=s&&!d;if(!i&&l){e=g?e:new Zt(this);var v=t.apply(e,c);return v.__actions__.push({func:ka,args:[h],thisArg:K}),new R(v,f)}return y&&g?t.apply(this,c):(v=this.thru(h),y?a?v.value()[0]:v.value():v)})})),i(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ro[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);r.prototype[t]=function(){var t=arguments;if(a&&!this.__chain__){var r=this.value();return e.apply(Lc(r)?r:[],t)}return this[n]((function(r){return e.apply(Lc(r)?r:[],t)}))}})),Ie(Zt.prototype,(function(t,e){var n=r[e];if(n){var a=n.name+"";Lo.call(mi,a)||(mi[a]=[]),mi[a].push({name:e,func:n})}})),mi[On(K,2).name]=[{name:"wrapper",func:K}],Zt.prototype.clone=function(){var t=new Zt(this.__wrapped__);return t.__actions__=un(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=un(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=un(this.__views__),t},Zt.prototype.reverse=function(){if(this.__filtered__){var t=new Zt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Zt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Lc(t),n=e<0,a=r?t.length:0,o=function(t,e,r){for(var n=-1,a=r.length;++n<a;){var o=r[n],i=o.size;switch(o.type){case"drop":t+=i;break;case"dropRight":e-=i;break;case"take":e=ii(e,t+i);break;case"takeRight":t=oi(t,e-i)}}return{start:t,end:e}}(0,a,this.__views__),i=o.start,c=o.end,s=c-i,u=n?c:i-1,l=this.__iteratees__,h=l.length,f=0,p=ii(s,this.__takeCount__);if(!r||!n&&a==s&&p==s)return Yr(t,this.__actions__);var d=[];t:for(;s--&&f<p;){for(var y=-1,g=t[u+=e];++y<h;){var v=l[y],m=v.iteratee,_=v.type,b=m(g);if(2==_)g=b;else if(!b){if(1==_)continue t;break t}}d[f++]=g}return d},r.prototype.at=uc,r.prototype.chain=function(){return wa(this)},r.prototype.commit=function(){return new R(this.value(),this.__chain__)},r.prototype.next=function(){this.__values__===K&&(this.__values__=Va(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?K:this.__values__[this.__index__++]}},r.prototype.plant=function(t){for(var e,r=this;r instanceof n;){var a=fa(r);a.__index__=0,a.__values__=K,e?o.__wrapped__=a:e=a;var o=a;r=r.__wrapped__}return o.__wrapped__=t,e},r.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Zt){var e=t;return this.__actions__.length&&(e=new Zt(this)),(e=e.reverse()).__actions__.push({func:ka,args:[_a],thisArg:K}),new R(e,this.__chain__)}return this.thru(_a)},r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=function(){return Yr(this.__wrapped__,this.__actions__)},r.prototype.first=r.prototype.head,qo&&(r.prototype[qo]=function(){return this}),r}();ar._=br,void 0===(n=function(){return br}.call(e,r,e,t))||(t.exports=n)}.call(this)},9151:function(t,e,r){var n=r(8059);function a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=t.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(a.Cache||n),r}a.Cache=n,t.exports=a},9694:function(t){t.exports=function(){}},38:function(t,e,r){var n=r(9586),a=r(4084),o=r(5823),i=r(9793);t.exports=function(t){return o(t)?n(i(t)):a(t)}},1968:function(t,e,r){var n=r(1121),a=r(7038),o=a((function(t,e){return n(t,256,void 0,void 0,void 0,e)}));t.exports=o},9810:function(t){t.exports=function(){return[]}},9488:function(t){t.exports=function(){return!1}},1495:function(t,e,r){var n=r(2582),a=1/0;t.exports=function(t){return t?(t=n(t))===a||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},9753:function(t,e,r){var n=r(1495);t.exports=function(t){var e=n(t),r=e%1;return e===e?r?e-r:e:0}},2582:function(t,e,r){var n=r(821),a=r(8092),o=r(152),i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(a(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=a(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=c.test(t);return r||s.test(t)?u(t.slice(2),r?2:8):i.test(t)?NaN:+t}},168:function(t,e,r){var n=r(8950),a=r(291),o=r(3629),i=r(152),c=r(170),s=r(9793),u=r(3518);t.exports=function(t){return o(t)?n(t,s):i(t)?[t]:a(c(u(t)))}},3518:function(t,e,r){var n=r(2446);t.exports=function(t){return null==t?"":n(t)}},2857:function(t,e,r){var n=r(2492),a=r(5598),o=r(8807),i=r(3629),c=r(3141),s=r(8878),u=Object.prototype.hasOwnProperty;function l(t){if(c(t)&&!i(t)&&!(t instanceof n)){if(t instanceof a)return t;if(u.call(t,"__wrapped__"))return s(t)}return new a(t)}l.prototype=o.prototype,l.prototype.constructor=l,t.exports=l},1725:function(t){"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(a){return!1}}()?Object.assign:function(t,o){for(var i,c,s=a(t),u=1;u<arguments.length;u++){for(var l in i=Object(arguments[u]))r.call(i,l)&&(s[l]=i[l]);if(e){c=e(i);for(var h=0;h<c.length;h++)n.call(i,c[h])&&(s[c[h]]=i[c[h]])}}return s}},888:function(t,e,r){"use strict";var n=r(9047);function a(){}function o(){}o.resetWarningCache=a,t.exports=function(){function t(t,e,r,a,o,i){if(i!==n){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},2007:function(t,e,r){t.exports=r(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4589:function(t,e,r){"use strict";t.exports=r(2079)},4463:function(t,e,r){"use strict";var n=r(2791),a=r(1725),o=r(5296);function i(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(i(227));function c(t,e,r,n,a,o,i,c,s){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(l){this.onError(l)}}var s=!1,u=null,l=!1,h=null,f={onError:function(t){s=!0,u=t}};function p(t,e,r,n,a,o,i,l,h){s=!1,u=null,c.apply(f,arguments)}var d=null,y=null,g=null;function v(t,e,r){var n=t.type||"unknown-event";t.currentTarget=g(r),function(t,e,r,n,a,o,c,f,d){if(p.apply(this,arguments),s){if(!s)throw Error(i(198));var y=u;s=!1,u=null,l||(l=!0,h=y)}}(n,e,void 0,t),t.currentTarget=null}var m=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;m.hasOwnProperty("ReactCurrentDispatcher")||(m.ReactCurrentDispatcher={current:null}),m.hasOwnProperty("ReactCurrentBatchConfig")||(m.ReactCurrentBatchConfig={suspense:null});var _=/^(.*)[\\\/]/,b="function"===typeof Symbol&&Symbol.for,O=b?Symbol.for("react.element"):60103,w=b?Symbol.for("react.portal"):60106,k=b?Symbol.for("react.fragment"):60107,x=b?Symbol.for("react.strict_mode"):60108,R=b?Symbol.for("react.profiler"):60114,A=b?Symbol.for("react.provider"):60109,E=b?Symbol.for("react.context"):60110,S=b?Symbol.for("react.concurrent_mode"):60111,C=b?Symbol.for("react.forward_ref"):60112,L=b?Symbol.for("react.suspense"):60113,D=b?Symbol.for("react.suspense_list"):60120,T=b?Symbol.for("react.memo"):60115,N=b?Symbol.for("react.lazy"):60116,P=b?Symbol.for("react.block"):60121,G="function"===typeof Symbol&&Symbol.iterator;function U(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=G&&t[G]||t["@@iterator"])?t:null}function I(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case w:return"Portal";case R:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case D:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case E:return"Context.Consumer";case A:return"Context.Provider";case C:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case T:return I(t.type);case P:return I(t.render);case N:if(t=1===t._status?t._result:null)return I(t)}return null}function M(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break t;default:var n=t._debugOwner,a=t._debugSource,o=I(t.type);r=null,n&&(r=I(n.type)),n=o,o="",a?o=" (at "+a.fileName.replace(_,"")+":"+a.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}e+=r,t=t.return}while(t);return e}var F=null,W={};function j(){if(F)for(var t in W){var e=W[t],r=F.indexOf(t);if(!(-1<r))throw Error(i(96,t));if(!z[r]){if(!e.extractEvents)throw Error(i(97,t));for(var n in z[r]=e,r=e.eventTypes){var a=void 0,o=r[n],c=e,s=n;if(H.hasOwnProperty(s))throw Error(i(99,s));H[s]=o;var u=o.phasedRegistrationNames;if(u){for(a in u)u.hasOwnProperty(a)&&B(u[a],c,s);a=!0}else o.registrationName?(B(o.registrationName,c,s),a=!0):a=!1;if(!a)throw Error(i(98,n,t))}}}}function B(t,e,r){if(V[t])throw Error(i(100,t));V[t]=e,q[t]=e.eventTypes[r].dependencies}var z=[],H={},V={},q={};function K(t){var e,r=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(!W.hasOwnProperty(e)||W[e]!==n){if(W[e])throw Error(i(102,e));W[e]=n,r=!0}}r&&j()}var X=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Y=null,Z=null,$=null;function Q(t){if(t=y(t)){if("function"!==typeof Y)throw Error(i(280));var e=t.stateNode;e&&(e=d(e),Y(t.stateNode,t.type,e))}}function J(t){Z?$?$.push(t):$=[t]:Z=t}function tt(){if(Z){var t=Z,e=$;if($=Z=null,Q(t),e)for(t=0;t<e.length;t++)Q(e[t])}}function et(t,e){return t(e)}function rt(t,e,r,n,a){return t(e,r,n,a)}function nt(){}var at=et,ot=!1,it=!1;function ct(){null===Z&&null===$||(nt(),tt())}function st(t,e,r){if(it)return t(e,r);it=!0;try{return at(t,e,r)}finally{it=!1,ct()}}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lt=Object.prototype.hasOwnProperty,ht={},ft={};function pt(t,e,r,n,a,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){dt[t]=new pt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];dt[e]=new pt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){dt[t]=new pt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){dt[t]=new pt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){dt[t]=new pt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){dt[t]=new pt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){dt[t]=new pt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){dt[t]=new pt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){dt[t]=new pt(t,5,!1,t.toLowerCase(),null,!1)}));var yt=/[\-:]([a-z])/g;function gt(t){return t[1].toUpperCase()}function vt(t,e,r,n){var a=dt.hasOwnProperty(e)?dt[e]:null;(null!==a?0===a.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,r,n){if(null===e||"undefined"===typeof e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,a,n)&&(r=null),n||null===a?function(t){return!!lt.call(ft,t)||!lt.call(ht,t)&&(ut.test(t)?ft[t]=!0:(ht[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=null===r?3!==a.type&&"":r:(e=a.attributeName,n=a.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _t(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=_t(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Ot(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=_t(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function wt(t,e){var r=e.checked;return a({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function kt(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=mt(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function xt(t,e){null!=(e=e.checked)&&vt(t,"checked",e,!1)}function Rt(t,e){xt(t,e);var r=mt(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?Et(t,e.type,r):e.hasOwnProperty("defaultValue")&&Et(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function At(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function Et(t,e,r){"number"===e&&t.ownerDocument.activeElement===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function St(t,e){return t=a({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ct(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+mt(r),e=null,a=0;a<t.length;a++){if(t[a].value===r)return t[a].selected=!0,void(n&&(t[a].defaultSelected=!0));null!==e||t[a].disabled||(e=t[a])}null!==e&&(e.selected=!0)}}function Lt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(i(91));return a({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dt(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(i(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(i(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:mt(r)}}function Tt(t,e){var r=mt(e.value),n=mt(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function Nt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(yt,gt);dt[e]=new pt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(yt,gt);dt[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(yt,gt);dt[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){dt[t]=new pt(t,1,!1,t.toLowerCase(),null,!1)})),dt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){dt[t]=new pt(t,1,!1,t.toLowerCase(),null,!0)}));var Pt="http://www.w3.org/1999/xhtml",Gt="http://www.w3.org/2000/svg";function Ut(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ut(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Mt,Ft,Wt=(Ft=function(t,e){if(t.namespaceURI!==Gt||"innerHTML"in t)t.innerHTML=e;else{for((Mt=Mt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction((function(){return Ft(t,e)}))}:Ft);function jt(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}function Bt(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zt={animationend:Bt("Animation","AnimationEnd"),animationiteration:Bt("Animation","AnimationIteration"),animationstart:Bt("Animation","AnimationStart"),transitionend:Bt("Transition","TransitionEnd")},Ht={},Vt={};function qt(t){if(Ht[t])return Ht[t];if(!zt[t])return t;var e,r=zt[t];for(e in r)if(r.hasOwnProperty(e)&&e in Vt)return Ht[t]=r[e];return t}X&&(Vt=document.createElement("div").style,"AnimationEvent"in window||(delete zt.animationend.animation,delete zt.animationiteration.animation,delete zt.animationstart.animation),"TransitionEvent"in window||delete zt.transitionend.transition);var Kt=qt("animationend"),Xt=qt("animationiteration"),Yt=qt("animationstart"),Zt=qt("transitionend"),$t="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qt=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=Qt.get(t);return void 0===e&&(e=new Map,Qt.set(t,e)),e}function te(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function ee(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function re(t){if(te(t)!==t)throw Error(i(188))}function ne(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=te(t)))throw Error(i(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return re(a),t;if(o===n)return re(a),e;o=o.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=o;else{for(var c=!1,s=a.child;s;){if(s===r){c=!0,r=a,n=o;break}if(s===n){c=!0,n=a,r=o;break}s=s.sibling}if(!c){for(s=o.child;s;){if(s===r){c=!0,r=o,n=a;break}if(s===n){c=!0,n=o,r=a;break}s=s.sibling}if(!c)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ae(t,e){if(null==e)throw Error(i(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function oe(t,e,r){Array.isArray(t)?t.forEach(e,r):t&&e.call(r,t)}var ie=null;function ce(t){if(t){var e=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)v(t,e[n],r[n]);else e&&v(t,e,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(ie=ae(ie,t)),t=ie,ie=null,t){if(oe(t,ce),ie)throw Error(i(95));if(l)throw t=h,l=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function le(t){if(!X)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var he=[];function fe(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>he.length&&he.push(t)}function pe(t,e,r,n){if(he.length){var a=he.pop();return a.topLevelType=t,a.eventSystemFlags=n,a.nativeEvent=e,a.targetInst=r,a}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:r,ancestors:[]}}function de(t){var e=t.targetInst,r=e;do{if(!r){t.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(e=r.tag)&&6!==e||t.ancestors.push(r),r=Lr(n)}while(r);for(r=0;r<t.ancestors.length;r++){e=t.ancestors[r];var a=ue(t.nativeEvent);n=t.topLevelType;var o=t.nativeEvent,i=t.eventSystemFlags;0===r&&(i|=64);for(var c=null,s=0;s<z.length;s++){var u=z[s];u&&(u=u.extractEvents(n,e,o,a,i))&&(c=ae(c,u))}se(c)}}function ye(t,e,r){if(!r.has(t)){switch(t){case"scroll":Ye(e,"scroll",!0);break;case"focus":case"blur":Ye(e,"focus",!0),Ye(e,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":le(t)&&Ye(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$t.indexOf(t)&&Xe(t,e)}r.set(t,null)}}var ge,ve,me,_e=!1,be=[],Oe=null,we=null,ke=null,xe=new Map,Re=new Map,Ae=[],Ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Se="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ce(t,e,r,n,a){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|r,nativeEvent:a,container:n}}function Le(t,e){switch(t){case"focus":case"blur":Oe=null;break;case"dragenter":case"dragleave":we=null;break;case"mouseover":case"mouseout":ke=null;break;case"pointerover":case"pointerout":xe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(e.pointerId)}}function De(t,e,r,n,a,o){return null===t||t.nativeEvent!==o?(t=Ce(e,r,n,a,o),null!==e&&(null!==(e=Dr(e))&&ve(e)),t):(t.eventSystemFlags|=n,t)}function Te(t){var e=Lr(t.target);if(null!==e){var r=te(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=ee(r)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){me(r)}))}else if(3===e&&r.stateNode.hydrate)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function Ne(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var r=Dr(e);return null!==r&&ve(r),t.blockedOn=e,!1}return!0}function Pe(t,e,r){Ne(t)&&r.delete(e)}function Ge(){for(_e=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=Dr(t.blockedOn))&&ge(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==Oe&&Ne(Oe)&&(Oe=null),null!==we&&Ne(we)&&(we=null),null!==ke&&Ne(ke)&&(ke=null),xe.forEach(Pe),Re.forEach(Pe)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,_e||(_e=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ge)))}function Ie(t){function e(e){return Ue(e,t)}if(0<be.length){Ue(be[0],t);for(var r=1;r<be.length;r++){var n=be[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Oe&&Ue(Oe,t),null!==we&&Ue(we,t),null!==ke&&Ue(ke,t),xe.forEach(e),Re.forEach(e),r=0;r<Ae.length;r++)(n=Ae[r]).blockedOn===t&&(n.blockedOn=null);for(;0<Ae.length&&null===(r=Ae[0]).blockedOn;)Te(r),null===r.blockedOn&&Ae.shift()}var Me={},Fe=new Map,We=new Map,je=["abort","abort",Kt,"animationEnd",Xt,"animationIteration",Yt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Zt,"transitionEnd","waiting","waiting"];function Be(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1],o="on"+(a[0].toUpperCase()+a.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:e},We.set(n,e),Fe.set(n,o),Me[a]=o}}Be("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Be("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Be(je,2);for(var ze="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),He=0;He<ze.length;He++)We.set(ze[He],0);var Ve=o.unstable_UserBlockingPriority,qe=o.unstable_runWithPriority,Ke=!0;function Xe(t,e){Ye(e,t,!1)}function Ye(t,e,r){var n=We.get(e);switch(void 0===n?2:n){case 0:n=Ze.bind(null,e,1,t);break;case 1:n=$e.bind(null,e,1,t);break;default:n=Qe.bind(null,e,1,t)}r?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function Ze(t,e,r,n){ot||nt();var a=Qe,o=ot;ot=!0;try{rt(a,t,e,r,n)}finally{(ot=o)||ct()}}function $e(t,e,r,n){qe(Ve,Qe.bind(null,t,e,r,n))}function Qe(t,e,r,n){if(Ke)if(0<be.length&&-1<Ee.indexOf(t))t=Ce(null,t,e,r,n),be.push(t);else{var a=Je(t,e,r,n);if(null===a)Le(t,n);else if(-1<Ee.indexOf(t))t=Ce(a,t,e,r,n),be.push(t);else if(!function(t,e,r,n,a){switch(e){case"focus":return Oe=De(Oe,t,e,r,n,a),!0;case"dragenter":return we=De(we,t,e,r,n,a),!0;case"mouseover":return ke=De(ke,t,e,r,n,a),!0;case"pointerover":var o=a.pointerId;return xe.set(o,De(xe.get(o)||null,t,e,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Re.set(o,De(Re.get(o)||null,t,e,r,n,a)),!0}return!1}(a,t,e,r,n)){Le(t,n),t=pe(t,n,null,e);try{st(de,t)}finally{fe(t)}}}}function Je(t,e,r,n){if(null!==(r=Lr(r=ue(n)))){var a=te(r);if(null===a)r=null;else{var o=a.tag;if(13===o){if(null!==(r=ee(a)))return r;r=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}t=pe(t,n,r,e);try{st(de,t)}finally{fe(t)}return null}var tr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];function rr(t,e,r){return null==e||"boolean"===typeof e||""===e?"":r||"number"!==typeof e||0===e||tr.hasOwnProperty(t)&&tr[t]?(""+e).trim():e+"px"}function nr(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=rr(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}Object.keys(tr).forEach((function(t){er.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tr[e]=tr[t]}))}));var ar=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function or(t,e){if(e){if(ar[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(i(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(i(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(i(62,""))}}function ir(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cr=Pt;function sr(t,e){var r=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=q[e];for(var n=0;n<e.length;n++)ye(e[n],t,r)}function ur(){}function lr(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fr(t,e){var r,n=hr(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=hr(n)}}function pr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?pr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dr(){for(var t=window,e=lr();e instanceof t.HTMLIFrameElement;){try{var r="string"===typeof e.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=lr((t=e.contentWindow).document)}return e}function yr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gr="$?",vr="$!",mr=null,_r=null;function br(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Or(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var wr="function"===typeof setTimeout?setTimeout:void 0,kr="function"===typeof clearTimeout?clearTimeout:void 0;function xr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Rr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||r===vr||r===gr){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),Er="__reactInternalInstance$"+Ar,Sr="__reactEventHandlers$"+Ar,Cr="__reactContainere$"+Ar;function Lr(t){var e=t[Er];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Cr]||r[Er]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=Rr(t);null!==t;){if(r=t[Er])return r;t=Rr(t)}return e}r=(t=r).parentNode}return null}function Dr(t){return!(t=t[Er]||t[Cr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Tr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(i(33))}function Nr(t){return t[Sr]||null}function Pr(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Gr(t,e){var r=t.stateNode;if(!r)return null;var n=d(r);if(!n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!==typeof r)throw Error(i(231,e,typeof r));return r}function Ur(t,e,r){(e=Gr(t,r.dispatchConfig.phasedRegistrationNames[e]))&&(r._dispatchListeners=ae(r._dispatchListeners,e),r._dispatchInstances=ae(r._dispatchInstances,t))}function Ir(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,r=[];e;)r.push(e),e=Pr(e);for(e=r.length;0<e--;)Ur(r[e],"captured",t);for(e=0;e<r.length;e++)Ur(r[e],"bubbled",t)}}function Mr(t,e,r){t&&r&&r.dispatchConfig.registrationName&&(e=Gr(t,r.dispatchConfig.registrationName))&&(r._dispatchListeners=ae(r._dispatchListeners,e),r._dispatchInstances=ae(r._dispatchInstances,t))}function Fr(t){t&&t.dispatchConfig.registrationName&&Mr(t._targetInst,null,t)}function Wr(t){oe(t,Ir)}var jr=null,Br=null,zr=null;function Hr(){if(zr)return zr;var t,e,r=Br,n=r.length,a="value"in jr?jr.value:jr.textContent,o=a.length;for(t=0;t<n&&r[t]===a[t];t++);var i=n-t;for(e=1;e<=i&&r[n-e]===a[o-e];e++);return zr=a.slice(t,1<e?1-e:void 0)}function Vr(){return!0}function qr(){return!1}function Kr(t,e,r,n){for(var a in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=r,t=this.constructor.Interface)t.hasOwnProperty(a)&&((e=t[a])?this[a]=e(r):"target"===a?this.target=n:this[a]=r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Vr:qr,this.isPropagationStopped=qr,this}function Xr(t,e,r,n){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,t,e,r,n),a}return new this(t,e,r,n)}function Yr(t){if(!(t instanceof this))throw Error(i(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Zr(t){t.eventPool=[],t.getPooled=Xr,t.release=Yr}a(Kr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){this.isPersistent=Vr},isPersistent:qr,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qr,this._dispatchInstances=this._dispatchListeners=null}}),Kr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kr.extend=function(t){function e(){}function r(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var o=new e;return a(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=a({},n.Interface,t),r.extend=n.extend,Zr(r),r},Zr(Kr);var $r=Kr.extend({data:null}),Qr=Kr.extend({data:null}),Jr=[9,13,27,32],tn=X&&"CompositionEvent"in window,en=null;X&&"documentMode"in document&&(en=document.documentMode);var rn=X&&"TextEvent"in window&&!en,nn=X&&(!tn||en&&8<en&&11>=en),an=String.fromCharCode(32),on={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},cn=!1;function sn(t,e){switch(t){case"keyup":return-1!==Jr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var ln=!1;var hn={eventTypes:on,extractEvents:function(t,e,r,n){var a;if(tn)t:{switch(t){case"compositionstart":var o=on.compositionStart;break t;case"compositionend":o=on.compositionEnd;break t;case"compositionupdate":o=on.compositionUpdate;break t}o=void 0}else ln?sn(t,r)&&(o=on.compositionEnd):"keydown"===t&&229===r.keyCode&&(o=on.compositionStart);return o?(nn&&"ko"!==r.locale&&(ln||o!==on.compositionStart?o===on.compositionEnd&&ln&&(a=Hr()):(Br="value"in(jr=n)?jr.value:jr.textContent,ln=!0)),o=$r.getPooled(o,e,r,n),a?o.data=a:null!==(a=un(r))&&(o.data=a),Wr(o),a=o):a=null,(t=rn?function(t,e){switch(t){case"compositionend":return un(e);case"keypress":return 32!==e.which?null:(cn=!0,an);case"textInput":return(t=e.data)===an&&cn?null:t;default:return null}}(t,r):function(t,e){if(ln)return"compositionend"===t||!tn&&sn(t,e)?(t=Hr(),zr=Br=jr=null,ln=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nn&&"ko"!==e.locale?null:e.data}}(t,r))?((e=Qr.getPooled(on.beforeInput,e,r,n)).data=t,Wr(e)):e=null,null===a?e:null===e?a:[a,e]}},fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!fn[t.type]:"textarea"===e}var dn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yn(t,e,r){return(t=Kr.getPooled(dn.change,t,e,r)).type="change",J(r),Wr(t),t}var gn=null,vn=null;function mn(t){se(t)}function _n(t){if(Ot(Tr(t)))return t}function bn(t,e){if("change"===t)return e}var On=!1;function wn(){gn&&(gn.detachEvent("onpropertychange",kn),vn=gn=null)}function kn(t){if("value"===t.propertyName&&_n(vn))if(t=yn(vn,t,ue(t)),ot)se(t);else{ot=!0;try{et(mn,t)}finally{ot=!1,ct()}}}function xn(t,e,r){"focus"===t?(wn(),vn=r,(gn=e).attachEvent("onpropertychange",kn)):"blur"===t&&wn()}function Rn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return _n(vn)}function An(t,e){if("click"===t)return _n(e)}function En(t,e){if("input"===t||"change"===t)return _n(e)}X&&(On=le("input")&&(!document.documentMode||9<document.documentMode));var Sn={eventTypes:dn,_isInputEventSupported:On,extractEvents:function(t,e,r,n){var a=e?Tr(e):window,o=a.nodeName&&a.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===a.type)var i=bn;else if(pn(a))if(On)i=En;else{i=Rn;var c=xn}else(o=a.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(i=An);if(i&&(i=i(t,e)))return yn(i,r,n);c&&c(t,a,e),"blur"===t&&(t=a._wrapperState)&&t.controlled&&"number"===a.type&&Et(a,"number",a.value)}},Cn=Kr.extend({view:null,detail:null}),Ln={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ln[t])&&!!e[t]}function Tn(){return Dn}var Nn=0,Pn=0,Gn=!1,Un=!1,In=Cn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Tn,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Nn;return Nn=t.screenX,Gn?"mousemove"===t.type?t.screenX-e:0:(Gn=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Pn;return Pn=t.screenY,Un?"mousemove"===t.type?t.screenY-e:0:(Un=!0,0)}}),Mn=In.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Fn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Wn={eventTypes:Fn,extractEvents:function(t,e,r,n,a){var o="mouseover"===t||"pointerover"===t,i="mouseout"===t||"pointerout"===t;if(o&&0===(32&a)&&(r.relatedTarget||r.fromElement)||!i&&!o)return null;(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,i)?(i=e,null!==(e=(e=r.relatedTarget||r.toElement)?Lr(e):null)&&(e!==te(e)||5!==e.tag&&6!==e.tag)&&(e=null)):i=null;if(i===e)return null;if("mouseout"===t||"mouseover"===t)var c=In,s=Fn.mouseLeave,u=Fn.mouseEnter,l="mouse";else"pointerout"!==t&&"pointerover"!==t||(c=Mn,s=Fn.pointerLeave,u=Fn.pointerEnter,l="pointer");if(t=null==i?o:Tr(i),o=null==e?o:Tr(e),(s=c.getPooled(s,i,r,n)).type=l+"leave",s.target=t,s.relatedTarget=o,(r=c.getPooled(u,e,r,n)).type=l+"enter",r.target=o,r.relatedTarget=t,l=e,(n=i)&&l)t:{for(u=l,i=0,t=c=n;t;t=Pr(t))i++;for(t=0,e=u;e;e=Pr(e))t++;for(;0<i-t;)c=Pr(c),i--;for(;0<t-i;)u=Pr(u),t--;for(;i--;){if(c===u||c===u.alternate)break t;c=Pr(c),u=Pr(u)}c=null}else c=null;for(u=c,c=[];n&&n!==u&&(null===(i=n.alternate)||i!==u);)c.push(n),n=Pr(n);for(n=[];l&&l!==u&&(null===(i=l.alternate)||i!==u);)n.push(l),l=Pr(l);for(l=0;l<c.length;l++)Mr(c[l],"bubbled",s);for(l=n.length;0<l--;)Mr(n[l],"captured",r);return 0===(64&a)?[s]:[s,r]}};var jn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Bn=Object.prototype.hasOwnProperty;function zn(t,e){if(jn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Bn.call(e,r[n])||!jn(t[r[n]],e[r[n]]))return!1;return!0}var Hn=X&&"documentMode"in document&&11>=document.documentMode,Vn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qn=null,Kn=null,Xn=null,Yn=!1;function Zn(t,e){var r=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Yn||null==qn||qn!==lr(r)?null:("selectionStart"in(r=qn)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Xn&&zn(Xn,r)?null:(Xn=r,(t=Kr.getPooled(Vn.select,Kn,t,e)).type="select",t.target=qn,Wr(t),t))}var $n={eventTypes:Vn,extractEvents:function(t,e,r,n,a,o){if(!(o=!(a=o||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){t:{a=Jt(a),o=q.onSelect;for(var i=0;i<o.length;i++)if(!a.has(o[i])){a=!1;break t}a=!0}o=!a}if(o)return null;switch(a=e?Tr(e):window,t){case"focus":(pn(a)||"true"===a.contentEditable)&&(qn=a,Kn=e,Xn=null);break;case"blur":Xn=Kn=qn=null;break;case"mousedown":Yn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yn=!1,Zn(r,n);case"selectionchange":if(Hn)break;case"keydown":case"keyup":return Zn(r,n)}return null}},Qn=Kr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Jn=Kr.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ta=Cn.extend({relatedTarget:null});function ea(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},na={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aa=Cn.extend({key:function(t){if(t.key){var e=ra[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ea(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?na[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Tn,charCode:function(t){return"keypress"===t.type?ea(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ea(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),oa=In.extend({dataTransfer:null}),ia=Cn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Tn}),ca=Kr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sa=In.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),ua={eventTypes:Me,extractEvents:function(t,e,r,n){var a=Fe.get(t);if(!a)return null;switch(t){case"keypress":if(0===ea(r))return null;case"keydown":case"keyup":t=aa;break;case"blur":case"focus":t=ta;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ia;break;case Kt:case Xt:case Yt:t=Qn;break;case Zt:t=ca;break;case"scroll":t=Cn;break;case"wheel":t=sa;break;case"copy":case"cut":case"paste":t=Jn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Mn;break;default:t=Kr}return Wr(e=t.getPooled(a,e,r,n)),e}};if(F)throw Error(i(101));F=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),j(),d=Nr,y=Dr,g=Tr,K({SimpleEventPlugin:ua,EnterLeaveEventPlugin:Wn,ChangeEventPlugin:Sn,SelectEventPlugin:$n,BeforeInputEventPlugin:hn});var la=[],ha=-1;function fa(t){0>ha||(t.current=la[ha],la[ha]=null,ha--)}function pa(t,e){ha++,la[ha]=t.current,t.current=e}var da={},ya={current:da},ga={current:!1},va=da;function ma(t,e){var r=t.type.contextTypes;if(!r)return da;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in r)o[a]=e[a];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function _a(t){return null!==(t=t.childContextTypes)&&void 0!==t}function ba(){fa(ga),fa(ya)}function Oa(t,e,r){if(ya.current!==da)throw Error(i(168));pa(ya,e),pa(ga,r)}function wa(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(i(108,I(e)||"Unknown",o));return a({},r,{},n)}function ka(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||da,va=ya.current,pa(ya,t),pa(ga,ga.current),!0}function xa(t,e,r){var n=t.stateNode;if(!n)throw Error(i(169));r?(t=wa(t,e,va),n.__reactInternalMemoizedMergedChildContext=t,fa(ga),fa(ya),pa(ya,t)):fa(ga),pa(ga,r)}var Ra=o.unstable_runWithPriority,Aa=o.unstable_scheduleCallback,Ea=o.unstable_cancelCallback,Sa=o.unstable_requestPaint,Ca=o.unstable_now,La=o.unstable_getCurrentPriorityLevel,Da=o.unstable_ImmediatePriority,Ta=o.unstable_UserBlockingPriority,Na=o.unstable_NormalPriority,Pa=o.unstable_LowPriority,Ga=o.unstable_IdlePriority,Ua={},Ia=o.unstable_shouldYield,Ma=void 0!==Sa?Sa:function(){},Fa=null,Wa=null,ja=!1,Ba=Ca(),za=1e4>Ba?Ca:function(){return Ca()-Ba};function Ha(){switch(La()){case Da:return 99;case Ta:return 98;case Na:return 97;case Pa:return 96;case Ga:return 95;default:throw Error(i(332))}}function Va(t){switch(t){case 99:return Da;case 98:return Ta;case 97:return Na;case 96:return Pa;case 95:return Ga;default:throw Error(i(332))}}function qa(t,e){return t=Va(t),Ra(t,e)}function Ka(t,e,r){return t=Va(t),Aa(t,e,r)}function Xa(t){return null===Fa?(Fa=[t],Wa=Aa(Da,Za)):Fa.push(t),Ua}function Ya(){if(null!==Wa){var t=Wa;Wa=null,Ea(t)}Za()}function Za(){if(!ja&&null!==Fa){ja=!0;var t=0;try{var e=Fa;qa(99,(function(){for(;t<e.length;t++){var r=e[t];do{r=r(!0)}while(null!==r)}})),Fa=null}catch(r){throw null!==Fa&&(Fa=Fa.slice(t+1)),Aa(Da,Ya),r}finally{ja=!1}}}function $a(t,e,r){return 1073741821-(1+((1073741821-t+e/10)/(r/=10)|0))*r}function Qa(t,e){if(t&&t.defaultProps)for(var r in e=a({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}var Ja={current:null},to=null,eo=null,ro=null;function no(){ro=eo=to=null}function ao(t){var e=Ja.current;fa(Ja),t.type._context._currentValue=e}function oo(t,e){for(;null!==t;){var r=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==r&&r.childExpirationTime<e&&(r.childExpirationTime=e);else{if(!(null!==r&&r.childExpirationTime<e))break;r.childExpirationTime=e}t=t.return}}function io(t,e){to=t,ro=eo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Pi=!0),t.firstContext=null)}function co(t,e){if(ro!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(ro=t,e=1073741823),e={context:t,observedBits:e,next:null},null===eo){if(null===to)throw Error(i(308));eo=e,to.dependencies={expirationTime:0,firstContext:e,responders:null}}else eo=eo.next=e;return t._currentValue}var so=!1;function uo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function ho(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function fo(t,e){if(null!==(t=t.updateQueue)){var r=(t=t.shared).pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function po(t,e){var r=t.alternate;null!==r&&lo(r,t),null===(r=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=r.next,r.next=e)}function yo(t,e,r,n){var o=t.updateQueue;so=!1;var i=o.baseQueue,c=o.shared.pending;if(null!==c){if(null!==i){var s=i.next;i.next=c.next,c.next=s}i=c,o.shared.pending=null,null!==(s=t.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=c))}if(null!==i){s=i.next;var u=o.baseState,l=0,h=null,f=null,p=null;if(null!==s)for(var d=s;;){if((c=d.expirationTime)<n){var y={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=y,h=u):p=p.next=y,c>l&&(l=c)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ps(c,d.suspenseConfig);t:{var g=t,v=d;switch(c=e,y=r,v.tag){case 1:if("function"===typeof(g=v.payload)){u=g.call(y,u,c);break t}u=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(c="function"===typeof(g=v.payload)?g.call(y,u,c):g)||void 0===c)break t;u=a({},u,c);break t;case 2:so=!0}}null!==d.callback&&(t.effectTag|=32,null===(c=o.effects)?o.effects=[d]:c.push(d))}if(null===(d=d.next)||d===s){if(null===(c=o.shared.pending))break;d=i.next=c.next,c.next=s,o.baseQueue=i=c,o.shared.pending=null}}null===p?h=u:p.next=f,o.baseState=h,o.baseQueue=p,ds(l),t.expirationTime=l,t.memoizedState=u}}function go(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(null!==a){if(n.callback=null,n=a,a=r,"function"!==typeof n)throw Error(i(191,n));n.call(a)}}}var vo=m.ReactCurrentBatchConfig,mo=(new n.Component).refs;function _o(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:a({},e,r),t.memoizedState=r,0===t.expirationTime&&(t.updateQueue.baseState=r)}var bo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&te(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternalFiber;var n=ts(),a=vo.suspense;(a=ho(n=es(n,t,a),a)).payload=e,void 0!==r&&null!==r&&(a.callback=r),fo(t,a),rs(t,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternalFiber;var n=ts(),a=vo.suspense;(a=ho(n=es(n,t,a),a)).tag=1,a.payload=e,void 0!==r&&null!==r&&(a.callback=r),fo(t,a),rs(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var r=ts(),n=vo.suspense;(n=ho(r=es(r,t,n),n)).tag=2,void 0!==e&&null!==e&&(n.callback=e),fo(t,n),rs(t,r)}};function Oo(t,e,r,n,a,o,i){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,i):!e.prototype||!e.prototype.isPureReactComponent||(!zn(r,n)||!zn(a,o))}function wo(t,e,r){var n=!1,a=da,o=e.contextType;return"object"===typeof o&&null!==o?o=co(o):(a=_a(e)?va:ya.current,o=(n=null!==(n=e.contextTypes)&&void 0!==n)?ma(t,a):da),e=new e(r,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=bo,t.stateNode=e,e._reactInternalFiber=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=o),e}function ko(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&bo.enqueueReplaceState(e,e.state,null)}function xo(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs=mo,uo(t);var o=e.contextType;"object"===typeof o&&null!==o?a.context=co(o):(o=_a(e)?va:ya.current,a.context=ma(t,o)),yo(t,r,a,n),a.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(_o(t,e,o,r),a.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(e=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),e!==a.state&&bo.enqueueReplaceState(a,a.state,null),yo(t,r,a,n),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.effectTag|=4)}var Ro=Array.isArray;function Ao(t,e,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,t));var a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=n.refs;e===mo&&(e=n.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(i(284));if(!r._owner)throw Error(i(290,t))}return t}function Eo(t,e){if("textarea"!==t.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function So(t){function e(e,r){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e){return(t=Ps(t,e)).index=0,t.sibling=null,t}function o(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.effectTag=2,r):n:(e.effectTag=2,r):r}function c(e){return t&&null===e.alternate&&(e.effectTag=2),e}function s(t,e,r,n){return null===e||6!==e.tag?((e=Is(r,t.mode,n)).return=t,e):((e=a(e,r)).return=t,e)}function u(t,e,r,n){return null!==e&&e.elementType===r.type?((n=a(e,r.props)).ref=Ao(t,e,r),n.return=t,n):((n=Gs(r.type,r.key,r.props,null,t.mode,n)).ref=Ao(t,e,r),n.return=t,n)}function l(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Ms(r,t.mode,n)).return=t,e):((e=a(e,r.children||[])).return=t,e)}function h(t,e,r,n,o){return null===e||7!==e.tag?((e=Us(r,t.mode,n,o)).return=t,e):((e=a(e,r)).return=t,e)}function f(t,e,r){if("string"===typeof e||"number"===typeof e)return(e=Is(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case O:return(r=Gs(e.type,e.key,e.props,null,t.mode,r)).ref=Ao(t,null,e),r.return=t,r;case w:return(e=Ms(e,t.mode,r)).return=t,e}if(Ro(e)||U(e))return(e=Us(e,t.mode,r,null)).return=t,e;Eo(t,e)}return null}function p(t,e,r,n){var a=null!==e?e.key:null;if("string"===typeof r||"number"===typeof r)return null!==a?null:s(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case O:return r.key===a?r.type===k?h(t,e,r.props.children,n,a):u(t,e,r,n):null;case w:return r.key===a?l(t,e,r,n):null}if(Ro(r)||U(r))return null!==a?null:h(t,e,r,n,null);Eo(t,r)}return null}function d(t,e,r,n,a){if("string"===typeof n||"number"===typeof n)return s(e,t=t.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case O:return t=t.get(null===n.key?r:n.key)||null,n.type===k?h(e,t,n.props.children,a,n.key):u(e,t,n,a);case w:return l(e,t=t.get(null===n.key?r:n.key)||null,n,a)}if(Ro(n)||U(n))return h(e,t=t.get(r)||null,n,a,null);Eo(e,n)}return null}function y(a,i,c,s){for(var u=null,l=null,h=i,y=i=0,g=null;null!==h&&y<c.length;y++){h.index>y?(g=h,h=null):g=h.sibling;var v=p(a,h,c[y],s);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(a,h),i=o(v,i,y),null===l?u=v:l.sibling=v,l=v,h=g}if(y===c.length)return r(a,h),u;if(null===h){for(;y<c.length;y++)null!==(h=f(a,c[y],s))&&(i=o(h,i,y),null===l?u=h:l.sibling=h,l=h);return u}for(h=n(a,h);y<c.length;y++)null!==(g=d(h,a,y,c[y],s))&&(t&&null!==g.alternate&&h.delete(null===g.key?y:g.key),i=o(g,i,y),null===l?u=g:l.sibling=g,l=g);return t&&h.forEach((function(t){return e(a,t)})),u}function g(a,c,s,u){var l=U(s);if("function"!==typeof l)throw Error(i(150));if(null==(s=l.call(s)))throw Error(i(151));for(var h=l=null,y=c,g=c=0,v=null,m=s.next();null!==y&&!m.done;g++,m=s.next()){y.index>g?(v=y,y=null):v=y.sibling;var _=p(a,y,m.value,u);if(null===_){null===y&&(y=v);break}t&&y&&null===_.alternate&&e(a,y),c=o(_,c,g),null===h?l=_:h.sibling=_,h=_,y=v}if(m.done)return r(a,y),l;if(null===y){for(;!m.done;g++,m=s.next())null!==(m=f(a,m.value,u))&&(c=o(m,c,g),null===h?l=m:h.sibling=m,h=m);return l}for(y=n(a,y);!m.done;g++,m=s.next())null!==(m=d(y,a,g,m.value,u))&&(t&&null!==m.alternate&&y.delete(null===m.key?g:m.key),c=o(m,c,g),null===h?l=m:h.sibling=m,h=m);return t&&y.forEach((function(t){return e(a,t)})),l}return function(t,n,o,s){var u="object"===typeof o&&null!==o&&o.type===k&&null===o.key;u&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case O:t:{for(l=o.key,u=n;null!==u;){if(u.key===l){if(7===u.tag){if(o.type===k){r(t,u.sibling),(n=a(u,o.props.children)).return=t,t=n;break t}}else if(u.elementType===o.type){r(t,u.sibling),(n=a(u,o.props)).ref=Ao(t,u,o),n.return=t,t=n;break t}r(t,u);break}e(t,u),u=u.sibling}o.type===k?((n=Us(o.props.children,t.mode,s,o.key)).return=t,t=n):((s=Gs(o.type,o.key,o.props,null,t.mode,s)).ref=Ao(t,n,o),s.return=t,t=s)}return c(t);case w:t:{for(u=o.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(t,n.sibling),(n=a(n,o.children||[])).return=t,t=n;break t}r(t,n);break}e(t,n),n=n.sibling}(n=Ms(o,t.mode,s)).return=t,t=n}return c(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(r(t,n.sibling),(n=a(n,o)).return=t,t=n):(r(t,n),(n=Is(o,t.mode,s)).return=t,t=n),c(t);if(Ro(o))return y(t,n,o,s);if(U(o))return g(t,n,o,s);if(l&&Eo(t,o),"undefined"===typeof o&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(i(152,t.displayName||t.name||"Component"))}return r(t,n)}}var Co=So(!0),Lo=So(!1),Do={},To={current:Do},No={current:Do},Po={current:Do};function Go(t){if(t===Do)throw Error(i(174));return t}function Uo(t,e){switch(pa(Po,e),pa(No,t),pa(To,Do),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:It(null,"");break;default:e=It(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}fa(To),pa(To,e)}function Io(){fa(To),fa(No),fa(Po)}function Mo(t){Go(Po.current);var e=Go(To.current),r=It(e,t.type);e!==r&&(pa(No,t),pa(To,r))}function Fo(t){No.current===t&&(fa(To),fa(No))}var Wo={current:0};function jo(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||r.data===gr||r.data===vr))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Bo(t,e){return{responder:t,props:e}}var zo=m.ReactCurrentDispatcher,Ho=m.ReactCurrentBatchConfig,Vo=0,qo=null,Ko=null,Xo=null,Yo=!1;function Zo(){throw Error(i(321))}function $o(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!jn(t[r],e[r]))return!1;return!0}function Qo(t,e,r,n,a,o){if(Vo=o,qo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,zo.current=null===t||null===t.memoizedState?Oi:wi,t=r(n,a),e.expirationTime===Vo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(i(301));o+=1,Xo=Ko=null,e.updateQueue=null,zo.current=ki,t=r(n,a)}while(e.expirationTime===Vo)}if(zo.current=bi,e=null!==Ko&&null!==Ko.next,Vo=0,Xo=Ko=qo=null,Yo=!1,e)throw Error(i(300));return t}function Jo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?qo.memoizedState=Xo=t:Xo=Xo.next=t,Xo}function ti(){if(null===Ko){var t=qo.alternate;t=null!==t?t.memoizedState:null}else t=Ko.next;var e=null===Xo?qo.memoizedState:Xo.next;if(null!==e)Xo=e,Ko=t;else{if(null===t)throw Error(i(310));t={memoizedState:(Ko=t).memoizedState,baseState:Ko.baseState,baseQueue:Ko.baseQueue,queue:Ko.queue,next:null},null===Xo?qo.memoizedState=Xo=t:Xo=Xo.next=t}return Xo}function ei(t,e){return"function"===typeof e?e(t):e}function ri(t){var e=ti(),r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=t;var n=Ko,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var c=a.next;a.next=o.next,o.next=c}n.baseQueue=a=o,r.pending=null}if(null!==a){a=a.next,n=n.baseState;var s=c=o=null,u=a;do{var l=u.expirationTime;if(l<Vo){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(c=s=h,o=n):s=s.next=h,l>qo.expirationTime&&(qo.expirationTime=l,ds(l))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ps(l,u.suspenseConfig),n=u.eagerReducer===t?u.eagerState:t(n,u.action);u=u.next}while(null!==u&&u!==a);null===s?o=n:s.next=c,jn(n,e.memoizedState)||(Pi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function ni(t){var e=ti(),r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,o=e.memoizedState;if(null!==a){r.pending=null;var c=a=a.next;do{o=t(o,c.action),c=c.next}while(c!==a);jn(o,e.memoizedState)||(Pi=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function ai(t){var e=Jo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t}).dispatch=_i.bind(null,qo,t),[e.memoizedState,t]}function oi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=qo.updateQueue)?(e={lastEffect:null},qo.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function ii(){return ti().memoizedState}function ci(t,e,r,n){var a=Jo();qo.effectTag|=t,a.memoizedState=oi(1|e,r,void 0,void 0===n?null:n)}function si(t,e,r,n){var a=ti();n=void 0===n?null:n;var o=void 0;if(null!==Ko){var i=Ko.memoizedState;if(o=i.destroy,null!==n&&$o(n,i.deps))return void oi(e,r,o,n)}qo.effectTag|=t,a.memoizedState=oi(1|e,r,o,n)}function ui(t,e){return ci(516,4,t,e)}function li(t,e){return si(516,4,t,e)}function hi(t,e){return si(4,2,t,e)}function fi(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function pi(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,si(4,2,fi.bind(null,e,t),r)}function di(){}function yi(t,e){return Jo().memoizedState=[t,void 0===e?null:e],t}function gi(t,e){var r=ti();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&$o(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function vi(t,e){var r=ti();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&$o(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function mi(t,e,r){var n=Ha();qa(98>n?98:n,(function(){t(!0)})),qa(97<n?97:n,(function(){var n=Ho.suspense;Ho.suspense=void 0===e?null:e;try{t(!1),r()}finally{Ho.suspense=n}}))}function _i(t,e,r){var n=ts(),a=vo.suspense;a={expirationTime:n=es(n,t,a),suspenseConfig:a,action:r,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===qo||null!==o&&o===qo)Yo=!0,a.expirationTime=Vo,qo.expirationTime=Vo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var i=e.lastRenderedState,c=o(i,r);if(a.eagerReducer=o,a.eagerState=c,jn(c,i))return}catch(s){}rs(t,n)}}var bi={readContext:co,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useResponder:Zo,useDeferredValue:Zo,useTransition:Zo},Oi={readContext:co,useCallback:yi,useContext:co,useEffect:ui,useImperativeHandle:function(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,ci(4,2,fi.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ci(4,2,t,e)},useMemo:function(t,e){var r=Jo();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Jo();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=_i.bind(null,qo,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Jo().memoizedState=t},useState:ai,useDebugValue:di,useResponder:Bo,useDeferredValue:function(t,e){var r=ai(t),n=r[0],a=r[1];return ui((function(){var r=Ho.suspense;Ho.suspense=void 0===e?null:e;try{a(t)}finally{Ho.suspense=r}}),[t,e]),n},useTransition:function(t){var e=ai(!1),r=e[0];return e=e[1],[yi(mi.bind(null,e,t),[e,t]),r]}},wi={readContext:co,useCallback:gi,useContext:co,useEffect:li,useImperativeHandle:pi,useLayoutEffect:hi,useMemo:vi,useReducer:ri,useRef:ii,useState:function(){return ri(ei)},useDebugValue:di,useResponder:Bo,useDeferredValue:function(t,e){var r=ri(ei),n=r[0],a=r[1];return li((function(){var r=Ho.suspense;Ho.suspense=void 0===e?null:e;try{a(t)}finally{Ho.suspense=r}}),[t,e]),n},useTransition:function(t){var e=ri(ei),r=e[0];return e=e[1],[gi(mi.bind(null,e,t),[e,t]),r]}},ki={readContext:co,useCallback:gi,useContext:co,useEffect:li,useImperativeHandle:pi,useLayoutEffect:hi,useMemo:vi,useReducer:ni,useRef:ii,useState:function(){return ni(ei)},useDebugValue:di,useResponder:Bo,useDeferredValue:function(t,e){var r=ni(ei),n=r[0],a=r[1];return li((function(){var r=Ho.suspense;Ho.suspense=void 0===e?null:e;try{a(t)}finally{Ho.suspense=r}}),[t,e]),n},useTransition:function(t){var e=ni(ei),r=e[0];return e=e[1],[gi(mi.bind(null,e,t),[e,t]),r]}},xi=null,Ri=null,Ai=!1;function Ei(t,e){var r=Ts(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Si(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ci(t){if(Ai){var e=Ri;if(e){var r=e;if(!Si(t,e)){if(!(e=xr(r.nextSibling))||!Si(t,e))return t.effectTag=-1025&t.effectTag|2,Ai=!1,void(xi=t);Ei(xi,r)}xi=t,Ri=xr(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ai=!1,xi=t}}function Li(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;xi=t}function Di(t){if(t!==xi)return!1;if(!Ai)return Li(t),Ai=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Or(e,t.memoizedProps))for(e=Ri;e;)Ei(t,e),e=xr(e.nextSibling);if(Li(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(i(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){Ri=xr(t.nextSibling);break t}e--}else"$"!==r&&r!==vr&&r!==gr||e++}t=t.nextSibling}Ri=null}}else Ri=xi?xr(t.stateNode.nextSibling):null;return!0}function Ti(){Ri=xi=null,Ai=!1}var Ni=m.ReactCurrentOwner,Pi=!1;function Gi(t,e,r,n){e.child=null===t?Lo(e,null,r,n):Co(e,t.child,r,n)}function Ui(t,e,r,n,a){r=r.render;var o=e.ref;return io(e,a),n=Qo(t,e,r,n,o,a),null===t||Pi?(e.effectTag|=1,Gi(t,e,n,a),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=a&&(t.expirationTime=0),Qi(t,e,a))}function Ii(t,e,r,n,a,o){if(null===t){var i=r.type;return"function"!==typeof i||Ns(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Gs(r.type,null,n,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=i,Mi(t,e,i,n,a,o))}return i=t.child,a<o&&(a=i.memoizedProps,(r=null!==(r=r.compare)?r:zn)(a,n)&&t.ref===e.ref)?Qi(t,e,o):(e.effectTag|=1,(t=Ps(i,n)).ref=e.ref,t.return=e,e.child=t)}function Mi(t,e,r,n,a,o){return null!==t&&zn(t.memoizedProps,n)&&t.ref===e.ref&&(Pi=!1,a<o)?(e.expirationTime=t.expirationTime,Qi(t,e,o)):Wi(t,e,r,n,o)}function Fi(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.effectTag|=128)}function Wi(t,e,r,n,a){var o=_a(r)?va:ya.current;return o=ma(e,o),io(e,a),r=Qo(t,e,r,n,o,a),null===t||Pi?(e.effectTag|=1,Gi(t,e,r,a),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=a&&(t.expirationTime=0),Qi(t,e,a))}function ji(t,e,r,n,a){if(_a(r)){var o=!0;ka(e)}else o=!1;if(io(e,a),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),wo(e,r,n),xo(e,r,n,a),n=!0;else if(null===t){var i=e.stateNode,c=e.memoizedProps;i.props=c;var s=i.context,u=r.contextType;"object"===typeof u&&null!==u?u=co(u):u=ma(e,u=_a(r)?va:ya.current);var l=r.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof i.getSnapshotBeforeUpdate;h||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(c!==n||s!==u)&&ko(e,i,n,u),so=!1;var f=e.memoizedState;i.state=f,yo(e,n,i,a),s=e.memoizedState,c!==n||f!==s||ga.current||so?("function"===typeof l&&(_o(e,r,l,n),s=e.memoizedState),(c=so||Oo(e,r,c,n,f,s,u))?(h||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(e.effectTag|=4)):("function"===typeof i.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=s),i.props=n,i.state=s,i.context=u,n=c):("function"===typeof i.componentDidMount&&(e.effectTag|=4),n=!1)}else i=e.stateNode,lo(t,e),c=e.memoizedProps,i.props=e.type===e.elementType?c:Qa(e.type,c),s=i.context,"object"===typeof(u=r.contextType)&&null!==u?u=co(u):u=ma(e,u=_a(r)?va:ya.current),(h="function"===typeof(l=r.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(c!==n||s!==u)&&ko(e,i,n,u),so=!1,s=e.memoizedState,i.state=s,yo(e,n,i,a),f=e.memoizedState,c!==n||s!==f||ga.current||so?("function"===typeof l&&(_o(e,r,l,n),f=e.memoizedState),(l=so||Oo(e,r,c,n,s,f,u))?(h||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,f,u),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,f,u)),"function"===typeof i.componentDidUpdate&&(e.effectTag|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof i.componentDidUpdate||c===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||c===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=f),i.props=n,i.state=f,i.context=u,n=l):("function"!==typeof i.componentDidUpdate||c===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||c===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=256),n=!1);return Bi(t,e,r,n,o,a)}function Bi(t,e,r,n,a,o){Fi(t,e);var i=0!==(64&e.effectTag);if(!n&&!i)return a&&xa(e,r,!1),Qi(t,e,o);n=e.stateNode,Ni.current=e;var c=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return e.effectTag|=1,null!==t&&i?(e.child=Co(e,t.child,null,o),e.child=Co(e,null,c,o)):Gi(t,e,c,o),e.memoizedState=n.state,a&&xa(e,r,!0),e.child}function zi(t){var e=t.stateNode;e.pendingContext?Oa(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oa(0,e.context,!1),Uo(t,e.containerInfo)}var Hi,Vi,qi,Ki={dehydrated:null,retryTime:0};function Xi(t,e,r){var n,a=e.mode,o=e.pendingProps,i=Wo.current,c=!1;if((n=0!==(64&e.effectTag))||(n=0!==(2&i)&&(null===t||null!==t.memoizedState)),n?(c=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),pa(Wo,1&i),null===t){if(void 0!==o.fallback&&Ci(e),c){if(c=o.fallback,(o=Us(null,a,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(r=Us(c,a,r,null)).return=e,o.sibling=r,e.memoizedState=Ki,e.child=o,r}return a=o.children,e.memoizedState=null,e.child=Lo(e,null,a,r)}if(null!==t.memoizedState){if(a=(t=t.child).sibling,c){if(o=o.fallback,(r=Ps(t,t.pendingProps)).return=e,0===(2&e.mode)&&(c=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(r.child=c;null!==c;)c.return=r,c=c.sibling;return(a=Ps(a,o)).return=e,r.sibling=a,r.childExpirationTime=0,e.memoizedState=Ki,e.child=r,a}return r=Co(e,t.child,o.children,r),e.memoizedState=null,e.child=r}if(t=t.child,c){if(c=o.fallback,(o=Us(null,a,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(r=Us(c,a,r,null)).return=e,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Ki,e.child=o,r}return e.memoizedState=null,e.child=Co(e,t,o.children,r)}function Yi(t,e){t.expirationTime<e&&(t.expirationTime=e);var r=t.alternate;null!==r&&r.expirationTime<e&&(r.expirationTime=e),oo(t.return,e)}function Zi(t,e,r,n,a,o){var i=t.memoizedState;null===i?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:a,lastEffect:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailExpiration=0,i.tailMode=a,i.lastEffect=o)}function $i(t,e,r){var n=e.pendingProps,a=n.revealOrder,o=n.tail;if(Gi(t,e,n.children,r),0!==(2&(n=Wo.current)))n=1&n|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Yi(t,r);else if(19===t.tag)Yi(t,r);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pa(Wo,n),0===(2&e.mode))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;null!==r;)null!==(t=r.alternate)&&null===jo(t)&&(a=r),r=r.sibling;null===(r=a)?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Zi(e,!1,a,r,o,e.lastEffect);break;case"backwards":for(r=null,a=e.child,e.child=null;null!==a;){if(null!==(t=a.alternate)&&null===jo(t)){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Zi(e,!0,r,null,o,e.lastEffect);break;case"together":Zi(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Qi(t,e,r){null!==t&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(0!==n&&ds(n),e.childExpirationTime<r)return null;if(null!==t&&e.child!==t.child)throw Error(i(153));if(null!==e.child){for(r=Ps(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Ps(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function Ji(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function tc(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _a(e.type)&&ba(),null;case 3:return Io(),fa(ga),fa(ya),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||!Di(e)||(e.effectTag|=4),null;case 5:Fo(e),r=Go(Po.current);var o=e.type;if(null!==t&&null!=e.stateNode)Vi(t,e,o,n,r),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(null===e.stateNode)throw Error(i(166));return null}if(t=Go(To.current),Di(e)){n=e.stateNode,o=e.type;var c=e.memoizedProps;switch(n[Er]=e,n[Sr]=c,o){case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(t=0;t<$t.length;t++)Xe($t[t],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"form":Xe("reset",n),Xe("submit",n);break;case"details":Xe("toggle",n);break;case"input":kt(n,c),Xe("invalid",n),sr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!c.multiple},Xe("invalid",n),sr(r,"onChange");break;case"textarea":Dt(n,c),Xe("invalid",n),sr(r,"onChange")}for(var s in or(o,c),t=null,c)if(c.hasOwnProperty(s)){var u=c[s];"children"===s?"string"===typeof u?n.textContent!==u&&(t=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(t=["children",""+u]):V.hasOwnProperty(s)&&null!=u&&sr(r,s)}switch(o){case"input":bt(n),At(n,c,!0);break;case"textarea":bt(n),Nt(n);break;case"select":case"option":break;default:"function"===typeof c.onClick&&(n.onclick=ur)}r=t,e.updateQueue=r,null!==r&&(e.effectTag|=4)}else{switch(s=9===r.nodeType?r:r.ownerDocument,t===cr&&(t=Ut(o)),t===cr?"script"===o?((t=s.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=s.createElement(o,{is:n.is}):(t=s.createElement(o),"select"===o&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,o),t[Er]=e,t[Sr]=n,Hi(t,e),e.stateNode=t,s=ir(o,n),o){case"iframe":case"object":case"embed":Xe("load",t),u=n;break;case"video":case"audio":for(u=0;u<$t.length;u++)Xe($t[u],t);u=n;break;case"source":Xe("error",t),u=n;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),u=n;break;case"form":Xe("reset",t),Xe("submit",t),u=n;break;case"details":Xe("toggle",t),u=n;break;case"input":kt(t,n),u=wt(t,n),Xe("invalid",t),sr(r,"onChange");break;case"option":u=St(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},u=a({},n,{value:void 0}),Xe("invalid",t),sr(r,"onChange");break;case"textarea":Dt(t,n),u=Lt(t,n),Xe("invalid",t),sr(r,"onChange");break;default:u=n}or(o,u);var l=u;for(c in l)if(l.hasOwnProperty(c)){var h=l[c];"style"===c?nr(t,h):"dangerouslySetInnerHTML"===c?null!=(h=h?h.__html:void 0)&&Wt(t,h):"children"===c?"string"===typeof h?("textarea"!==o||""!==h)&&jt(t,h):"number"===typeof h&&jt(t,""+h):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(V.hasOwnProperty(c)?null!=h&&sr(r,c):null!=h&&vt(t,c,h,s))}switch(o){case"input":bt(t),At(t,n,!1);break;case"textarea":bt(t),Nt(t);break;case"option":null!=n.value&&t.setAttribute("value",""+mt(n.value));break;case"select":t.multiple=!!n.multiple,null!=(r=n.value)?Ct(t,!!n.multiple,r,!1):null!=n.defaultValue&&Ct(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=ur)}br(o,n)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)qi(0,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(i(166));r=Go(Po.current),Go(To.current),Di(e)?(r=e.stateNode,n=e.memoizedProps,r[Er]=e,r.nodeValue!==n&&(e.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Er]=e,e.stateNode=r)}return null;case 13:return fa(Wo),n=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=r,e):(r=null!==n,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Di(e):(n=null!==(o=t.memoizedState),r||null===o||null!==(o=t.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=o,o.nextEffect=c):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Wo.current)?Gc===Sc&&(Gc=Cc):(Gc!==Sc&&Gc!==Cc||(Gc=Lc),0!==Wc&&null!==Tc&&(js(Tc,Pc),Bs(Tc,Wc)))),(r||n)&&(e.effectTag|=4),null);case 4:return Io(),null;case 10:return ao(e),null;case 19:if(fa(Wo),null===(n=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(c=n.rendering)){if(o)Ji(n,!1);else if(Gc!==Sc||null!==t&&0!==(64&t.effectTag))for(c=e.child;null!==c;){if(null!==(t=jo(c))){for(e.effectTag|=64,Ji(n,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;null!==n;)c=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=c,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,c=t.dependencies,o.dependencies=null===c?null:{expirationTime:c.expirationTime,firstContext:c.firstContext,responders:c.responders}),n=n.sibling;return pa(Wo,1&Wo.current|2),e.child}c=c.sibling}}else{if(!o)if(null!==(t=jo(c))){if(e.effectTag|=64,o=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),Ji(n,!0),null===n.tail&&"hidden"===n.tailMode&&!c.alternate)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*za()-n.renderingStartTime>n.tailExpiration&&1<r&&(e.effectTag|=64,o=!0,Ji(n,!1),e.expirationTime=e.childExpirationTime=r-1);n.isBackwards?(c.sibling=e.child,e.child=c):(null!==(r=n.last)?r.sibling=c:e.child=c,n.last=c)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=za()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=za(),r.sibling=null,e=Wo.current,pa(Wo,o?1&e|2:1&e),r):null}throw Error(i(156,e.tag))}function ec(t){switch(t.tag){case 1:_a(t.type)&&ba();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Io(),fa(ga),fa(ya),0!==(64&(e=t.effectTag)))throw Error(i(285));return t.effectTag=-4097&e|64,t;case 5:return Fo(t),null;case 13:return fa(Wo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return fa(Wo),null;case 4:return Io(),null;case 10:return ao(t),null;default:return null}}function rc(t,e){return{value:t,source:e,stack:M(e)}}Hi=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Vi=function(t,e,r,n,o){var i=t.memoizedProps;if(i!==n){var c,s,u=e.stateNode;switch(Go(To.current),t=null,r){case"input":i=wt(u,i),n=wt(u,n),t=[];break;case"option":i=St(u,i),n=St(u,n),t=[];break;case"select":i=a({},i,{value:void 0}),n=a({},n,{value:void 0}),t=[];break;case"textarea":i=Lt(u,i),n=Lt(u,n),t=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(u.onclick=ur)}for(c in or(r,n),r=null,i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c)for(s in u=i[c])u.hasOwnProperty(s)&&(r||(r={}),r[s]="");else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(V.hasOwnProperty(c)?t||(t=[]):(t=t||[]).push(c,null));for(c in n){var l=n[c];if(u=null!=i?i[c]:void 0,n.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(s in u)!u.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&u[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(t||(t=[]),t.push(c,r)),r=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(t=t||[]).push(c,l)):"children"===c?u===l||"string"!==typeof l&&"number"!==typeof l||(t=t||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(V.hasOwnProperty(c)?(null!=l&&sr(o,c),t||u===l||(t=[])):(t=t||[]).push(c,l))}r&&(t=t||[]).push("style",r),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},qi=function(t,e,r,n){r!==n&&(e.effectTag|=4)};var nc="function"===typeof WeakSet?WeakSet:Set;function ac(t,e){var r=e.source,n=e.stack;null===n&&null!==r&&(n=M(r)),null!==r&&I(r.type),e=e.value,null!==t&&1===t.tag&&I(t.type);try{console.error(e)}catch(a){setTimeout((function(){throw a}))}}function oc(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(r){As(t,r)}else e.current=null}function ic(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var r=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?r:Qa(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(i(163))}function cc(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==e)}}function sc(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function uc(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:return void sc(3,r);case 1:if(t=r.stateNode,4&r.effectTag)if(null===e)t.componentDidMount();else{var n=r.elementType===r.type?e.memoizedProps:Qa(r.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=r.updateQueue)&&go(r,e,t));case 3:if(null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 5:case 1:t=r.child.stateNode}go(r,e,t)}return;case 5:return t=r.stateNode,void(null===e&&4&r.effectTag&&br(r.type,r.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Ie(r)))))}throw Error(i(163))}function lc(t,e,r){switch("function"===typeof Ls&&Ls(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t.next;qa(97<r?97:r,(function(){var t=n;do{var r=t.destroy;if(void 0!==r){var a=e;try{r()}catch(o){As(a,o)}}t=t.next}while(t!==n)}))}break;case 1:oc(e),"function"===typeof(r=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(r){As(t,r)}}(e,r);break;case 5:oc(e);break;case 4:gc(t,e,r)}}function hc(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&hc(e)}function fc(t){return 5===t.tag||3===t.tag||4===t.tag}function pc(t){t:{for(var e=t.return;null!==e;){if(fc(e)){var r=e;break t}e=e.return}throw Error(i(160))}switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(i(161))}16&r.effectTag&&(jt(e,""),r.effectTag&=-17);t:e:for(r=t;;){for(;null===r.sibling;){if(null===r.return||fc(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue e;if(null===r.child||4===r.tag)continue e;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break t}}n?dc(t,r,e):yc(t,r,e)}function dc(t,e,r){var n=t.tag,a=5===n||6===n;if(a)t=a?t.stateNode:t.stateNode.instance,e?8===r.nodeType?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(8===r.nodeType?(e=r.parentNode).insertBefore(t,r):(e=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==e.onclick||(e.onclick=ur));else if(4!==n&&null!==(t=t.child))for(dc(t,e,r),t=t.sibling;null!==t;)dc(t,e,r),t=t.sibling}function yc(t,e,r){var n=t.tag,a=5===n||6===n;if(a)t=a?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(4!==n&&null!==(t=t.child))for(yc(t,e,r),t=t.sibling;null!==t;)yc(t,e,r),t=t.sibling}function gc(t,e,r){for(var n,a,o=e,c=!1;;){if(!c){c=o.return;t:for(;;){if(null===c)throw Error(i(160));switch(n=c.stateNode,c.tag){case 5:a=!1;break t;case 3:case 4:n=n.containerInfo,a=!0;break t}c=c.return}c=!0}if(5===o.tag||6===o.tag){t:for(var s=t,u=o,l=r,h=u;;)if(lc(s,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break t;for(;null===h.sibling;){if(null===h.return||h.return===u)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}a?(s=n,u=o.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,a=!0,o.child.return=o,o=o.child;continue}}else if(lc(t,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(c=!1)}o.sibling.return=o.return,o=o.sibling}}function vc(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void cc(3,e);case 1:case 12:case 17:return;case 5:var r=e.stateNode;if(null!=r){var n=e.memoizedProps,a=null!==t?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(r[Sr]=n,"input"===t&&"radio"===n.type&&null!=n.name&&xt(r,n),ir(t,a),e=ir(t,n),a=0;a<o.length;a+=2){var c=o[a],s=o[a+1];"style"===c?nr(r,s):"dangerouslySetInnerHTML"===c?Wt(r,s):"children"===c?jt(r,s):vt(r,c,s,e)}switch(t){case"input":Rt(r,n);break;case"textarea":Tt(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(t=n.value)?Ct(r,!!n.multiple,t,!1):e!==!!n.multiple&&(null!=n.defaultValue?Ct(r,!!n.multiple,n.defaultValue,!0):Ct(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(i(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Ie(e.containerInfo)));case 13:if(r=e,null===e.memoizedState?n=!1:(n=!0,r=e.child,Bc=za()),null!==r)t:for(t=r;;){if(5===t.tag)o=t.stateNode,n?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,a=void 0!==(a=t.memoizedProps.style)&&null!==a&&a.hasOwnProperty("display")?a.display:null,o.style.display=rr("display",a));else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===r)break;for(;null===t.sibling;){if(null===t.return||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void mc(e);case 19:return void mc(e)}throw Error(i(163))}function mc(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new nc),e.forEach((function(e){var n=Ss.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}var _c="function"===typeof WeakMap?WeakMap:Map;function bc(t,e,r){(r=ho(r,null)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Hc||(Hc=!0,Vc=n),ac(t,e)},r}function Oc(t,e,r){(r=ho(r,null)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var a=e.value;r.payload=function(){return ac(t,e),n(a)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===qc?qc=new Set([this]):qc.add(this),ac(t,e));var r=e.stack;this.componentDidCatch(e.value,{componentStack:null!==r?r:""})}),r}var wc,kc=Math.ceil,xc=m.ReactCurrentDispatcher,Rc=m.ReactCurrentOwner,Ac=16,Ec=32,Sc=0,Cc=3,Lc=4,Dc=0,Tc=null,Nc=null,Pc=0,Gc=Sc,Uc=null,Ic=1073741823,Mc=1073741823,Fc=null,Wc=0,jc=!1,Bc=0,zc=null,Hc=!1,Vc=null,qc=null,Kc=!1,Xc=null,Yc=90,Zc=null,$c=0,Qc=null,Jc=0;function ts(){return 0!==(48&Dc)?1073741821-(za()/10|0):0!==Jc?Jc:Jc=1073741821-(za()/10|0)}function es(t,e,r){if(0===(2&(e=e.mode)))return 1073741823;var n=Ha();if(0===(4&e))return 99===n?1073741823:1073741822;if(0!==(Dc&Ac))return Pc;if(null!==r)t=$a(t,0|r.timeoutMs||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=$a(t,150,100);break;case 97:case 96:t=$a(t,5e3,250);break;case 95:t=2;break;default:throw Error(i(326))}return null!==Tc&&t===Pc&&--t,t}function rs(t,e){if(50<$c)throw $c=0,Qc=null,Error(i(185));if(null!==(t=ns(t,e))){var r=Ha();1073741823===e?0!==(8&Dc)&&0===(48&Dc)?cs(t):(os(t),0===Dc&&Ya()):os(t),0===(4&Dc)||98!==r&&99!==r||(null===Zc?Zc=new Map([[t,e]]):(void 0===(r=Zc.get(t))||r>e)&&Zc.set(t,e))}}function ns(t,e){t.expirationTime<e&&(t.expirationTime=e);var r=t.alternate;null!==r&&r.expirationTime<e&&(r.expirationTime=e);var n=t.return,a=null;if(null===n&&3===t.tag)a=t.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),null!==r&&r.childExpirationTime<e&&(r.childExpirationTime=e),null===n.return&&3===n.tag){a=n.stateNode;break}n=n.return}return null!==a&&(Tc===a&&(ds(e),Gc===Lc&&js(a,Pc)),Bs(a,e)),a}function as(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Ws(t,e=t.firstPendingTime))return e;var r=t.lastPingedTime;return 2>=(t=r>(t=t.nextKnownPendingLevel)?r:t)&&e!==t?0:t}function os(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Xa(cs.bind(null,t));else{var e=as(t),r=t.callbackNode;if(0===e)null!==r&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=ts();if(1073741823===e?n=99:1===e||2===e?n=95:n=0>=(n=10*(1073741821-e)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var a=t.callbackPriority;if(t.callbackExpirationTime===e&&a>=n)return;r!==Ua&&Ea(r)}t.callbackExpirationTime=e,t.callbackPriority=n,e=1073741823===e?Xa(cs.bind(null,t)):Ka(n,is.bind(null,t),{timeout:10*(1073741821-e)-za()}),t.callbackNode=e}}}function is(t,e){if(Jc=0,e)return zs(t,e=ts()),os(t),null;var r=as(t);if(0!==r){if(e=t.callbackNode,0!==(48&Dc))throw Error(i(327));if(ks(),t===Tc&&r===Pc||ls(t,r),null!==Nc){var n=Dc;Dc|=Ac;for(var a=fs();;)try{gs();break}catch(s){hs(t,s)}if(no(),Dc=n,xc.current=a,1===Gc)throw e=Uc,ls(t,r),js(t,r),os(t),e;if(null===Nc)switch(a=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,n=Gc,Tc=null,n){case Sc:case 1:throw Error(i(345));case 2:zs(t,2<r?2:r);break;case Cc:if(js(t,r),r===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=_s(a)),1073741823===Ic&&10<(a=Bc+500-za())){if(jc){var o=t.lastPingedTime;if(0===o||o>=r){t.lastPingedTime=r,ls(t,r);break}}if(0!==(o=as(t))&&o!==r)break;if(0!==n&&n!==r){t.lastPingedTime=n;break}t.timeoutHandle=wr(bs.bind(null,t),a);break}bs(t);break;case Lc:if(js(t,r),r===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=_s(a)),jc&&(0===(a=t.lastPingedTime)||a>=r)){t.lastPingedTime=r,ls(t,r);break}if(0!==(a=as(t))&&a!==r)break;if(0!==n&&n!==r){t.lastPingedTime=n;break}if(1073741823!==Mc?n=10*(1073741821-Mc)-za():1073741823===Ic?n=0:(n=10*(1073741821-Ic)-5e3,0>(n=(a=za())-n)&&(n=0),(r=10*(1073741821-r)-a)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kc(n/1960))-n)&&(n=r)),10<n){t.timeoutHandle=wr(bs.bind(null,t),n);break}bs(t);break;case 5:if(1073741823!==Ic&&null!==Fc){o=Ic;var c=Fc;if(0>=(n=0|c.busyMinDurationMs)?n=0:(a=0|c.busyDelayMs,n=(o=za()-(10*(1073741821-o)-(0|c.timeoutMs||5e3)))<=a?0:a+n-o),10<n){js(t,r),t.timeoutHandle=wr(bs.bind(null,t),n);break}}bs(t);break;default:throw Error(i(329))}if(os(t),t.callbackNode===e)return is.bind(null,t)}}return null}function cs(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&Dc))throw Error(i(327));if(ks(),t===Tc&&e===Pc||ls(t,e),null!==Nc){var r=Dc;Dc|=Ac;for(var n=fs();;)try{ys();break}catch(a){hs(t,a)}if(no(),Dc=r,xc.current=n,1===Gc)throw r=Uc,ls(t,e),js(t,e),os(t),r;if(null!==Nc)throw Error(i(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Tc=null,bs(t),os(t)}return null}function ss(t,e){var r=Dc;Dc|=1;try{return t(e)}finally{0===(Dc=r)&&Ya()}}function us(t,e){var r=Dc;Dc&=-2,Dc|=8;try{return t(e)}finally{0===(Dc=r)&&Ya()}}function ls(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,kr(r)),null!==Nc)for(r=Nc.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&ba();break;case 3:Io(),fa(ga),fa(ya);break;case 5:Fo(n);break;case 4:Io();break;case 13:case 19:fa(Wo);break;case 10:ao(n)}r=r.return}Tc=t,Nc=Ps(t.current,null),Pc=e,Gc=Sc,Uc=null,Mc=Ic=1073741823,Fc=null,Wc=0,jc=!1}function hs(t,e){for(;;){try{if(no(),zo.current=bi,Yo)for(var r=qo.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(Vo=0,Xo=Ko=qo=null,Yo=!1,null===Nc||null===Nc.return)return Gc=1,Uc=e,Nc=null;t:{var a=t,o=Nc.return,i=Nc,c=e;if(e=Pc,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var s=c;if(0===(2&i.mode)){var u=i.alternate;u?(i.memoizedState=u.memoizedState,i.expirationTime=u.expirationTime):i.memoizedState=null}var l=0!==(1&Wo.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=h.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(f){var y=h.updateQueue;if(null===y){var g=new Set;g.add(s),h.updateQueue=g}else y.add(s);if(0===(2&h.mode)){if(h.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var v=ho(1073741823,null);v.tag=2,fo(i,v)}i.expirationTime=1073741823;break t}c=void 0,i=e;var m=a.pingCache;if(null===m?(m=a.pingCache=new _c,c=new Set,m.set(s,c)):void 0===(c=m.get(s))&&(c=new Set,m.set(s,c)),!c.has(i)){c.add(i);var _=Es.bind(null,a,s,i);s.then(_,_)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);c=Error((I(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+M(i))}5!==Gc&&(Gc=2),c=rc(c,i),h=o;do{switch(h.tag){case 3:s=c,h.effectTag|=4096,h.expirationTime=e,po(h,bc(h,s,e));break t;case 1:s=c;var b=h.type,O=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==O&&"function"===typeof O.componentDidCatch&&(null===qc||!qc.has(O)))){h.effectTag|=4096,h.expirationTime=e,po(h,Oc(h,s,e));break t}}h=h.return}while(null!==h)}Nc=ms(Nc)}catch(w){e=w;continue}break}}function fs(){var t=xc.current;return xc.current=bi,null===t?bi:t}function ps(t,e){t<Ic&&2<t&&(Ic=t),null!==e&&t<Mc&&2<t&&(Mc=t,Fc=e)}function ds(t){t>Wc&&(Wc=t)}function ys(){for(;null!==Nc;)Nc=vs(Nc)}function gs(){for(;null!==Nc&&!Ia();)Nc=vs(Nc)}function vs(t){var e=wc(t.alternate,t,Pc);return t.memoizedProps=t.pendingProps,null===e&&(e=ms(t)),Rc.current=null,e}function ms(t){Nc=t;do{var e=Nc.alternate;if(t=Nc.return,0===(2048&Nc.effectTag)){if(e=tc(e,Nc,Pc),1===Pc||1!==Nc.childExpirationTime){for(var r=0,n=Nc.child;null!==n;){var a=n.expirationTime,o=n.childExpirationTime;a>r&&(r=a),o>r&&(r=o),n=n.sibling}Nc.childExpirationTime=r}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Nc.firstEffect),null!==Nc.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Nc.firstEffect),t.lastEffect=Nc.lastEffect),1<Nc.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Nc:t.firstEffect=Nc,t.lastEffect=Nc))}else{if(null!==(e=ec(Nc)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Nc.sibling))return e;Nc=t}while(null!==Nc);return Gc===Sc&&(Gc=5),null}function _s(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function bs(t){var e=Ha();return qa(99,Os.bind(null,t,e)),null}function Os(t,e){do{ks()}while(null!==Xc);if(0!==(48&Dc))throw Error(i(327));var r=t.finishedWork,n=t.finishedExpirationTime;if(null===r)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,r===t.current)throw Error(i(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var a=_s(r);if(t.firstPendingTime=a,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Tc&&(Nc=Tc=null,Pc=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,a=r.firstEffect):a=r:a=r.firstEffect,null!==a){var o=Dc;Dc|=Ec,Rc.current=null,mr=Ke;var c=dr();if(yr(c)){if("selectionStart"in c)var s={start:c.selectionStart,end:c.selectionEnd};else t:{var u=(s=(s=c.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(u&&0!==u.rangeCount){s=u.anchorNode;var l=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{s.nodeType,h.nodeType}catch(A){s=null;break t}var f=0,p=-1,d=-1,y=0,g=0,v=c,m=null;e:for(;;){for(var _;v!==s||0!==l&&3!==v.nodeType||(p=f+l),v!==h||0!==u&&3!==v.nodeType||(d=f+u),3===v.nodeType&&(f+=v.nodeValue.length),null!==(_=v.firstChild);)m=v,v=_;for(;;){if(v===c)break e;if(m===s&&++y===l&&(p=f),m===h&&++g===u&&(d=f),null!==(_=v.nextSibling))break;m=(v=m).parentNode}v=_}s=-1===p||-1===d?null:{start:p,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;_r={activeElementDetached:null,focusedElem:c,selectionRange:s},Ke=!1,zc=a;do{try{ws()}catch(A){if(null===zc)throw Error(i(330));As(zc,A),zc=zc.nextEffect}}while(null!==zc);zc=a;do{try{for(c=t,s=e;null!==zc;){var b=zc.effectTag;if(16&b&&jt(zc.stateNode,""),128&b){var O=zc.alternate;if(null!==O){var w=O.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:pc(zc),zc.effectTag&=-3;break;case 6:pc(zc),zc.effectTag&=-3,vc(zc.alternate,zc);break;case 1024:zc.effectTag&=-1025;break;case 1028:zc.effectTag&=-1025,vc(zc.alternate,zc);break;case 4:vc(zc.alternate,zc);break;case 8:gc(c,l=zc,s),hc(l)}zc=zc.nextEffect}}catch(A){if(null===zc)throw Error(i(330));As(zc,A),zc=zc.nextEffect}}while(null!==zc);if(w=_r,O=dr(),b=w.focusedElem,s=w.selectionRange,O!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==s&&yr(b)&&(O=s.start,void 0===(w=s.end)&&(w=O),"selectionStart"in b?(b.selectionStart=O,b.selectionEnd=Math.min(w,b.value.length)):(w=(O=b.ownerDocument||document)&&O.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,c=Math.min(s.start,l),s=void 0===s.end?c:Math.min(s.end,l),!w.extend&&c>s&&(l=s,s=c,c=l),l=fr(b,c),h=fr(b,s),l&&h&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((O=O.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),c>s?(w.addRange(O),w.extend(h.node,h.offset)):(O.setEnd(h.node,h.offset),w.addRange(O))))),O=[];for(w=b;w=w.parentNode;)1===w.nodeType&&O.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<O.length;b++)(w=O[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ke=!!mr,_r=mr=null,t.current=r,zc=a;do{try{for(b=t;null!==zc;){var k=zc.effectTag;if(36&k&&uc(b,zc.alternate,zc),128&k){O=void 0;var x=zc.ref;if(null!==x){var R=zc.stateNode;zc.tag,O=R,"function"===typeof x?x(O):x.current=O}}zc=zc.nextEffect}}catch(A){if(null===zc)throw Error(i(330));As(zc,A),zc=zc.nextEffect}}while(null!==zc);zc=null,Ma(),Dc=o}else t.current=r;if(Kc)Kc=!1,Xc=t,Yc=e;else for(zc=a;null!==zc;)e=zc.nextEffect,zc.nextEffect=null,zc=e;if(0===(e=t.firstPendingTime)&&(qc=null),1073741823===e?t===Qc?$c++:($c=0,Qc=t):$c=0,"function"===typeof Cs&&Cs(r.stateNode,n),os(t),Hc)throw Hc=!1,t=Vc,Vc=null,t;return 0!==(8&Dc)||Ya(),null}function ws(){for(;null!==zc;){var t=zc.effectTag;0!==(256&t)&&ic(zc.alternate,zc),0===(512&t)||Kc||(Kc=!0,Ka(97,(function(){return ks(),null}))),zc=zc.nextEffect}}function ks(){if(90!==Yc){var t=97<Yc?97:Yc;return Yc=90,qa(t,xs)}}function xs(){if(null===Xc)return!1;var t=Xc;if(Xc=null,0!==(48&Dc))throw Error(i(331));var e=Dc;for(Dc|=Ec,t=t.current.firstEffect;null!==t;){try{var r=t;if(0!==(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:cc(5,r),sc(5,r)}}catch(n){if(null===t)throw Error(i(330));As(t,n)}r=t.nextEffect,t.nextEffect=null,t=r}return Dc=e,Ya(),!0}function Rs(t,e,r){fo(t,e=bc(t,e=rc(r,e),1073741823)),null!==(t=ns(t,1073741823))&&os(t)}function As(t,e){if(3===t.tag)Rs(t,t,e);else for(var r=t.return;null!==r;){if(3===r.tag){Rs(r,t,e);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===qc||!qc.has(n))){fo(r,t=Oc(r,t=rc(e,t),1073741823)),null!==(r=ns(r,1073741823))&&os(r);break}}r=r.return}}function Es(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),Tc===t&&Pc===r?Gc===Lc||Gc===Cc&&1073741823===Ic&&za()-Bc<500?ls(t,Pc):jc=!0:Ws(t,r)&&(0!==(e=t.lastPingedTime)&&e<r||(t.lastPingedTime=r,os(t)))}function Ss(t,e){var r=t.stateNode;null!==r&&r.delete(e),0===(e=0)&&(e=es(e=ts(),t,null)),null!==(t=ns(t,e))&&os(t)}wc=function(t,e,r){var n=e.expirationTime;if(null!==t){var a=e.pendingProps;if(t.memoizedProps!==a||ga.current)Pi=!0;else{if(n<r){switch(Pi=!1,e.tag){case 3:zi(e),Ti();break;case 5:if(Mo(e),4&e.mode&&1!==r&&a.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:_a(e.type)&&ka(e);break;case 4:Uo(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,a=e.type._context,pa(Ja,a._currentValue),a._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(n=e.child.childExpirationTime)&&n>=r?Xi(t,e,r):(pa(Wo,1&Wo.current),null!==(e=Qi(t,e,r))?e.sibling:null);pa(Wo,1&Wo.current);break;case 19:if(n=e.childExpirationTime>=r,0!==(64&t.effectTag)){if(n)return $i(t,e,r);e.effectTag|=64}if(null!==(a=e.memoizedState)&&(a.rendering=null,a.tail=null),pa(Wo,Wo.current),!n)return null}return Qi(t,e,r)}Pi=!1}}else Pi=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,a=ma(e,ya.current),io(e,r),a=Qo(null,e,n,t,a,r),e.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,_a(n)){var o=!0;ka(e)}else o=!1;e.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,uo(e);var c=n.getDerivedStateFromProps;"function"===typeof c&&_o(e,n,c,t),a.updater=bo,e.stateNode=a,a._reactInternalFiber=e,xo(e,n,t,r),e=Bi(null,e,n,!0,o,r)}else e.tag=0,Gi(null,e,a,r),e=e.child;return e;case 16:t:{if(a=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(a),1!==a._status)throw a._result;switch(a=a._result,e.type=a,o=e.tag=function(t){if("function"===typeof t)return Ns(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===C)return 11;if(t===T)return 14}return 2}(a),t=Qa(a,t),o){case 0:e=Wi(null,e,a,t,r);break t;case 1:e=ji(null,e,a,t,r);break t;case 11:e=Ui(null,e,a,t,r);break t;case 14:e=Ii(null,e,a,Qa(a.type,t),n,r);break t}throw Error(i(306,a,""))}return e;case 0:return n=e.type,a=e.pendingProps,Wi(t,e,n,a=e.elementType===n?a:Qa(n,a),r);case 1:return n=e.type,a=e.pendingProps,ji(t,e,n,a=e.elementType===n?a:Qa(n,a),r);case 3:if(zi(e),n=e.updateQueue,null===t||null===n)throw Error(i(282));if(n=e.pendingProps,a=null!==(a=e.memoizedState)?a.element:null,lo(t,e),yo(e,n,null,r),(n=e.memoizedState.element)===a)Ti(),e=Qi(t,e,r);else{if((a=e.stateNode.hydrate)&&(Ri=xr(e.stateNode.containerInfo.firstChild),xi=e,a=Ai=!0),a)for(r=Lo(e,null,n,r),e.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Gi(t,e,n,r),Ti();e=e.child}return e;case 5:return Mo(e),null===t&&Ci(e),n=e.type,a=e.pendingProps,o=null!==t?t.memoizedProps:null,c=a.children,Or(n,a)?c=null:null!==o&&Or(n,o)&&(e.effectTag|=16),Fi(t,e),4&e.mode&&1!==r&&a.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Gi(t,e,c,r),e=e.child),e;case 6:return null===t&&Ci(e),null;case 13:return Xi(t,e,r);case 4:return Uo(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Co(e,null,n,r):Gi(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,Ui(t,e,n,a=e.elementType===n?a:Qa(n,a),r);case 7:return Gi(t,e,e.pendingProps,r),e.child;case 8:case 12:return Gi(t,e,e.pendingProps.children,r),e.child;case 10:t:{n=e.type._context,a=e.pendingProps,c=e.memoizedProps,o=a.value;var s=e.type._context;if(pa(Ja,s._currentValue),s._currentValue=o,null!==c)if(s=c.value,0===(o=jn(s,o)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(s,o):1073741823))){if(c.children===a.children&&!ga.current){e=Qi(t,e,r);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var u=s.dependencies;if(null!==u){c=s.child;for(var l=u.firstContext;null!==l;){if(l.context===n&&0!==(l.observedBits&o)){1===s.tag&&((l=ho(r,null)).tag=2,fo(s,l)),s.expirationTime<r&&(s.expirationTime=r),null!==(l=s.alternate)&&l.expirationTime<r&&(l.expirationTime=r),oo(s.return,r),u.expirationTime<r&&(u.expirationTime=r);break}l=l.next}}else c=10===s.tag&&s.type===e.type?null:s.child;if(null!==c)c.return=s;else for(c=s;null!==c;){if(c===e){c=null;break}if(null!==(s=c.sibling)){s.return=c.return,c=s;break}c=c.return}s=c}Gi(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=(o=e.pendingProps).children,io(e,r),n=n(a=co(a,o.unstable_observedBits)),e.effectTag|=1,Gi(t,e,n,r),e.child;case 14:return o=Qa(a=e.type,e.pendingProps),Ii(t,e,a,o=Qa(a.type,o),n,r);case 15:return Mi(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Qa(n,a),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,_a(n)?(t=!0,ka(e)):t=!1,io(e,r),wo(e,n,a),xo(e,n,a,r),Bi(null,e,n,!0,t,r);case 19:return $i(t,e,r)}throw Error(i(156,e.tag))};var Cs=null,Ls=null;function Ds(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ts(t,e,r,n){return new Ds(t,e,r,n)}function Ns(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ps(t,e){var r=t.alternate;return null===r?((r=Ts(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=t.childExpirationTime,r.expirationTime=t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Gs(t,e,r,n,a,o){var c=2;if(n=t,"function"===typeof t)Ns(t)&&(c=1);else if("string"===typeof t)c=5;else t:switch(t){case k:return Us(r.children,a,o,e);case S:c=8,a|=7;break;case x:c=8,a|=1;break;case R:return(t=Ts(12,r,e,8|a)).elementType=R,t.type=R,t.expirationTime=o,t;case L:return(t=Ts(13,r,e,a)).type=L,t.elementType=L,t.expirationTime=o,t;case D:return(t=Ts(19,r,e,a)).elementType=D,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case A:c=10;break t;case E:c=9;break t;case C:c=11;break t;case T:c=14;break t;case N:c=16,n=null;break t;case P:c=22;break t}throw Error(i(130,null==t?t:typeof t,""))}return(e=Ts(c,r,e,a)).elementType=t,e.type=n,e.expirationTime=o,e}function Us(t,e,r,n){return(t=Ts(7,t,n,e)).expirationTime=r,t}function Is(t,e,r){return(t=Ts(6,t,null,e)).expirationTime=r,t}function Ms(t,e,r){return(e=Ts(4,null!==t.children?t.children:[],t.key,e)).expirationTime=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fs(t,e,r){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ws(t,e){var r=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==r&&r>=e&&t<=e}function js(t,e){var r=t.firstSuspendedTime,n=t.lastSuspendedTime;r<e&&(t.firstSuspendedTime=e),(n>e||0===r)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Bs(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var r=t.firstSuspendedTime;0!==r&&(e>=r?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function zs(t,e){var r=t.lastExpiredTime;(0===r||r>e)&&(t.lastExpiredTime=e)}function Hs(t,e,r,n){var a=e.current,o=ts(),c=vo.suspense;o=es(o,a,c);t:if(r){e:{if(te(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(i(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(_a(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);throw Error(i(171))}if(1===r.tag){var u=r.type;if(_a(u)){r=wa(r,u,s);break t}}r=s}else r=da;return null===e.context?e.context=r:e.pendingContext=r,(e=ho(o,c)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),fo(a,e),rs(a,o),o}function Vs(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function qs(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Ks(t,e){qs(t,e),(t=t.alternate)&&qs(t,e)}function Xs(t,e,r){var n=new Fs(t,e,r=null!=r&&!0===r.hydrate),a=Ts(3,null,null,2===e?7:1===e?3:0);n.current=a,a.stateNode=n,uo(a),t[Cr]=n.current,r&&0!==e&&function(t,e){var r=Jt(e);Ee.forEach((function(t){ye(t,e,r)})),Se.forEach((function(t){ye(t,e,r)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=n}function Ys(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zs(t,e,r,n,a){var o=r._reactRootContainer;if(o){var i=o._internalRoot;if("function"===typeof a){var c=a;a=function(){var t=Vs(i);c.call(t)}}Hs(e,i,t,a)}else{if(o=r._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new Xs(t,0,e?{hydrate:!0}:void 0)}(r,n),i=o._internalRoot,"function"===typeof a){var s=a;a=function(){var t=Vs(i);s.call(t)}}us((function(){Hs(e,i,t,a)}))}return Vs(i)}function $s(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}function Qs(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ys(e))throw Error(i(200));return $s(t,e,null,r)}Xs.prototype.render=function(t){Hs(t,this._internalRoot,null,null)},Xs.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Hs(null,t,null,(function(){e[Cr]=null}))},ge=function(t){if(13===t.tag){var e=$a(ts(),150,100);rs(t,e),Ks(t,e)}},ve=function(t){13===t.tag&&(rs(t,3),Ks(t,3))},me=function(t){if(13===t.tag){var e=ts();rs(t,e=es(e,t,null)),Ks(t,e)}},Y=function(t,e,r){switch(e){case"input":if(Rt(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Nr(n);if(!a)throw Error(i(90));Ot(n),Rt(n,a)}}}break;case"textarea":Tt(t,r);break;case"select":null!=(e=r.value)&&Ct(t,!!r.multiple,e,!1)}},et=ss,rt=function(t,e,r,n,a){var o=Dc;Dc|=4;try{return qa(98,t.bind(null,e,r,n,a))}finally{0===(Dc=o)&&Ya()}},nt=function(){0===(49&Dc)&&(function(){if(null!==Zc){var t=Zc;Zc=null,t.forEach((function(t,e){zs(e,t),os(e)})),Ya()}}(),ks())},at=function(t,e){var r=Dc;Dc|=2;try{return t(e)}finally{0===(Dc=r)&&Ya()}};var Js={Events:[Dr,Tr,Nr,K,H,Wr,function(t){oe(t,Fr)},J,tt,Qe,se,ks,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var r=e.inject(t);Cs=function(t){try{e.onCommitFiberRoot(r,t,void 0,64===(64&t.current.effectTag))}catch(n){}},Ls=function(t){try{e.onCommitFiberUnmount(r,t)}catch(n){}}}catch(n){}})(a({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Lr,bundleType:0,version:"16.13.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Js,e.createPortal=Qs,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(i(188));throw Error(i(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&Dc))throw Error(i(187));var r=Dc;Dc|=1;try{return qa(99,t.bind(null,e))}finally{Dc=r,Ya()}},e.hydrate=function(t,e,r){if(!Ys(e))throw Error(i(200));return Zs(null,t,e,!0,r)},e.render=function(t,e,r){if(!Ys(e))throw Error(i(200));return Zs(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!Ys(t))throw Error(i(40));return!!t._reactRootContainer&&(us((function(){Zs(null,null,t,!1,(function(){t._reactRootContainer=null,t[Cr]=null}))})),!0)},e.unstable_batchedUpdates=ss,e.unstable_createPortal=function(t,e){return Qs(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ys(r))throw Error(i(200));if(null==t||void 0===t._reactInternalFiber)throw Error(i(38));return Zs(t,e,r,!1,n)},e.version="16.13.0"},4164:function(t,e,r){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=r(4463)},2079:function(t,e,r){"use strict";e.__esModule=!0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=u(r(2791)),o=u(r(2007)),i=u(r(2326)),c=u(r(5241)),s=r(5127);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}s.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,s.transitionTimeout)("Appear"),(0,s.transitionTimeout)("Enter"),(0,s.transitionTimeout)("Leave");var f=function(t){function e(){var r,n;l(this,e);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=n=h(this,t.call.apply(t,[this].concat(i))),n._wrapChild=function(t){return a.default.createElement(c.default,{name:n.props.transitionName,appear:n.props.transitionAppear,enter:n.props.transitionEnter,leave:n.props.transitionLeave,appearTimeout:n.props.transitionAppearTimeout,enterTimeout:n.props.transitionEnterTimeout,leaveTimeout:n.props.transitionLeaveTimeout},t)},h(n,r)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){return a.default.createElement(i.default,n({},this.props,{childFactory:this._wrapChild}))},e}(a.default.Component);f.displayName="CSSTransitionGroup",f.propTypes={},f.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},e.default=f,t.exports=e.default},5241:function(t,e,r){"use strict";e.__esModule=!0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=f(r(8354)),o=f(r(2910)),i=f(r(7584)),c=r(2232),s=f(r(2791)),u=f(r(2007)),l=r(4164),h=r(5127);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var y=[];c.transitionEnd&&y.push(c.transitionEnd),c.animationEnd&&y.push(c.animationEnd);u.default.node,h.nameShape.isRequired,u.default.bool,u.default.bool,u.default.bool,u.default.number,u.default.number,u.default.number;var g=function(t){function e(){var r,n;p(this,e);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=d(this,t.call.apply(t,[this].concat(o))),n.componentWillAppear=function(t){n.props.appear?n.transition("appear",t,n.props.appearTimeout):t()},n.componentWillEnter=function(t){n.props.enter?n.transition("enter",t,n.props.enterTimeout):t()},n.componentWillLeave=function(t){n.props.leave?n.transition("leave",t,n.props.leaveTimeout):t()},d(n,r)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach((function(t){clearTimeout(t)})),this.classNameAndNodeQueue.length=0},e.prototype.transition=function(t,e,r){var n=(0,l.findDOMNode)(this);if(n){var i=this.props.name[t]||this.props.name+"-"+t,s=this.props.name[t+"Active"]||i+"-active",u=null,h=void 0;(0,a.default)(n,i),this.queueClassAndNode(s,n);var f=function(t){t&&t.target!==n||(clearTimeout(u),h&&h(),(0,o.default)(n,i),(0,o.default)(n,s),h&&h(),e&&e())};r?(u=setTimeout(f,r),this.transitionTimeouts.push(u)):c.transitionEnd&&(h=function(t,e){return y.length?y.forEach((function(r){return t.addEventListener(r,e,!1)})):setTimeout(e,0),function(){y.length&&y.forEach((function(r){return t.removeEventListener(r,e,!1)}))}}(n,f))}else e&&e()},e.prototype.queueClassAndNode=function(t,e){var r=this;this.classNameAndNodeQueue.push({className:t,node:e}),this.rafHandle||(this.rafHandle=(0,i.default)((function(){return r.flushClassNameAndNodeQueue()})))},e.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach((function(t){t.node.scrollTop,(0,a.default)(t.node,t.className)})),this.classNameAndNodeQueue.length=0,this.rafHandle=null},e.prototype.render=function(){var t=n({},this.props);return delete t.name,delete t.appear,delete t.enter,delete t.leave,delete t.appearTimeout,delete t.enterTimeout,delete t.leaveTimeout,delete t.children,s.default.cloneElement(s.default.Children.only(this.props.children),t)},e}(s.default.Component);g.displayName="CSSTransitionGroupChild",g.propTypes={},e.default=g,t.exports=e.default},2326:function(t,e,r){"use strict";e.__esModule=!0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=s(r(8174)),o=s(r(2791)),i=s(r(2007)),c=(s(r(7078)),r(8546));function s(t){return t&&t.__esModule?t:{default:t}}i.default.any,i.default.func,i.default.node;var u=function(t){function e(r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,r,a));return o.performAppear=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillAppear?e.componentWillAppear(o._handleDoneAppearing.bind(o,t,e)):o._handleDoneAppearing(t,e)},o._handleDoneAppearing=function(t,e){e.componentDidAppear&&e.componentDidAppear(),delete o.currentlyTransitioningKeys[t];var r=(0,c.getChildMapping)(o.props.children);r&&r.hasOwnProperty(t)||o.performLeave(t,e)},o.performEnter=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillEnter?e.componentWillEnter(o._handleDoneEntering.bind(o,t,e)):o._handleDoneEntering(t,e)},o._handleDoneEntering=function(t,e){e.componentDidEnter&&e.componentDidEnter(),delete o.currentlyTransitioningKeys[t];var r=(0,c.getChildMapping)(o.props.children);r&&r.hasOwnProperty(t)||o.performLeave(t,e)},o.performLeave=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillLeave?e.componentWillLeave(o._handleDoneLeaving.bind(o,t,e)):o._handleDoneLeaving(t,e)},o._handleDoneLeaving=function(t,e){e.componentDidLeave&&e.componentDidLeave(),delete o.currentlyTransitioningKeys[t];var r=(0,c.getChildMapping)(o.props.children);r&&r.hasOwnProperty(t)?o.keysToEnter.push(t):o.setState((function(e){var r=n({},e.children);return delete r[t],{children:r}}))},o.childRefs=Object.create(null),o.state={children:(0,c.getChildMapping)(r.children)},o}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},e.prototype.componentDidMount=function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e,this.childRefs[e])},e.prototype.componentWillReceiveProps=function(t){var e=(0,c.getChildMapping)(t.children),r=this.state.children;for(var n in this.setState({children:(0,c.mergeChildMappings)(r,e)}),e){var a=r&&r.hasOwnProperty(n);!e[n]||a||this.currentlyTransitioningKeys[n]||this.keysToEnter.push(n)}for(var o in r){var i=e&&e.hasOwnProperty(o);!r[o]||i||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},e.prototype.componentDidUpdate=function(){var t=this,e=this.keysToEnter;this.keysToEnter=[],e.forEach((function(e){return t.performEnter(e,t.childRefs[e])}));var r=this.keysToLeave;this.keysToLeave=[],r.forEach((function(e){return t.performLeave(e,t.childRefs[e])}))},e.prototype.render=function(){var t=this,e=[],r=function(r){var n=t.state.children[r];if(n){var i="string"!==typeof n.ref,c=t.props.childFactory(n),s=function(e){t.childRefs[r]=e};c===n&&i&&(s=(0,a.default)(n.ref,s)),e.push(o.default.cloneElement(c,{key:r,ref:s}))}};for(var i in this.state.children)r(i);var c=n({},this.props);return delete c.transitionLeave,delete c.transitionName,delete c.transitionAppear,delete c.transitionEnter,delete c.childFactory,delete c.transitionLeaveTimeout,delete c.transitionEnterTimeout,delete c.transitionAppearTimeout,delete c.component,o.default.createElement(this.props.component,c,e)},e}(o.default.Component);u.displayName="TransitionGroup",u.propTypes={},u.defaultProps={component:"span",childFactory:function(t){return t}},e.default=u,t.exports=e.default},8546:function(t,e,r){"use strict";e.__esModule=!0,e.getChildMapping=function(t){if(!t)return t;var e={};return n.Children.map(t,(function(t){return t})).forEach((function(t){e[t.key]=t})),e},e.mergeChildMappings=function(t,e){function r(r){return e.hasOwnProperty(r)?e[r]:t[r]}t=t||{},e=e||{};var n={},a=[];for(var o in t)e.hasOwnProperty(o)?a.length&&(n[o]=a,a=[]):a.push(o);var i=void 0,c={};for(var s in e){if(n.hasOwnProperty(s))for(i=0;i<n[s].length;i++){var u=n[s][i];c[n[s][i]]=r(u)}c[s]=r(s)}for(i=0;i<a.length;i++)c[a[i]]=r(a[i]);return c};var n=r(2791)},5127:function(t,e,r){"use strict";e.__esModule=!0,e.nameShape=void 0,e.transitionTimeout=function(t){var e="transition"+t+"Timeout",r="transition"+t;return function(t){if(t[r]){if(null==t[e])return new Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!==typeof t[e])return new Error(e+" must be a number (in milliseconds)")}return null}};a(r(2791));var n=a(r(2007));function a(t){return t&&t.__esModule?t:{default:t}}e.nameShape=n.default.oneOfType([n.default.string,n.default.shape({enter:n.default.string,leave:n.default.string,active:n.default.string}),n.default.shape({enter:n.default.string,enterActive:n.default.string,leave:n.default.string,leaveActive:n.default.string,appear:n.default.string,appearActive:n.default.string})])},9117:function(t,e,r){"use strict";var n=r(1725),a="function"===typeof Symbol&&Symbol.for,o=a?Symbol.for("react.element"):60103,i=a?Symbol.for("react.portal"):60106,c=a?Symbol.for("react.fragment"):60107,s=a?Symbol.for("react.strict_mode"):60108,u=a?Symbol.for("react.profiler"):60114,l=a?Symbol.for("react.provider"):60109,h=a?Symbol.for("react.context"):60110,f=a?Symbol.for("react.forward_ref"):60112,p=a?Symbol.for("react.suspense"):60113,d=a?Symbol.for("react.memo"):60115,y=a?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||m}function O(){}function w(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||m}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},O.prototype=b.prototype;var k=w.prototype=new O;k.constructor=w,n(k,b.prototype),k.isPureReactComponent=!0;var x={current:null},R=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,r){var n,a={},i=null,c=null;if(null!=e)for(n in void 0!==e.ref&&(c=e.ref),void 0!==e.key&&(i=""+e.key),e)R.call(e,n)&&!A.hasOwnProperty(n)&&(a[n]=e[n]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];a.children=u}if(t&&t.defaultProps)for(n in s=t.defaultProps)void 0===a[n]&&(a[n]=s[n]);return{$$typeof:o,type:t,key:i,ref:c,props:a,_owner:x.current}}function S(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var C=/\/+/g,L=[];function D(t,e,r,n){if(L.length){var a=L.pop();return a.result=t,a.keyPrefix=e,a.func=r,a.context=n,a.count=0,a}return{result:t,keyPrefix:e,func:r,context:n,count:0}}function T(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>L.length&&L.push(t)}function N(t,e,r,n){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var c=!1;if(null===t)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case i:c=!0}}if(c)return r(n,t,""===e?"."+G(t,0):e),1;if(c=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){var u=e+G(a=t[s],s);c+=N(a,u,r,n)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),s=0;!(a=t.next()).done;)c+=N(a=a.value,u=e+G(a,s++),r,n);else if("object"===a)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return c}function P(t,e,r){return null==t?0:N(t,"",e,r)}function G(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function U(t,e){t.func.call(t.context,e,t.count++)}function I(t,e,r){var n=t.result,a=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?M(t,n,r,(function(t){return t})):null!=t&&(S(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,a+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(C,"$&/")+"/")+r)),n.push(t))}function M(t,e,r,n,a){var o="";null!=r&&(o=(""+r).replace(C,"$&/")+"/"),P(t,I,e=D(e,o,n,a)),T(e)}var F={current:null};function W(){var t=F.current;if(null===t)throw Error(v(321));return t}var j={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,r){if(null==t)return t;var n=[];return M(t,n,null,e,r),n},forEach:function(t,e,r){if(null==t)return t;P(t,U,e=D(null,null,e,r)),T(e)},count:function(t){return P(t,(function(){return null}),null)},toArray:function(t){var e=[];return M(t,e,null,(function(t){return t})),e},only:function(t){if(!S(t))throw Error(v(143));return t}},e.Component=b,e.Fragment=c,e.Profiler=u,e.PureComponent=w,e.StrictMode=s,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error(v(267,t));var a=n({},t.props),i=t.key,c=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(c=e.ref,s=x.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)R.call(e,l)&&!A.hasOwnProperty(l)&&(a[l]=void 0===e[l]&&void 0!==u?u[l]:e[l])}var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];a.children=u}return{$$typeof:o,type:t.type,key:i,ref:c,props:a,_owner:s}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:y,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return W().useCallback(t,e)},e.useContext=function(t,e){return W().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return W().useEffect(t,e)},e.useImperativeHandle=function(t,e,r){return W().useImperativeHandle(t,e,r)},e.useLayoutEffect=function(t,e){return W().useLayoutEffect(t,e)},e.useMemo=function(t,e){return W().useMemo(t,e)},e.useReducer=function(t,e,r){return W().useReducer(t,e,r)},e.useRef=function(t){return W().useRef(t)},e.useState=function(t){return W().useState(t)},e.version="16.13.0"},2791:function(t,e,r){"use strict";t.exports=r(9117)},6813:function(t,e){"use strict";var r,n,a,o,i;if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,s=null,u=function t(){if(null!==c)try{var r=e.unstable_now();c(!0,r),c=null}catch(n){throw setTimeout(t,0),n}},l=Date.now();e.unstable_now=function(){return Date.now()-l},r=function(t){null!==c?setTimeout(r,0,t):(c=t,setTimeout(u,0))},n=function(t,e){s=setTimeout(t,e)},a=function(){clearTimeout(s)},o=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,f=window.Date,p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var g=f.now();e.unstable_now=function(){return f.now()-g}}var v=!1,m=null,_=-1,b=5,O=0;o=function(){return e.unstable_now()>=O},i=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<t?Math.floor(1e3/t):5};var w=new MessageChannel,k=w.port2;w.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();O=t+b;try{m(!0,t)?k.postMessage(null):(v=!1,m=null)}catch(r){throw k.postMessage(null),r}}else v=!1},r=function(t){m=t,v||(v=!0,k.postMessage(null))},n=function(t,r){_=p((function(){t(e.unstable_now())}),r)},a=function(){d(_),_=-1}}function x(t,e){var r=t.length;t.push(e);t:for(;;){var n=r-1>>>1,a=t[n];if(!(void 0!==a&&0<E(a,e)))break t;t[n]=e,t[r]=a,r=n}}function R(t){return void 0===(t=t[0])?null:t}function A(t){var e=t[0];if(void 0!==e){var r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,a=t.length;n<a;){var o=2*(n+1)-1,i=t[o],c=o+1,s=t[c];if(void 0!==i&&0>E(i,r))void 0!==s&&0>E(s,i)?(t[n]=s,t[c]=r,n=c):(t[n]=i,t[o]=r,n=o);else{if(!(void 0!==s&&0>E(s,r)))break t;t[n]=s,t[c]=r,n=c}}}return e}return null}function E(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}var S=[],C=[],L=1,D=null,T=3,N=!1,P=!1,G=!1;function U(t){for(var e=R(C);null!==e;){if(null===e.callback)A(C);else{if(!(e.startTime<=t))break;A(C),e.sortIndex=e.expirationTime,x(S,e)}e=R(C)}}function I(t){if(G=!1,U(t),!P)if(null!==R(S))P=!0,r(M);else{var e=R(C);null!==e&&n(I,e.startTime-t)}}function M(t,r){P=!1,G&&(G=!1,a()),N=!0;var i=T;try{for(U(r),D=R(S);null!==D&&(!(D.expirationTime>r)||t&&!o());){var c=D.callback;if(null!==c){D.callback=null,T=D.priorityLevel;var s=c(D.expirationTime<=r);r=e.unstable_now(),"function"===typeof s?D.callback=s:D===R(S)&&A(S),U(r)}else A(S);D=R(S)}if(null!==D)var u=!0;else{var l=R(C);null!==l&&n(I,l.startTime-r),u=!1}return u}finally{D=null,T=i,N=!1}}function F(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var W=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){P||N||(P=!0,r(M))},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return R(S)},e.unstable_next=function(t){switch(T){case 1:case 2:case 3:var e=3;break;default:e=T}var r=T;T=e;try{return t()}finally{T=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=W,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=T;T=t;try{return e()}finally{T=r}},e.unstable_scheduleCallback=function(t,o,i){var c=e.unstable_now();if("object"===typeof i&&null!==i){var s=i.delay;s="number"===typeof s&&0<s?c+s:c,i="number"===typeof i.timeout?i.timeout:F(t)}else i=F(t),s=c;return t={id:L++,callback:o,priorityLevel:t,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>c?(t.sortIndex=s,x(C,t),null===R(S)&&t===R(C)&&(G?a():G=!0,n(I,s-c))):(t.sortIndex=i,x(S,t),P||N||(P=!0,r(M))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();U(t);var r=R(S);return r!==D&&null!==D&&null!==r&&null!==r.callback&&r.startTime<=t&&r.expirationTime<D.expirationTime||o()},e.unstable_wrapCallback=function(t){var e=T;return function(){var r=T;T=e;try{return t.apply(this,arguments)}finally{T=r}}}},5296:function(t,e,r){"use strict";t.exports=r(6813)},1874:function(t){for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var n=r||0,a=e;return[a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]]].join("")}},7180:function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},7669:function(t,e,r){var n,a,o=r(7180),i=r(1874),c=0,s=0;t.exports=function(t,e,r){var u=e&&r||0,l=e||[],h=(t=t||{}).node||n,f=void 0!==t.clockseq?t.clockseq:a;if(null==h||null==f){var p=o();null==h&&(h=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=a=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:s+1,g=d-c+(y-s)/1e4;if(g<0&&void 0===t.clockseq&&(f=f+1&16383),(g<0||d>c)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,s=y,a=f;var v=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;l[u++]=v>>>24&255,l[u++]=v>>>16&255,l[u++]=v>>>8&255,l[u++]=255&v;var m=d/4294967296*1e4&268435455;l[u++]=m>>>8&255,l[u++]=255&m,l[u++]=m>>>24&15|16,l[u++]=m>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var _=0;_<6;++_)l[u+_]=h[_];return e||i(l)}},7078:function(t){"use strict";t.exports=function(){}},4836:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},6125:function(t){"use strict";t.exports=JSON.parse('{"cols":50,"rows":25,"tiles":{"0,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"0,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"1,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"2,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"3,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"4,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"5,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"6,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"7,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"8,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"9,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"10,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,16":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"11,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"11,18":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"11,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"11,20":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"11,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"11,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,10":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"12,11":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"12,12":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"12,13":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"12,14":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"12,15":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"12,16":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"12,17":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"12,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"12,19":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"12,20":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"12,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"12,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,9":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"13,10":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"13,11":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"13,12":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"13,13":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"13,14":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"13,15":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"13,16":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"13,17":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"13,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"13,19":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"13,20":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"13,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"13,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,8":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"14,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,10":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,11":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,12":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,13":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,14":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,15":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,16":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,17":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,19":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"14,20":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"14,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"14,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,7":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"15,8":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"15,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"15,10":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"15,11":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"15,12":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"15,13":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"15,14":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"15,15":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"15,16":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"15,17":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"15,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"15,19":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"15,20":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"15,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"15,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,6":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"16,7":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"16,8":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"16,9":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"16,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,16":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"16,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"16,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"16,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"16,20":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"16,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"16,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,5":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"17,6":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"17,7":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"17,8":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"17,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"17,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"17,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"17,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"17,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"18,5":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"18,6":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"18,7":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"18,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"18,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"18,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"18,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"18,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,3":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"19,4":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"19,5":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"19,6":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"19,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"19,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"19,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"19,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"19,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"20,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"20,4":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"20,5":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"20,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,12":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"20,13":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"20,14":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"20,15":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"20,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"20,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"20,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"20,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"20,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"21,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"21,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"21,5":{"type":1,"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,12":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"21,13":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"21,14":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"21,15":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"21,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"21,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"21,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"21,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"21,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"22,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"22,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"22,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,7":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"22,8":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"22,9":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"22,10":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"22,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,12":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"22,13":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"22,14":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"22,15":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"22,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"22,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"22,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"22,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"22,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"23,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"23,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"23,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,7":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"23,8":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"23,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"23,10":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"23,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,12":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"23,13":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"23,14":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"23,15":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"23,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"23,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"23,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"23,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"23,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"24,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"24,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"24,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,7":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"24,8":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"24,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"24,10":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"24,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,12":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"24,13":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"24,14":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"24,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"24,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"24,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"24,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"24,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"25,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"25,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"25,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,7":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"25,8":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"25,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"25,10":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"25,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,12":{"type":1,"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,13":{"type":1,"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,14":{"type":1,"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"25,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"25,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"25,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"25,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"26,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"26,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"26,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,7":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"26,8":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"26,9":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"26,10":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"26,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"26,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"26,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"26,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"26,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"27,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"27,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"27,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,17":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"27,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"27,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"27,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"27,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"28,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"28,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"28,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,17":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"28,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"28,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"28,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"28,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"29,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"29,4":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"29,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"29,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"29,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"29,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"29,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"30,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"30,4":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"30,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,8":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"30,9":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"30,10":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"30,11":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"30,12":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"30,13":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"30,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"30,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"30,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"30,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"30,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"31,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"31,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"31,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,8":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"31,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"31,10":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"31,11":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"31,12":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"31,13":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"31,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"31,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"31,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"31,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"31,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"32,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"32,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"32,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,8":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"32,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"32,10":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"32,11":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"32,12":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"32,13":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"32,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"32,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"32,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"32,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"32,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"33,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"33,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"33,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,8":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"33,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"33,10":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"33,11":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"33,12":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"33,13":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"33,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"33,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"33,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"33,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"33,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"34,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"34,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"34,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,8":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"34,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"34,10":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"34,11":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"34,12":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"34,13":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"34,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"34,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"34,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"34,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"34,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"35,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"35,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"35,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,8":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"35,9":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"35,10":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"35,11":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"35,12":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"35,13":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"35,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"35,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"35,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"35,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"35,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"36,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"36,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"36,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,8":{"type":1,"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,16":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"36,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"36,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"36,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"36,20":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"36,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"36,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,1":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"37,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"37,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"37,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"37,5":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"37,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,8":{"type":1,"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,15":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"37,16":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"37,17":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"37,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"37,19":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"37,20":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"37,21":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"37,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"37,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"38,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"38,1":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,2":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"38,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"38,4":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"38,5":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,6":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,7":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,8":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,9":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"38,10":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"38,11":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,12":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,13":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,14":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,15":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,16":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"38,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,18":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,20":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"38,21":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"38,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"38,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"38,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"39,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"39,1":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"39,2":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,4":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,5":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,6":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,7":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,8":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,10":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,11":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,12":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,13":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,14":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,15":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,16":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,17":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"39,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"39,20":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"39,21":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"39,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"39,23":{"type":1,"character":",,","color":"#417505","data":{"type":"GROUND"}},"39,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"40,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"40,1":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"40,2":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,4":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,5":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,6":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,7":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,8":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,9":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,10":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,11":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,12":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,13":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,14":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,15":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,16":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,17":{"type":1,"character":"+","color":"#9b9b9b","data":{"type":"DOOR"}},"40,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"40,20":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"40,21":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"40,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"40,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"40,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"41,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"41,1":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,2":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"41,3":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"41,4":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"41,5":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,6":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,7":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,8":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,9":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,10":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,11":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,12":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,13":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,14":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,15":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,16":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"41,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,18":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,20":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"41,21":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"41,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"41,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"41,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,1":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"42,2":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"42,3":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"42,4":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"42,5":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"42,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,15":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"42,16":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"42,17":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"42,18":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"42,19":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"42,20":{"character":"=","color":"#937255","data":{"type":"FLOOR"}},"42,21":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"42,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"42,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,16":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"43,17":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"43,18":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"43,19":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"43,20":{"type":1,"character":"#","color":"#c3c3c3","data":{"type":"WALL"}},"43,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"43,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"44,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"45,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"46,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"47,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"48,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,0":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,1":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,2":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,3":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,4":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,5":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,6":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,7":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,8":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,9":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,10":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,11":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,12":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,13":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,14":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,15":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,16":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,17":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,18":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,19":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,20":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,21":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,22":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,23":{"character":",,","color":"#417505","data":{"type":"GROUND"}},"49,24":{"character":",,","color":"#417505","data":{"type":"GROUND"}}}}')},9396:function(t){"use strict";t.exports=JSON.parse('{"cols":28,"rows":14,"tiles":{"0,0":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,1":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,2":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,3":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,6":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,7":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,8":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,9":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"0,10":{"type":1,"character":"sw","color":"#fff","data":{"type":"WALL_CORNER_SW"}},"0,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"0,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"0,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"1,0":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"1,1":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"1,2":{"type":0,"character":"","color":"white","data":null},"1,3":{"type":0,"character":"","color":"white","data":null},"1,4":{"type":0,"character":"","color":"white","data":null},"1,5":{"type":0,"character":"","color":"white","data":null},"1,6":{"type":0,"character":"","color":"white","data":null},"1,7":{"type":0,"character":"","color":"white","data":null},"1,8":{"type":0,"character":"","color":"white","data":null},"1,9":{"type":0,"character":"","color":"white","data":null},"1,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"1,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"1,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"1,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"2,0":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"2,1":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"2,2":{"type":0,"character":"","color":"white","data":null},"2,3":{"type":0,"character":"","color":"white","data":null},"2,4":{"type":0,"character":"","color":"white","data":null},"2,5":{"type":0,"character":"","color":"white","data":null},"2,6":{"type":0,"character":"","color":"white","data":null},"2,7":{"type":0,"character":"","color":"white","data":null},"2,8":{"type":0,"character":"","color":"white","data":null},"2,9":{"type":0,"character":"","color":"white","data":null},"2,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"2,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"2,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"2,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"3,0":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"3,1":{"type":1,"character":"+","color":"#fff","data":{"type":"SAFE"}},"3,2":{"type":0,"character":"","color":"white","data":null},"3,3":{"type":0,"character":"","color":"white","data":null},"3,4":{"type":0,"character":"","color":"white","data":null},"3,5":{"type":0,"character":"","color":"white","data":null},"3,6":{"type":0,"character":"","color":"white","data":null},"3,7":{"type":0,"character":"","color":"white","data":null},"3,8":{"type":0,"character":"","color":"white","data":null},"3,9":{"type":0,"character":"","color":"white","data":null},"3,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"3,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"3,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"3,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"4,0":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,1":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,2":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,3":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,6":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"4,7":{"type":0,"character":"","color":"white","data":null},"4,8":{"type":0,"character":"","color":"white","data":null},"4,9":{"type":0,"character":"","color":"white","data":null},"4,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"4,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"4,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"4,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"5,0":{"type":0,"character":"","color":"white","data":null},"5,1":{"type":0,"character":"","color":"white","data":null},"5,2":{"type":0,"character":"","color":"white","data":null},"5,3":{"type":0,"character":"","color":"white","data":null},"5,4":{"type":0,"character":"","color":"white","data":null},"5,5":{"type":0,"character":"","color":"white","data":null},"5,6":{"type":0,"character":"","color":"white","data":null},"5,7":{"type":0,"character":"","color":"white","data":null},"5,8":{"type":0,"character":"","color":"white","data":null},"5,9":{"type":0,"character":"","color":"white","data":null},"5,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"5,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"5,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"5,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"6,0":{"type":0,"character":"","color":"white","data":null},"6,1":{"type":0,"character":"","color":"white","data":null},"6,2":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"6,3":{"type":0,"character":"","color":"white","data":null},"6,4":{"type":0,"character":"","color":"white","data":null},"6,5":{"type":0,"character":"","color":"white","data":null},"6,6":{"type":0,"character":"","color":"white","data":null},"6,7":{"type":0,"character":"","color":"white","data":null},"6,8":{"type":0,"character":"","color":"white","data":null},"6,9":{"type":0,"character":"","color":"white","data":null},"6,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"6,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"6,12":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"6,13":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"7,0":{"type":0,"character":"","color":"white","data":null},"7,1":{"type":0,"character":"","color":"white","data":null},"7,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"7,3":{"type":0,"character":"","color":"white","data":null},"7,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"7,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"7,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"7,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"7,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"7,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"7,10":{"type":1,"character":"ne","color":"#fff","data":{"type":"WALL_CORNER_NE"}},"7,11":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"7,12":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"7,13":{"type":1,"character":"sw","color":"#fff","data":{"type":"WALL_CORNER_SW"}},"8,0":{"type":0,"character":"","color":"white","data":null},"8,1":{"type":0,"character":"","color":"white","data":null},"8,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"8,3":{"type":0,"character":"","color":"white","data":null},"8,4":{"type":0,"character":"","color":"white","data":null},"8,5":{"type":0,"character":"","color":"white","data":null},"8,6":{"type":0,"character":"","color":"white","data":null},"8,7":{"type":0,"character":"","color":"white","data":null},"8,8":{"type":0,"character":"","color":"white","data":null},"8,9":{"type":0,"character":"","color":"white","data":null},"8,10":{"type":0,"character":"","color":"white","data":null},"8,11":{"type":0,"character":"","color":"white","data":null},"8,12":{"type":0,"character":"","color":"white","data":null},"8,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"9,0":{"type":0,"character":"","color":"white","data":null},"9,1":{"type":0,"character":"","color":"white","data":null},"9,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"9,3":{"type":0,"character":"","color":"white","data":null},"9,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"9,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"9,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"9,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"9,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"9,9":{"type":1,"character":"nw","color":"#fff","data":{"type":"WALL_CORNER_NW"}},"9,10":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"9,11":{"type":0,"character":"","color":"white","data":null},"9,12":{"type":0,"character":"","color":"white","data":null},"9,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"10,0":{"type":0,"character":"","color":"white","data":null},"10,1":{"type":0,"character":"","color":"white","data":null},"10,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"10,3":{"type":0,"character":"","color":"white","data":null},"10,4":{"type":0,"character":"","color":"white","data":null},"10,5":{"type":0,"character":"","color":"white","data":null},"10,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"10,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"10,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"10,9":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"10,10":{"type":0,"character":"","color":"white","data":null},"10,11":{"type":0,"character":"","color":"white","data":null},"10,12":{"type":0,"character":"","color":"white","data":null},"10,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"11,0":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"11,1":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"11,2":{"type":1,"character":"se","color":"#fff","data":{"type":"WALL_CORNER_SE"}},"11,3":{"type":0,"character":"","color":"white","data":null},"11,4":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"11,5":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"11,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"11,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"11,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"11,9":{"type":1,"character":"ne","color":"#fff","data":{"type":"WALL_CORNER_NE"}},"11,10":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"11,11":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"11,12":{"type":0,"character":"","color":"white","data":null},"11,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"12,0":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,1":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,2":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,3":{"type":0,"character":"","color":"white","data":null},"12,4":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,5":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,6":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"12,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"12,12":{"type":0,"character":"","color":"white","data":null},"12,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"13,0":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"13,1":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"13,2":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,3":{"type":0,"character":"","color":"white","data":null},"13,4":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,5":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"13,11":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,12":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"13,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"14,0":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"14,1":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"14,2":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,3":{"type":0,"character":"","color":"white","data":null},"14,4":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,5":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"14,11":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,12":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"14,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"15,0":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,1":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,2":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,3":{"type":0,"character":"","color":"white","data":null},"15,4":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,5":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,6":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"15,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,11":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"15,12":{"type":0,"character":"","color":"white","data":null},"15,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"16,0":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"16,1":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"16,2":{"type":1,"character":"sw","color":"#fff","data":{"type":"WALL_CORNER_SW"}},"16,3":{"type":0,"character":"","color":"white","data":null},"16,4":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"16,5":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"16,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"16,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"16,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"16,9":{"type":1,"character":"nw","color":"#fff","data":{"type":"WALL_CORNER_NW"}},"16,10":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"16,11":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"16,12":{"type":0,"character":"","color":"white","data":null},"16,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"17,0":{"type":0,"character":"","color":"white","data":null},"17,1":{"type":0,"character":"","color":"white","data":null},"17,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"17,3":{"type":0,"character":"","color":"white","data":null},"17,4":{"type":0,"character":"","color":"white","data":null},"17,5":{"type":0,"character":"","color":"white","data":null},"17,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"17,7":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"17,8":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"17,9":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"17,10":{"type":0,"character":"","color":"white","data":null},"17,11":{"type":0,"character":"","color":"white","data":null},"17,12":{"type":0,"character":"","color":"white","data":null},"17,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"18,0":{"type":0,"character":"","color":"white","data":null},"18,1":{"type":0,"character":"","color":"white","data":null},"18,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"18,3":{"type":0,"character":"","color":"white","data":null},"18,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"18,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"18,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"18,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"18,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"18,9":{"type":1,"character":"ne","color":"#fff","data":{"type":"WALL_CORNER_NE"}},"18,10":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"18,11":{"type":0,"character":"","color":"white","data":null},"18,12":{"type":0,"character":"","color":"white","data":null},"18,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"19,0":{"type":0,"character":"","color":"white","data":null},"19,1":{"type":0,"character":"","color":"white","data":null},"19,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"19,3":{"type":0,"character":"","color":"white","data":null},"19,4":{"type":0,"character":"","color":"white","data":null},"19,5":{"type":0,"character":"","color":"white","data":null},"19,6":{"type":0,"character":"","color":"white","data":null},"19,7":{"type":0,"character":"","color":"white","data":null},"19,8":{"type":0,"character":"","color":"white","data":null},"19,9":{"type":0,"character":"","color":"white","data":null},"19,10":{"type":0,"character":"","color":"white","data":null},"19,11":{"type":0,"character":"","color":"white","data":null},"19,12":{"type":0,"character":"","color":"white","data":null},"19,13":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"20,0":{"type":0,"character":"","color":"white","data":null},"20,1":{"type":0,"character":"","color":"white","data":null},"20,2":{"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"20,3":{"type":0,"character":"","color":"white","data":null},"20,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"20,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"20,6":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"20,7":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"20,8":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"20,9":{"type":1,"character":"[","color":"#fff","data":{"type":"COVER_PLACEHOLDER"}},"20,10":{"type":1,"character":"nw","color":"#fff","data":{"type":"WALL_CORNER_NW"}},"20,11":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"20,12":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"20,13":{"type":1,"character":"se","color":"#fff","data":{"type":"WALL_CORNER_SE"}},"21,0":{"type":0,"character":"","color":"white","data":null},"21,1":{"type":0,"character":"","color":"white","data":null},"21,2":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"21,3":{"type":0,"character":"","color":"white","data":null},"21,4":{"type":0,"character":"","color":"white","data":null},"21,5":{"type":0,"character":"","color":"white","data":null},"21,6":{"type":0,"character":"","color":"white","data":null},"21,7":{"type":0,"character":"","color":"white","data":null},"21,8":{"type":0,"character":"","color":"white","data":null},"21,9":{"type":0,"character":"","color":"white","data":null},"21,10":{"type":1,"character":"__","color":"#fff","data":{"type":"FLOOR"}},"21,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"21,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"21,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"22,0":{"type":0,"character":"","color":"white","data":null},"22,1":{"type":0,"character":"","color":"white","data":null},"22,2":{"type":0,"character":"","color":"white","data":null},"22,3":{"type":0,"character":"","color":"white","data":null},"22,4":{"type":0,"character":"","color":"white","data":null},"22,5":{"type":0,"character":"","color":"white","data":null},"22,6":{"type":0,"character":"","color":"white","data":null},"22,7":{"type":0,"character":"","color":"white","data":null},"22,8":{"type":0,"character":"","color":"white","data":null},"22,9":{"type":0,"character":"","color":"white","data":null},"22,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"22,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"22,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"22,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"23,0":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,1":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,2":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,3":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,4":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,5":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,6":{"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"23,7":{"type":0,"character":"","color":"white","data":null},"23,8":{"type":0,"character":"","color":"white","data":null},"23,9":{"type":0,"character":"","color":"white","data":null},"23,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"23,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"23,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"23,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"24,0":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"24,1":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"24,2":{"type":0,"character":"","color":"white","data":null},"24,3":{"type":0,"character":"","color":"white","data":null},"24,4":{"type":0,"character":"","color":"white","data":null},"24,5":{"type":0,"character":"","color":"white","data":null},"24,6":{"type":0,"character":"","color":"white","data":null},"24,7":{"type":0,"character":"","color":"white","data":null},"24,8":{"type":0,"character":"","color":"white","data":null},"24,9":{"type":0,"character":"","color":"white","data":null},"24,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"24,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"24,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"24,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"25,0":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"25,1":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"25,2":{"type":0,"character":"","color":"white","data":null},"25,3":{"type":0,"character":"","color":"white","data":null},"25,4":{"type":0,"character":"","color":"white","data":null},"25,5":{"type":0,"character":"","color":"white","data":null},"25,6":{"type":0,"character":"","color":"white","data":null},"25,7":{"type":0,"character":"","color":"white","data":null},"25,8":{"type":0,"character":"","color":"white","data":null},"25,9":{"type":0,"character":"","color":"white","data":null},"25,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"25,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"25,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"25,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"26,0":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"26,1":{"type":1,"character":"x","color":"#fff","data":{"type":"LOCKED_EXIT"}},"26,2":{"type":0,"character":"","color":"white","data":null},"26,3":{"type":0,"character":"","color":"white","data":null},"26,4":{"type":0,"character":"","color":"white","data":null},"26,5":{"type":0,"character":"","color":"white","data":null},"26,6":{"type":0,"character":"","color":"white","data":null},"26,7":{"type":0,"character":"","color":"white","data":null},"26,8":{"type":0,"character":"","color":"white","data":null},"26,9":{"type":0,"character":"","color":"white","data":null},"26,10":{"type":1,"character":"=","color":"#fff","data":{"type":"WALL_HORIZONTAL"}},"26,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"26,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"26,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"27,0":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,1":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,2":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,3":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,4":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,5":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,6":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,7":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,8":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,9":{"type":1,"character":"||","color":"#fff","data":{"type":"WALL_VERTICAL"}},"27,10":{"type":1,"character":"se","color":"#fff","data":{"type":"WALL_CORNER_SE"}},"27,11":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"27,12":{"character":"__","color":"#fff","data":{"type":"FLOOR"}},"27,13":{"character":"__","color":"#fff","data":{"type":"FLOOR"}}}}')}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){"use strict";var t={};r.r(t),r.d(t,{addDrone:function(){return qn},addDroneGrenadier:function(){return Kn},addHunter:function(){return Xn},addRandomGrub:function(){return $n},addScion:function(){return Yn},addSkorge:function(){return Zn},addWretch:function(){return Vn},createRandomBasicGrub:function(){return ta}});var e=r(2791),n=r(4164);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}function i(t,e,r){return(e=o(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o,i,c=[],s=!0,u=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(l){u=!0,a=l}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function d(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=v(t);if(e){var a=v(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _(this,r)}}var O=r(4589),w=r.n(O),k="Title",x="Level",R="Lose",A="Win",E="CharacterSelect",S="ModeSelect";function C(){C=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(L){u=function(t,e,r){return t[e]=r}}function l(t,e,r,a){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),c=new A(a||[]);return n(i,"_invoke",{value:w(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var f={};function p(){}function d(){}function y(){}var g={};u(g,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(E([])));m&&m!==e&&r.call(m,i)&&(g=m);var _=y.prototype=p.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(n,i,c,s){var u=h(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,s)}),(function(t){o("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=h(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,f;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=y,n(_,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new O(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(_),u(_,s,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function L(t,e,r,n,a,o,i){try{var c=t[o](i),s=c.value}catch(u){return void r(u)}c.done?e(s):Promise.resolve(s).then(n,a)}function D(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){L(o,n,a,i,c,"next",t)}function c(t){L(o,n,a,i,c,"throw",t)}i(void 0)}))}}function T(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=2.3283064365386963e-10,P=function(){function t(){f(this,t),this._seed=0,this._s0=0,this._s1=0,this._s2=0,this._c=0}return d(t,[{key:"getSeed",value:function(){return this._seed}},{key:"setSeed",value:function(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*N,t=69069*t+1>>>0,this._s1=t*N,t=69069*t+1>>>0,this._s2=t*N,this._c=1,this}},{key:"getUniform",value:function(){var t=2091639*this._s0+this._c*N;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2}},{key:"getUniformInt",value:function(t,e){var r=Math.max(t,e),n=Math.min(t,e);return Math.floor(this.getUniform()*(r-n+1))+n}},{key:"getNormal",value:function(){var t,e,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;do{r=(t=2*this.getUniform()-1)*t+(e=2*this.getUniform()-1)*e}while(r>1||0==r);var o=t*Math.sqrt(-2*Math.log(r)/r);return n+o*a}},{key:"getPercentage",value:function(){return 1+Math.floor(100*this.getUniform())}},{key:"getItem",value:function(t){return t.length?t[Math.floor(this.getUniform()*t.length)]:null}},{key:"shuffle",value:function(t){for(var e=[],r=t.slice();r.length;){var n=r.indexOf(this.getItem(r));e.push(r.splice(n,1)[0])}return e}},{key:"getWeightedValue",value:function(t){var e=0;for(var r in t)e+=t[r];var n,a=this.getUniform()*e,o=0;for(n in t)if(a<(o+=t[n]))return n;return n}},{key:"getState",value:function(){return[this._s0,this._s1,this._s2,this._c]}},{key:"setState",value:function(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this}},{key:"clone",value:function(){var e=new t;return e.setState(this.getState())}}]),t}(),G=(new P).setSeed(Date.now());function U(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function I(){return I="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=U(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(arguments.length<3?t:r):a.value}},I.apply(this,arguments)}var M=function(){function t(){f(this,t)}return d(t,[{key:"getContainer",value:function(){return null}},{key:"setOptions",value:function(t){this._options=t}}]),t}(),F=function(t){g(r,t);var e=b(r);function r(){var t;return f(this,r),(t=e.call(this))._ctx=document.createElement("canvas").getContext("2d"),t}return d(r,[{key:"schedule",value:function(t){requestAnimationFrame(t)}},{key:"getContainer",value:function(){return this._ctx.canvas}},{key:"setOptions",value:function(t){I(v(r.prototype),"setOptions",this).call(this,t);var e=t.fontStyle?"".concat(t.fontStyle," "):"",n="".concat(e," ").concat(t.fontSize,"px ").concat(t.fontFamily);this._ctx.font=n,this._updateSize(),this._ctx.font=n,this._ctx.textAlign="center",this._ctx.textBaseline="middle"}},{key:"clear",value:function(){this._ctx.fillStyle=this._options.bg,this._ctx.fillRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height)}},{key:"eventToPosition",value:function(t,e){var r=this._ctx.canvas,n=r.getBoundingClientRect();return t-=n.left,e-=n.top,t*=r.width/n.width,e*=r.height/n.height,t<0||e<0||t>=r.width||e>=r.height?[-1,-1]:this._normalizedEventToPosition(t,e)}}]),r}(M);function W(t,e){return(t%e+e)%e}var j=function(t){g(r,t);var e=b(r);function r(){var t;return f(this,r),(t=e.call(this))._spacingX=0,t._spacingY=0,t._hexSize=0,t}return d(r,[{key:"draw",value:function(t,e){var r=h(t,5),n=r[0],a=r[1],o=r[2],i=r[3],c=r[4],s=[(n+1)*this._spacingX,a*this._spacingY+this._hexSize];if(this._options.transpose&&s.reverse(),e&&(this._ctx.fillStyle=c,this._fill(s[0],s[1])),o){this._ctx.fillStyle=i;for(var u=[].concat(o),l=0;l<u.length;l++)this._ctx.fillText(u[l],s[0],Math.ceil(s[1]))}}},{key:"computeSize",value:function(t,e){return this._options.transpose&&(t+=e,t-=e=t-e),[Math.floor(t/this._spacingX)-1,Math.floor((e-2*this._hexSize)/this._spacingY+1)]}},{key:"computeFontSize",value:function(t,e){this._options.transpose&&(t+=e,t-=e=t-e);var r=2*t/((this._options.width+1)*Math.sqrt(3))-1,n=e/(2+1.5*(this._options.height-1)),a=Math.min(r,n),o=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;var i=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=o;var c=i/100,s=2*(a=Math.floor(a)+1)/(this._options.spacing*(1+c/Math.sqrt(3)));return Math.ceil(s)-1}},{key:"_normalizedEventToPosition",value:function(t,e){var r;this._options.transpose?(t+=e,t-=e=t-e,r=this._ctx.canvas.width):r=this._ctx.canvas.height;var n=r/this._options.height;return W(e=Math.floor(e/n),2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]}},{key:"_fill",value:function(t,e){var r=this._hexSize,n=this._options.border,a=this._ctx;a.beginPath(),this._options.transpose?(a.moveTo(t-r+n,e),a.lineTo(t-r/2+n,e+this._spacingX-n),a.lineTo(t+r/2-n,e+this._spacingX-n),a.lineTo(t+r-n,e),a.lineTo(t+r/2-n,e-this._spacingX+n),a.lineTo(t-r/2+n,e-this._spacingX+n),a.lineTo(t-r+n,e)):(a.moveTo(t,e-r+n),a.lineTo(t+this._spacingX-n,e-r/2+n),a.lineTo(t+this._spacingX-n,e+r/2-n),a.lineTo(t,e+r-n),a.lineTo(t-this._spacingX+n,e+r/2-n),a.lineTo(t-this._spacingX+n,e-r/2+n),a.lineTo(t,e-r+n)),a.fill()}},{key:"_updateSize",value:function(){var t,e,r=this._options,n=Math.ceil(this._ctx.measureText("W").width);this._hexSize=Math.floor(r.spacing*(r.fontSize+n/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,r.transpose?(t="height",e="width"):(t="width",e="height"),this._ctx.canvas[t]=Math.ceil((r.width+1)*this._spacingX),this._ctx.canvas[e]=Math.ceil((r.height-1)*this._spacingY+2*this._hexSize)}}]),r}(F),B=function(t){g(r,t);var e=b(r);function r(){var t;return f(this,r),(t=e.call(this))._spacingX=0,t._spacingY=0,t._canvasCache={},t}return d(r,[{key:"setOptions",value:function(t){I(v(r.prototype),"setOptions",this).call(this,t),this._canvasCache={}}},{key:"draw",value:function(t,e){r.cache?this._drawWithCache(t):this._drawNoCache(t,e)}},{key:"_drawWithCache",value:function(t){var e,r=h(t,5),n=r[0],a=r[1],o=r[2],i=r[3],c=r[4],s=""+o+i+c;if(s in this._canvasCache)e=this._canvasCache[s];else{var u=this._options.border,l=(e=document.createElement("canvas")).getContext("2d");if(e.width=this._spacingX,e.height=this._spacingY,l.fillStyle=c,l.fillRect(u,u,e.width-u,e.height-u),o){l.fillStyle=i,l.font=this._ctx.font,l.textAlign="center",l.textBaseline="middle";for(var f=[].concat(o),p=0;p<f.length;p++)l.fillText(f[p],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[s]=e}this._ctx.drawImage(e,n*this._spacingX,a*this._spacingY)}},{key:"_drawNoCache",value:function(t,e){var r=h(t,5),n=r[0],a=r[1],o=r[2],i=r[3],c=r[4];if(e){var s=this._options.border;this._ctx.fillStyle=c,this._ctx.fillRect(n*this._spacingX+s,a*this._spacingY+s,this._spacingX-s,this._spacingY-s)}if(o){this._ctx.fillStyle=i;for(var u=[].concat(o),l=0;l<u.length;l++)this._ctx.fillText(u[l],(n+.5)*this._spacingX,Math.ceil((a+.5)*this._spacingY))}}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}},{key:"computeFontSize",value:function(t,e){var r=Math.floor(t/this._options.width),n=Math.floor(e/this._options.height),a=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;var o=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=a;var i=o/100*n/r;return i>1&&(n=Math.floor(n/i)),Math.floor(n/this._options.spacing)}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}},{key:"_updateSize",value:function(){var t=this._options,e=Math.ceil(this._ctx.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),t.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._ctx.canvas.width=t.width*this._spacingX,this._ctx.canvas.height=t.height*this._spacingY}}]),r}(F);B.cache=!1;var z=function(t){g(r,t);var e=b(r);function r(){var t;return f(this,r),(t=e.call(this))._colorCanvas=document.createElement("canvas"),t}return d(r,[{key:"draw",value:function(t,e){var r=h(t,5),n=r[0],a=r[1],o=r[2],i=r[3],c=r[4],s=this._options.tileWidth,u=this._options.tileHeight;if(e&&(this._options.tileColorize?this._ctx.clearRect(n*s,a*u,s,u):(this._ctx.fillStyle=c,this._ctx.fillRect(n*s,a*u,s,u))),o)for(var l=[].concat(o),f=[].concat(i),p=[].concat(c),d=0;d<l.length;d++){var y=this._options.tileMap[l[d]];if(!y)throw new Error('Char "'.concat(l[d],'" not found in tileMap'));if(this._options.tileColorize){var g=this._colorCanvas,v=g.getContext("2d");v.globalCompositeOperation="source-over",v.clearRect(0,0,s,u);var m=f[d],_=p[d];v.drawImage(this._options.tileSet,y[0],y[1],s,u,0,0,s,u),"transparent"!=m&&(v.fillStyle=m,v.globalCompositeOperation="source-atop",v.fillRect(0,0,s,u)),"transparent"!=_&&(v.fillStyle=_,v.globalCompositeOperation="destination-over",v.fillRect(0,0,s,u)),this._ctx.drawImage(g,n*s,a*u,s,u)}else this._ctx.drawImage(this._options.tileSet,y[0],y[1],s,u,n*s,a*u,s,u)}}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"computeFontSize",value:function(){throw new Error("Tile backend does not understand font size")}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"_updateSize",value:function(){var t=this._options;this._ctx.canvas.width=t.width*t.tileWidth,this._ctx.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight}}]),r}(F);function H(t){var e,r;if(t in V)e=V[t];else{if("#"==t.charAt(0)){var n=(t.match(/[0-9a-f]/gi)||[]).map((function(t){return parseInt(t,16)}));if(3==n.length)e=n.map((function(t){return 17*t}));else{for(var a=0;a<3;a++)n[a+1]+=16*n[a],n.splice(a,1);e=n}}else e=(r=t.match(/rgb\(([0-9, ]+)\)/i))?r[1].split(/\s*,\s*/).map((function(t){return parseInt(t)})):[0,0,0];V[t]=e}return e.slice()}var V={black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]},q=function(t){g(r,t);var e=b(r);function r(){var t;f(this,r),(t=e.call(this))._uniforms={};try{t._gl=t._initWebGL()}catch(n){alert(n.message)}return t}return d(r,[{key:"schedule",value:function(t){requestAnimationFrame(t)}},{key:"getContainer",value:function(){return this._gl.canvas}},{key:"setOptions",value:function(t){var e=this;I(v(r.prototype),"setOptions",this).call(this,t),this._updateSize();var n=this._options.tileSet;n&&"complete"in n&&!n.complete?n.addEventListener("load",(function(){return e._updateTexture(n)})):this._updateTexture(n)}},{key:"draw",value:function(t,e){var r=this._gl,n=this._options,a=h(t,5),o=a[0],i=a[1],c=a[2],s=a[3],u=a[4],l=r.canvas.height-(i+1)*n.tileHeight;if(r.scissor(o*n.tileWidth,l,n.tileWidth,n.tileHeight),e&&(n.tileColorize?r.clearColor(0,0,0,0):r.clearColor.apply(r,T($(u))),r.clear(r.COLOR_BUFFER_BIT)),c){var f=[].concat(c),p=[].concat(u),d=[].concat(s);r.uniform2fv(this._uniforms.targetPosRel,[o,i]);for(var y=0;y<f.length;y++){var g=this._options.tileMap[f[y]];if(!g)throw new Error('Char "'.concat(f[y],'" not found in tileMap'));r.uniform1f(this._uniforms.colorize,n.tileColorize?1:0),r.uniform2fv(this._uniforms.tilesetPosAbs,g),n.tileColorize&&(r.uniform4fv(this._uniforms.tint,$(d[y])),r.uniform4fv(this._uniforms.bg,$(p[y]))),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}}},{key:"clear",value:function(){var t=this._gl;t.clearColor.apply(t,T($(this._options.bg))),t.scissor(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT)}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"computeFontSize",value:function(){throw new Error("Tile backend does not understand font size")}},{key:"eventToPosition",value:function(t,e){var r=this._gl.canvas,n=r.getBoundingClientRect();return t-=n.left,e-=n.top,t*=r.width/n.width,e*=r.height/n.height,t<0||e<0||t>=r.width||e>=r.height?[-1,-1]:this._normalizedEventToPosition(t,e)}},{key:"_initWebGL",value:function(){var t=this,e=document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0});window.gl=e;var r=function(t,e,r){var n=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n)||"");var a=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(a,r),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(a)||"");var o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,a),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(o)||"");return o}(e,X,Y);return e.useProgram(r),function(t){var e=new Float32Array([0,0,1,0,0,1,1,1]),r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0)}(e),K.forEach((function(n){return t._uniforms[n]=e.getUniformLocation(r,n)})),this._program=r,e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.SCISSOR_TEST),e}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"_updateSize",value:function(){var t=this._gl,e=this._options,r=[e.width*e.tileWidth,e.height*e.tileHeight];t.canvas.width=r[0],t.canvas.height=r[1],t.viewport(0,0,r[0],r[1]),t.uniform2fv(this._uniforms.tileSize,[e.tileWidth,e.tileHeight]),t.uniform2fv(this._uniforms.targetSize,r)}},{key:"_updateTexture",value:function(t){!function(t,e){var r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)}(this._gl,t)}}],[{key:"isSupported",value:function(){return!!document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0})}}]),r}(M),K=["targetPosRel","tilesetPosAbs","tileSize","targetSize","colorize","bg","tint"],X="\n#version 300 es\n\nin vec2 tilePosRel;\nout vec2 tilesetPosPx;\n\nuniform vec2 tilesetPosAbs;\nuniform vec2 tileSize;\nuniform vec2 targetSize;\nuniform vec2 targetPosRel;\n\nvoid main() {\n\tvec2 targetPosPx = (targetPosRel + tilePosRel) * tileSize;\n\tvec2 targetPosNdc = ((targetPosPx / targetSize)-0.5)*2.0;\n\ttargetPosNdc.y *= -1.0;\n\n\tgl_Position = vec4(targetPosNdc, 0.0, 1.0);\n\ttilesetPosPx = tilesetPosAbs + tilePosRel * tileSize;\n}".trim(),Y="\n#version 300 es\nprecision highp float;\n\nin vec2 tilesetPosPx;\nout vec4 fragColor;\nuniform sampler2D image;\nuniform bool colorize;\nuniform vec4 bg;\nuniform vec4 tint;\n\nvoid main() {\n\tfragColor = vec4(0, 0, 0, 1);\n\n\tvec4 texel = texelFetch(image, ivec2(tilesetPosPx), 0);\n\n\tif (colorize) {\n\t\ttexel.rgb = tint.a * tint.rgb + (1.0-tint.a) * texel.rgb;\n\t\tfragColor.rgb = texel.a*texel.rgb + (1.0-texel.a)*bg.rgb;\n\t\tfragColor.a = texel.a + (1.0-texel.a)*bg.a;\n\t} else {\n\t\tfragColor = texel;\n\t}\n}".trim();var Z={};function $(t){if(!(t in Z)){var e;if("transparent"==t)e=[0,0,0,0];else if(t.indexOf("rgba")>-1){e=(t.match(/[\d.]+/g)||[]).map(Number);for(var r=0;r<3;r++)e[r]=e[r]/255}else(e=H(t).map((function(t){return t/255}))).push(1);Z[t]=e}return Z[t]}function Q(t){var e=6/256,r=H(t);return 36*Math.floor(r[0]*e)+6*Math.floor(r[1]*e)+1*Math.floor(r[2]*e)+16}var J=function(t){g(r,t);var e=b(r);function r(){var t;return f(this,r),(t=e.call(this))._offset=[0,0],t._cursor=[-1,-1],t._lastColor="",t}return d(r,[{key:"schedule",value:function(t){setTimeout(t,1e3/60)}},{key:"setOptions",value:function(t){I(v(r.prototype),"setOptions",this).call(this,t);var e=[t.width,t.height],n=this.computeSize();this._offset=n.map((function(t,r){return Math.floor((t-e[r])/2)}))}},{key:"clear",value:function(){var t;process.stdout.write((t=this._options.bg,"\x1b[0;48;5;".concat(Q(t),"m\x1b[2J")))}},{key:"draw",value:function(t,e){var r=h(t,5),n=r[0],a=r[1],o=r[2],i=r[3],c=r[4],s=this._offset[0]+n,u=this._offset[1]+a,l=this.computeSize();if(!(s<0||s>=l[0])&&!(u<0||u>=l[1])&&(s===this._cursor[0]&&u===this._cursor[1]||(process.stdout.write(function(t,e){return"\x1b[".concat(e+1,";").concat(t+1,"H")}(s,u)),this._cursor[0]=s,this._cursor[1]=u),e&&(o||(o=" ")),o)){var f=function(t,e){return"\x1b[0;38;5;".concat(Q(t),";48;5;").concat(Q(e),"m")}(i,c);f!==this._lastColor&&(process.stdout.write(f),this._lastColor=f);var p=[].concat(o);process.stdout.write(p[0]),this._cursor[0]++,this._cursor[0]>=l[0]&&(this._cursor[0]=0,this._cursor[1]++)}}},{key:"computeFontSize",value:function(){throw new Error("Terminal backend has no notion of font size")}},{key:"eventToPosition",value:function(t,e){return[t,e]}},{key:"computeSize",value:function(){return[process.stdout.columns,process.stdout.rows]}}]),r}(M),tt=/%([bc]){([^}]*)}/g;function et(t,e){var r=[],n=0;t.replace(tt,(function(e,a,o,i){var c=t.substring(n,i);return c.length&&r.push({type:0,value:c}),r.push({type:"c"==a?2:3,value:o.trim()}),n=i+e.length,""}));var a=t.substring(n);return a.length&&r.push({type:0,value:a}),function(t,e){e||(e=1/0);var r=0,n=0,a=-1;for(;r<t.length;){var o=t[r];if(1==o.type&&(n=0,a=-1),0==o.type){for(;0==n&&" "==o.value.charAt(0);)o.value=o.value.substring(1);var i=o.value.indexOf("\n");if(-1!=i){o.value=rt(t,r,i,!0);for(var c=o.value.split("");c.length&&" "==c[c.length-1];)c.pop();o.value=c.join("")}if(o.value.length){if(n+o.value.length>e){for(var s=-1;;){var u=o.value.indexOf(" ",s+1);if(-1==u)break;if(n+u>e)break;s=u}if(-1!=s)o.value=rt(t,r,s,!0);else if(-1!=a){var l=t[a],h=l.value.lastIndexOf(" ");l.value=rt(t,a,h,!0),r=a}else o.value=rt(t,r,e-n,!1)}else n+=o.value.length,-1!=o.value.indexOf(" ")&&(a=r);r++}else t.splice(r,1)}else r++}t.push({type:1});for(var f=null,p=0;p<t.length;p++){var d=t[p];switch(d.type){case 0:f=d;break;case 1:if(f){for(var y=f.value.split("");y.length&&" "==y[y.length-1];)y.pop();f.value=y.join("")}f=null}}return t.pop(),t}(r,e)}function rt(t,e,r,n){var a={type:1},o={type:0,value:t[e].value.substring(r+(n?1:0))};return t.splice(e+1,0,a,o),t[e].value.substring(0,r)}var nt={4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]},at={hex:j,rect:B,tile:z,"tile-gl":q,term:J},ot={width:80,height:25,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1},it=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,t),this._data={},this._dirty=!1,this._options={},e=Object.assign({},ot,e),this.setOptions(e),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),this._backend.schedule(this._tick)}return d(t,[{key:"DEBUG",value:function(t,e,r){var n=[this._options.bg,this._options.fg];this.draw(t,e,null,null,n[r%n.length])}},{key:"clear",value:function(){this._data={},this._dirty=!0}},{key:"setOptions",value:function(t){if(Object.assign(this._options,t),t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){if(t.layout){var e=at[t.layout];this._backend=new e}this._backend.setOptions(this._options),this._dirty=!0}return this}},{key:"getOptions",value:function(){return this._options}},{key:"getContainer",value:function(){return this._backend.getContainer()}},{key:"computeSize",value:function(t,e){return this._backend.computeSize(t,e)}},{key:"computeFontSize",value:function(t,e){return this._backend.computeFontSize(t,e)}},{key:"computeTileSize",value:function(t,e){return[Math.floor(t/this._options.width),Math.floor(e/this._options.height)]}},{key:"eventToPosition",value:function(t){var e,r;return"touches"in t?(e=t.touches[0].clientX,r=t.touches[0].clientY):(e=t.clientX,r=t.clientY),this._backend.eventToPosition(e,r)}},{key:"draw",value:function(t,e,r,n,a){n||(n=this._options.fg),a||(a=this._options.bg);var o="".concat(t,",").concat(e);this._data[o]=[t,e,r,n,a],!0!==this._dirty&&(this._dirty||(this._dirty={}),this._dirty[o]=!0)}},{key:"drawText",value:function(t,e,r,n){var a=null,o=null,i=t,c=e,s=1;n||(n=this._options.width-t);for(var u=et(r,n);u.length;){var l=u.shift();switch(l.type){case 0:for(var h=!1,f=!1,p=!1,d=!1,y=0;y<l.value.length;y++){var g=l.value.charCodeAt(y),v=l.value.charAt(y);p=g>65280&&g<65377||g>65500&&g<65512||g>65518,h=32==v.charCodeAt(0)||12288==v.charCodeAt(0),!d||p||h||i++,p&&!f&&i++,this.draw(i++,c,v,a,o),f=h,d=p}break;case 2:a=l.value||null;break;case 3:o=l.value||null;break;case 1:i=t,c++,s++}}return s}},{key:"_tick",value:function(){if(this._backend.schedule(this._tick),this._dirty){if(!0===this._dirty)for(var t in this._backend.clear(),this._data)this._draw(t,!1);else for(var e in this._dirty)this._draw(e,!0);this._dirty=!1}}},{key:"_draw",value:function(t,e){var r=this._data[t];r[4]!=this._options.bg&&(e=!0),this._backend.draw(r,e)}}]),t}();it.Rect=B,it.Hex=j,it.Tile=z,it.TileGL=q,it.Term=J;var ct=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,t),this._lightPasses=e,this._options=Object.assign({topology:8},r)}return d(t,[{key:"_getCircle",value:function(t,e,r){var n,a,o,i=[];switch(this._options.topology){case 4:a=1,o=[0,1],n=[nt[8][7],nt[8][1],nt[8][3],nt[8][5]];break;case 6:n=nt[6],a=1,o=[-1,1];break;case 8:n=nt[4],a=2,o=[-1,1];break;default:throw new Error("Incorrect topology for FOV computation")}for(var c=t+o[0]*r,s=e+o[1]*r,u=0;u<n.length;u++)for(var l=0;l<r*a;l++)i.push([c,s]),c+=n[u][0],s+=n[u][1];return i}}]),t}(),st=function(t){g(r,t);var e=b(r);function r(){return f(this,r),e.apply(this,arguments)}return d(r,[{key:"compute",value:function(t,e,r,n){if(n(t,e,0,1),this._lightPasses(t,e))for(var a,o,i,c,s,u=[],l=1;l<=r;l++)for(var h=this._getCircle(t,e,l),f=360/h.length,p=0;p<h.length;p++)if(i=h[p][0],c=h[p][1],o=(a=f*(p-.5))+f,s=!this._lightPasses(i,c),this._visibleCoords(Math.floor(a),Math.ceil(o),s,u)&&n(i,c,l,1),2==u.length&&0==u[0]&&360==u[1])return}},{key:"_visibleCoords",value:function(t,e,r,n){if(t<0){var a=this._visibleCoords(0,e,r,n),o=this._visibleCoords(360+t,360,r,n);return a||o}for(var i=0;i<n.length&&n[i]<t;)i++;if(i==n.length)return r&&n.push(t,e),!0;var c=0;if(i%2){for(;i<n.length&&n[i]<e;)i++,c++;return 0!=c&&(r&&(c%2?n.splice(i-c,c,e):n.splice(i-c,c)),!0)}for(;i<n.length&&n[i]<e;)i++,c++;return(t!=n[i-c]||1!=c)&&(r&&(c%2?n.splice(i-c,c,t):n.splice(i-c,c,t,e)),!0)}}]),r}(ct),ut=function(t){g(r,t);var e=b(r);function r(){return f(this,r),e.apply(this,arguments)}return d(r,[{key:"compute",value:function(t,e,r,n){if(n(t,e,0,1),this._lightPasses(t,e))for(var a,o,i,c,s,u,l=[],h=1;h<=r;h++)for(var f=this._getCircle(t,e,h),p=f.length,d=0;d<p;d++)if(a=f[d][0],o=f[d][1],c=[d?2*d-1:2*p-1,2*p],s=[2*d+1,2*p],i=!this._lightPasses(a,o),(u=this._checkVisibility(c,s,i,l))&&n(a,o,h,u),2==l.length&&0==l[0][0]&&l[1][0]==l[1][1])return}},{key:"_checkVisibility",value:function(t,e,r,n){if(t[0]>e[0])return(this._checkVisibility(t,[t[1],t[1]],r,n)+this._checkVisibility([0,1],e,r,n))/2;for(var a=0,o=!1;a<n.length;){var i=n[a],c=i[0]*t[1]-t[0]*i[1];if(c>=0){0!=c||a%2||(o=!0);break}a++}for(var s=n.length,u=!1;s--;){var l=n[s],h=e[0]*l[1]-l[0]*e[1];if(h>=0){0==h&&s%2&&(u=!0);break}}var f,p=!0;if((a==s&&(o||u)||o&&u&&a+1==s&&s%2||a>s&&a%2)&&(p=!1),!p)return 0;var d=s-a+1;if(d%2)if(a%2){var y=n[a];f=(e[0]*y[1]-y[0]*e[1])/(y[1]*e[1]),r&&n.splice(a,d,e)}else{var g=n[s];f=(g[0]*t[1]-t[0]*g[1])/(t[1]*g[1]),r&&n.splice(a,d,t)}else{if(!(a%2))return r&&n.splice(a,d,t,e),1;var v=n[a],m=n[s];f=(m[0]*v[1]-v[0]*m[1])/(v[1]*m[1]),r&&n.splice(a,d)}return f/((e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]))}}]),r}(ct),lt=[[-1,0,0,1],[0,-1,1,0],[0,-1,-1,0],[-1,0,0,-1],[1,0,0,-1],[0,1,-1,0],[0,1,1,0],[1,0,0,1]],ht=function(t){g(r,t);var e=b(r);function r(){return f(this,r),e.apply(this,arguments)}return d(r,[{key:"compute",value:function(t,e,r,n){n(t,e,0,1);for(var a=0;a<lt.length;a++)this._renderOctant(t,e,lt[a],r,n)}},{key:"compute180",value:function(t,e,r,n,a){a(t,e,0,1);var o=(n-1+8)%8,i=(n-2+8)%8,c=(n+1+8)%8;this._renderOctant(t,e,lt[i],r,a),this._renderOctant(t,e,lt[o],r,a),this._renderOctant(t,e,lt[n],r,a),this._renderOctant(t,e,lt[c],r,a)}},{key:"compute90",value:function(t,e,r,n,a){a(t,e,0,1);var o=(n-1+8)%8;this._renderOctant(t,e,lt[n],r,a),this._renderOctant(t,e,lt[o],r,a)}},{key:"_renderOctant",value:function(t,e,r,n,a){this._castVisibility(t,e,1,1,0,n+1,r[0],r[1],r[2],r[3],a)}},{key:"_castVisibility",value:function(t,e,r,n,a,o,i,c,s,u,l){if(!(n<a))for(var h=r;h<=o;h++){for(var f=-h-1,p=-h,d=!1,y=0;f<=0;){var g=t+(f+=1)*i+p*c,v=e+f*s+p*u,m=(f-.5)/(p+.5),_=(f+.5)/(p-.5);if(!(_>n)){if(m<a)break;if(f*f+p*p<o*o&&l(g,v,h,1),d){if(!this._lightPasses(g,v)){y=_;continue}d=!1,n=y}else!this._lightPasses(g,v)&&h<o&&(d=!0,this._castVisibility(t,e,h+1,n,m,o,i,c,s,u,l),y=_)}}if(d)break}}}]),r}(ct),ft={DiscreteShadowcasting:st,PreciseShadowcasting:ut,RecursiveShadowcasting:ht},pt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;f(this,t),this._width=e,this._height=r}return d(t,[{key:"_fillMap",value:function(t){for(var e=[],r=0;r<this._width;r++){e.push([]);for(var n=0;n<this._height;n++)e[r].push(t)}return e}}]),t}(),dt=function(t){g(r,t);var e=b(r);function r(){return f(this,r),e.apply(this,arguments)}return d(r,[{key:"create",value:function(t){for(var e=this._width-1,r=this._height-1,n=0;n<=e;n++)for(var a=0;a<=r;a++){t(n,a,n&&a&&n<e&&a<r?0:1)}return this}}]),r}(pt),yt=function(t){g(r,t);var e=b(r);function r(t,n){var a;return f(this,r),(a=e.call(this,t,n))._rooms=[],a._corridors=[],a}return d(r,[{key:"getRooms",value:function(){return this._rooms}},{key:"getCorridors",value:function(){return this._corridors}}]),r}(pt),gt=d((function t(){f(this,t)})),vt=function(t){g(r,t);var e=b(r);function r(t,n,a,o,i,c){var s;return f(this,r),(s=e.call(this))._x1=t,s._y1=n,s._x2=a,s._y2=o,s._doors={},void 0!==i&&void 0!==c&&s.addDoor(i,c),s}return d(r,[{key:"addDoor",value:function(t,e){return this._doors[t+","+e]=1,this}},{key:"getDoors",value:function(t){for(var e in this._doors){var r=e.split(",");t(parseInt(r[0]),parseInt(r[1]))}return this}},{key:"clearDoors",value:function(){return this._doors={},this}},{key:"addDoors",value:function(t){for(var e=this._x1-1,r=this._x2+1,n=this._y1-1,a=this._y2+1,o=e;o<=r;o++)for(var i=n;i<=a;i++)o!=e&&o!=r&&i!=n&&i!=a||t(o,i)||this.addDoor(o,i);return this}},{key:"debug",value:function(){console.log("room",this._x1,this._y1,this._x2,this._y2)}},{key:"isValid",value:function(t,e){for(var r=this._x1-1,n=this._x2+1,a=this._y1-1,o=this._y2+1,i=r;i<=n;i++)for(var c=a;c<=o;c++)if(i==r||i==n||c==a||c==o){if(!t(i,c))return!1}else if(!e(i,c))return!1;return!0}},{key:"create",value:function(t){for(var e=this._x1-1,r=this._x2+1,n=this._y1-1,a=this._y2+1,o=e;o<=r;o++)for(var i=n;i<=a;i++)t(o,i,o+","+i in this._doors?2:o==e||o==r||i==n||i==a?1:0)}},{key:"getCenter",value:function(){return[Math.round((this._x1+this._x2)/2),Math.round((this._y1+this._y2)/2)]}},{key:"getLeft",value:function(){return this._x1}},{key:"getRight",value:function(){return this._x2}},{key:"getTop",value:function(){return this._y1}},{key:"getBottom",value:function(){return this._y2}}],[{key:"createRandomAt",value:function(t,e,r,n,a){var o=a.roomWidth[0],i=a.roomWidth[1],c=G.getUniformInt(o,i);o=a.roomHeight[0],i=a.roomHeight[1];var s=G.getUniformInt(o,i);if(1==r){var u=e-Math.floor(G.getUniform()*s);return new this(t+1,u,t+c,u+s-1,t,e)}if(-1==r){var l=e-Math.floor(G.getUniform()*s);return new this(t-c,l,t-1,l+s-1,t,e)}if(1==n){var h=t-Math.floor(G.getUniform()*c);return new this(h,e+1,h+c-1,e+s,t,e)}if(-1==n){var f=t-Math.floor(G.getUniform()*c);return new this(f,e-s,f+c-1,e-1,t,e)}throw new Error("dx or dy must be 1 or -1")}},{key:"createRandomCenter",value:function(t,e,r){var n=r.roomWidth[0],a=r.roomWidth[1],o=G.getUniformInt(n,a);n=r.roomHeight[0],a=r.roomHeight[1];var i=G.getUniformInt(n,a),c=t-Math.floor(G.getUniform()*o),s=e-Math.floor(G.getUniform()*i);return new this(c,s,c+o-1,s+i-1)}},{key:"createRandom",value:function(t,e,r){var n=r.roomWidth[0],a=r.roomWidth[1],o=G.getUniformInt(n,a);n=r.roomHeight[0],a=r.roomHeight[1];var i=G.getUniformInt(n,a),c=t-o-1,s=e-i-1,u=1+Math.floor(G.getUniform()*c),l=1+Math.floor(G.getUniform()*s);return new this(u,l,u+o-1,l+i-1)}}]),r}(gt),mt=function(t){g(r,t);var e=b(r);function r(t,n,a,o){var i;return f(this,r),(i=e.call(this))._startX=t,i._startY=n,i._endX=a,i._endY=o,i._endsWithAWall=!0,i}return d(r,[{key:"debug",value:function(){console.log("corridor",this._startX,this._startY,this._endX,this._endY)}},{key:"isValid",value:function(t,e){var r=this._startX,n=this._startY,a=this._endX-r,o=this._endY-n,i=1+Math.max(Math.abs(a),Math.abs(o));a&&(a/=Math.abs(a)),o&&(o/=Math.abs(o));for(var c=o,s=-a,u=!0,l=0;l<i;l++){var h=r+l*a,f=n+l*o;if(e(h,f)||(u=!1),t(h+c,f+s)||(u=!1),t(h-c,f-s)||(u=!1),!u){i=l,this._endX=h-a,this._endY=f-o;break}}if(0==i)return!1;if(1==i&&t(this._endX+a,this._endY+o))return!1;var p=!t(this._endX+a+c,this._endY+o+s),d=!t(this._endX+a-c,this._endY+o-s);return this._endsWithAWall=t(this._endX+a,this._endY+o),!p&&!d||!this._endsWithAWall}},{key:"create",value:function(t){var e=this._startX,r=this._startY,n=this._endX-e,a=this._endY-r,o=1+Math.max(Math.abs(n),Math.abs(a));n&&(n/=Math.abs(n)),a&&(a/=Math.abs(a));for(var i=0;i<o;i++){t(e+i*n,r+i*a,0)}return!0}},{key:"createPriorityWalls",value:function(t){if(this._endsWithAWall){var e=this._startX,r=this._startY,n=this._endX-e,a=this._endY-r;n&&(n/=Math.abs(n)),a&&(a/=Math.abs(a));var o=a,i=-n;t(this._endX+n,this._endY+a),t(this._endX+o,this._endY+i),t(this._endX-o,this._endY-i)}}}],[{key:"createRandomAt",value:function(t,e,r,n,a){var o=a.corridorLength[0],i=a.corridorLength[1],c=G.getUniformInt(o,i);return new this(t,e,t+r*c,e+n*c)}}]),r}(gt),_t=function(t){g(r,t);var e=b(r);function r(t,n,a){var o;return f(this,r),(o=e.call(this,t,n))._options={roomWidth:[3,9],roomHeight:[3,5],roomDugPercentage:.1,timeLimit:1e3},Object.assign(o._options,a),o._map=[],o._dug=0,o._roomAttempts=20,o._corridorAttempts=20,o._connected=[],o._unconnected=[],o._digCallback=o._digCallback.bind(m(o)),o._canBeDugCallback=o._canBeDugCallback.bind(m(o)),o._isWallCallback=o._isWallCallback.bind(m(o)),o}return d(r,[{key:"create",value:function(t){for(var e=Date.now();;){if(Date.now()-e>this._options.timeLimit)return null;if(this._map=this._fillMap(1),this._dug=0,this._rooms=[],this._unconnected=[],this._generateRooms(),!(this._rooms.length<2)&&this._generateCorridors())break}if(t)for(var r=0;r<this._width;r++)for(var n=0;n<this._height;n++)t(r,n,this._map[r][n]);return this}},{key:"_generateRooms",value:function(){var t,e=this._width-2,r=this._height-2;do{if(t=this._generateRoom(),this._dug/(e*r)>this._options.roomDugPercentage)break}while(t)}},{key:"_generateRoom",value:function(){for(var t=0;t<this._roomAttempts;){t++;var e=vt.createRandom(this._width,this._height,this._options);if(e.isValid(this._isWallCallback,this._canBeDugCallback))return e.create(this._digCallback),this._rooms.push(e),e}return null}},{key:"_generateCorridors",value:function(){for(var t=0;t<this._corridorAttempts;){t++,this._corridors=[],this._map=this._fillMap(1);for(var e=0;e<this._rooms.length;e++){var r=this._rooms[e];r.clearDoors(),r.create(this._digCallback)}for(this._unconnected=G.shuffle(this._rooms.slice()),this._connected=[],this._unconnected.length&&this._connected.push(this._unconnected.pop());;){var n=G.getItem(this._connected);if(!n)break;var a=this._closestRoom(this._unconnected,n);if(!a)break;var o=this._closestRoom(this._connected,a);if(!o)break;if(!this._connectRooms(a,o))break;if(!this._unconnected.length)return!0}}return!1}},{key:"_closestRoom",value:function(t,e){for(var r=1/0,n=e.getCenter(),a=null,o=0;o<t.length;o++){var i=t[o],c=i.getCenter(),s=c[0]-n[0],u=c[1]-n[1],l=s*s+u*u;l<r&&(r=l,a=i)}return a}},{key:"_connectRooms",value:function(t,e){var r,n,a,o,i,c,s,u=t.getCenter(),l=e.getCenter(),h=l[0]-u[0],f=l[1]-u[1];if(Math.abs(h)<Math.abs(f)?(o=((a=f>0?2:0)+2)%4,i=e.getLeft(),c=e.getRight(),s=0):(o=((a=h>0?1:3)+2)%4,i=e.getTop(),c=e.getBottom(),s=1),!(r=this._placeInWall(t,a)))return!1;if(r[s]>=i&&r[s]<=c){n=r.slice();var p=0;switch(o){case 0:p=e.getTop()-1;break;case 1:p=e.getRight()+1;break;case 2:p=e.getBottom()+1;break;case 3:p=e.getLeft()-1}n[(s+1)%2]=p,this._digLine([r,n])}else if(r[s]<i-1||r[s]>c+1){var d=r[s]-l[s],y=0;switch(o){case 0:case 1:y=d<0?3:1;break;case 2:case 3:y=d<0?1:3}if(o=(o+y)%4,!(n=this._placeInWall(e,o)))return!1;var g=[0,0];g[s]=r[s];var v=(s+1)%2;g[v]=n[v],this._digLine([r,g,n])}else{var m=(s+1)%2;if(!(n=this._placeInWall(e,o)))return!1;var _=Math.round((n[m]+r[m])/2),b=[0,0],O=[0,0];b[s]=r[s],b[m]=_,O[s]=n[s],O[m]=_,this._digLine([r,b,O,n])}return t.addDoor(r[0],r[1]),e.addDoor(n[0],n[1]),-1!=(s=this._unconnected.indexOf(t))&&(this._unconnected.splice(s,1),this._connected.push(t)),-1!=(s=this._unconnected.indexOf(e))&&(this._unconnected.splice(s,1),this._connected.push(e)),!0}},{key:"_placeInWall",value:function(t,e){var r=[0,0],n=[0,0],a=0;switch(e){case 0:n=[1,0],r=[t.getLeft(),t.getTop()-1],a=t.getRight()-t.getLeft()+1;break;case 1:n=[0,1],r=[t.getRight()+1,t.getTop()],a=t.getBottom()-t.getTop()+1;break;case 2:n=[1,0],r=[t.getLeft(),t.getBottom()+1],a=t.getRight()-t.getLeft()+1;break;case 3:n=[0,1],r=[t.getLeft()-1,t.getTop()],a=t.getBottom()-t.getTop()+1}for(var o=[],i=-2,c=0;c<a;c++){var s=r[0]+c*n[0],u=r[1]+c*n[1];o.push(null),1==this._map[s][u]?i!=c-1&&(o[c]=[s,u]):(i=c,c&&(o[c-1]=null))}for(var l=o.length-1;l>=0;l--)o[l]||o.splice(l,1);return o.length?G.getItem(o):null}},{key:"_digLine",value:function(t){for(var e=1;e<t.length;e++){var r=t[e-1],n=t[e],a=new mt(r[0],r[1],n[0],n[1]);a.create(this._digCallback),this._corridors.push(a)}}},{key:"_digCallback",value:function(t,e,r){this._map[t][e]=r,0==r&&this._dug++}},{key:"_isWallCallback",value:function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}},{key:"_canBeDugCallback",value:function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}}]),r}(yt),bt=function(t){g(r,t);var e=b(r);function r(t,n){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(this,r),(a=e.call(this,t,n))._options={born:[5,6,7,8],survive:[4,5,6,7,8],topology:8},a.setOptions(o),a._dirs=nt[a._options.topology],a._map=a._fillMap(0),a}return d(r,[{key:"randomize",value:function(t){for(var e=0;e<this._width;e++)for(var r=0;r<this._height;r++)this._map[e][r]=G.getUniform()<t?1:0;return this}},{key:"setOptions",value:function(t){Object.assign(this._options,t)}},{key:"set",value:function(t,e,r){this._map[t][e]=r}},{key:"create",value:function(t){for(var e=this._fillMap(0),r=this._options.born,n=this._options.survive,a=0;a<this._height;a++){var o=1,i=0;6==this._options.topology&&(o=2,i=a%2);for(var c=i;c<this._width;c+=o){var s=this._map[c][a],u=this._getNeighbors(c,a);s&&-1!=n.indexOf(u)?e[c][a]=1:s||-1==r.indexOf(u)||(e[c][a]=1)}}this._map=e,t&&this._serviceCallback(t)}},{key:"_serviceCallback",value:function(t){for(var e=0;e<this._height;e++){var r=1,n=0;6==this._options.topology&&(r=2,n=e%2);for(var a=n;a<this._width;a+=r)t(a,e,this._map[a][e])}}},{key:"_getNeighbors",value:function(t,e){for(var r=0,n=0;n<this._dirs.length;n++){var a=this._dirs[n],o=t+a[0],i=e+a[1];o<0||o>=this._width||i<0||i>=this._height||(r+=1==this._map[o][i]?1:0)}return r}},{key:"connect",value:function(t,e,r){e||(e=0);var n=[],a={},o=1,i=[0,0];6==this._options.topology&&(o=2,i=[0,1]);for(var c=0;c<this._height;c++)for(var s=i[c%2];s<this._width;s+=o)if(this._freeSpace(s,c,e)){var u=[s,c];a[this._pointKey(u)]=u,n.push([s,c])}var l=n[G.getUniformInt(0,n.length-1)],h=this._pointKey(l),f={};for(f[h]=l,delete a[h],this._findConnected(f,a,[l],!1,e);Object.keys(a).length>0;){var p=this._getFromTo(f,a),d=p[0],y=p[1],g={};g[this._pointKey(d)]=d,this._findConnected(g,a,[d],!0,e);var v=6==this._options.topology?this._tunnelToConnected6:this._tunnelToConnected;for(var m in v.call(this,y,d,f,a,e,r),g){var _=g[m];this._map[_[0]][_[1]]=e,f[m]=_,delete a[m]}}t&&this._serviceCallback(t)}},{key:"_getFromTo",value:function(t,e){for(var r=[0,0],n=[0,0],a=Object.keys(t),o=Object.keys(e),i=0;i<5;i++){if(a.length<o.length){var c=a;n=t[c[G.getUniformInt(0,c.length-1)]],r=this._getClosest(n,e)}else{var s=o;r=e[s[G.getUniformInt(0,s.length-1)]],n=this._getClosest(r,t)}if((r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1])<64)break}return[r,n]}},{key:"_getClosest",value:function(t,e){var r=null,n=null;for(var a in e){var o=e[a],i=(o[0]-t[0])*(o[0]-t[0])+(o[1]-t[1])*(o[1]-t[1]);(null==n||i<n)&&(n=i,r=o)}return r}},{key:"_findConnected",value:function(t,e,r,n,a){for(;r.length>0;){var o=r.splice(0,1)[0],i=void 0;i=6==this._options.topology?[[o[0]+2,o[1]],[o[0]+1,o[1]-1],[o[0]-1,o[1]-1],[o[0]-2,o[1]],[o[0]-1,o[1]+1],[o[0]+1,o[1]+1]]:[[o[0]+1,o[1]],[o[0]-1,o[1]],[o[0],o[1]+1],[o[0],o[1]-1]];for(var c=0;c<i.length;c++){var s=this._pointKey(i[c]);null==t[s]&&this._freeSpace(i[c][0],i[c][1],a)&&(t[s]=i[c],n||delete e[s],r.push(i[c]))}}}},{key:"_tunnelToConnected",value:function(t,e,r,n,a,o){var i,c;e[0]<t[0]?(i=e,c=t):(i=t,c=e);for(var s=i[0];s<=c[0];s++){this._map[s][i[1]]=a;var u=[s,i[1]],l=this._pointKey(u);r[l]=u,delete n[l]}o&&i[0]<c[0]&&o(i,[c[0],i[1]]);var h=c[0];e[1]<t[1]?(i=e,c=t):(i=t,c=e);for(var f=i[1];f<c[1];f++){this._map[h][f]=a;var p=[h,f],d=this._pointKey(p);r[d]=p,delete n[d]}o&&i[1]<c[1]&&o([c[0],i[1]],[c[0],c[1]])}},{key:"_tunnelToConnected6",value:function(t,e,r,n,a,o){var i,c;e[0]<t[0]?(i=e,c=t):(i=t,c=e);for(var s=i[0],u=i[1];s!=c[0]||u!=c[1];){var l=2;u<c[1]?(u++,l=1):u>c[1]&&(u--,l=1),s<c[0]?s+=l:s>c[0]||c[1]%2?s-=l:s+=l,this._map[s][u]=a;var h=[s,u],f=this._pointKey(h);r[f]=h,delete n[f]}o&&o(e,t)}},{key:"_freeSpace",value:function(t,e,r){return t>=0&&t<this._width&&e>=0&&e<this._height&&this._map[t][e]==r}},{key:"_pointKey",value:function(t){return t[0]+"."+t[1]}}]),r}(pt),Ot={room:vt,corridor:mt},wt=function(t){g(r,t);var e=b(r);function r(t,n){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(this,r),(a=e.call(this,t,n))._options=Object.assign({roomWidth:[3,9],roomHeight:[3,5],corridorLength:[3,10],dugPercentage:.2,timeLimit:1e3},o),a._features={room:4,corridor:4},a._map=[],a._featureAttempts=20,a._walls={},a._dug=0,a._digCallback=a._digCallback.bind(m(a)),a._canBeDugCallback=a._canBeDugCallback.bind(m(a)),a._isWallCallback=a._isWallCallback.bind(m(a)),a._priorityWallCallback=a._priorityWallCallback.bind(m(a)),a}return d(r,[{key:"create",value:function(t){this._rooms=[],this._corridors=[],this._map=this._fillMap(1),this._walls={},this._dug=0;var e=(this._width-2)*(this._height-2);this._firstRoom();var r,n=Date.now();do{if(r=0,Date.now()-n>this._options.timeLimit)break;var a=this._findWall();if(!a)break;var o=a.split(","),i=parseInt(o[0]),c=parseInt(o[1]),s=this._getDiggingDirection(i,c);if(s){var u=0;do{if(u++,this._tryFeature(i,c,s[0],s[1])){this._removeSurroundingWalls(i,c),this._removeSurroundingWalls(i-s[0],c-s[1]);break}}while(u<this._featureAttempts);for(var l in this._walls)this._walls[l]>1&&r++}}while(this._dug/e<this._options.dugPercentage||r);if(this._addDoors(),t)for(var h=0;h<this._width;h++)for(var f=0;f<this._height;f++)t(h,f,this._map[h][f]);return this._walls={},this._map=[],this}},{key:"_digCallback",value:function(t,e,r){0==r||2==r?(this._map[t][e]=0,this._dug++):this._walls[t+","+e]=1}},{key:"_isWallCallback",value:function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}},{key:"_canBeDugCallback",value:function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}},{key:"_priorityWallCallback",value:function(t,e){this._walls[t+","+e]=2}},{key:"_firstRoom",value:function(){var t=Math.floor(this._width/2),e=Math.floor(this._height/2),r=vt.createRandomCenter(t,e,this._options);this._rooms.push(r),r.create(this._digCallback)}},{key:"_findWall",value:function(){var t=[],e=[];for(var r in this._walls){2==this._walls[r]?e.push(r):t.push(r)}var n=e.length?e:t;if(!n.length)return null;var a=G.getItem(n.sort());return delete this._walls[a],a}},{key:"_tryFeature",value:function(t,e,r,n){var a=G.getWeightedValue(this._features),o=Ot[a].createRandomAt(t,e,r,n,this._options);return!!o.isValid(this._isWallCallback,this._canBeDugCallback)&&(o.create(this._digCallback),o instanceof vt&&this._rooms.push(o),o instanceof mt&&(o.createPriorityWalls(this._priorityWallCallback),this._corridors.push(o)),!0)}},{key:"_removeSurroundingWalls",value:function(t,e){for(var r=nt[4],n=0;n<r.length;n++){var a=r[n],o=t+a[0],i=e+a[1];delete this._walls[o+","+i],o=t+2*a[0],i=e+2*a[1],delete this._walls[o+","+i]}}},{key:"_getDiggingDirection",value:function(t,e){if(t<=0||e<=0||t>=this._width-1||e>=this._height-1)return null;for(var r=null,n=nt[4],a=0;a<n.length;a++){var o=n[a],i=t+o[0],c=e+o[1];if(!this._map[i][c]){if(r)return null;r=o}}return r?[-r[0],-r[1]]:null}},{key:"_addDoors",value:function(){var t=this._map;function e(e,r){return 1==t[e][r]}for(var r=0;r<this._rooms.length;r++){var n=this._rooms[r];n.clearDoors(),n.addDoors(e)}}}]),r}(yt);function kt(t,e,r){r[e[t+1]]=r[t],e[r[t]]=e[t+1],r[t]=t+1,e[t+1]=t}function xt(t,e,r){r[e[t]]=r[t],e[r[t]]=e[t],r[t]=t,e[t]=t}var Rt=function(t){g(r,t);var e=b(r);function r(){return f(this,r),e.apply(this,arguments)}return d(r,[{key:"create",value:function(t){for(var e,r=this._fillMap(1),n=Math.ceil((this._width-2)/2),a=9/24,o=[],i=[],c=0;c<n;c++)o.push(c),i.push(c);for(o.push(n-1),e=1;e+3<this._height;e+=2)for(var s=0;s<n;s++){var u=2*s+1,l=e;r[u][l]=0,s!=o[s+1]&&G.getUniform()>a&&(kt(s,o,i),r[u+1][l]=0),s!=o[s]&&G.getUniform()>a?xt(s,o,i):r[u][l+1]=0}for(var h=0;h<n;h++){var f=2*h+1,p=e;r[f][p]=0,h!=o[h+1]&&(h==o[h]||G.getUniform()>a)&&(kt(h,o,i),r[f+1][p]=0),xt(h,o,i)}for(var d=0;d<this._width;d++)for(var y=0;y<this._height;y++)t(d,y,r[d][y]);return this}}]),r}(pt),At=function(t){g(r,t);var e=b(r);function r(){var t;return f(this,r),(t=e.apply(this,arguments))._stack=[],t._map=[],t}return d(r,[{key:"create",value:function(t){var e=this._width,r=this._height;this._map=[];for(var n=0;n<e;n++){this._map.push([]);for(var a=0;a<r;a++){var o=0==n||0==a||n+1==e||a+1==r;this._map[n].push(o?1:0)}}this._stack=[[1,1,e-2,r-2]],this._process();for(var i=0;i<e;i++)for(var c=0;c<r;c++)t(i,c,this._map[i][c]);return this._map=[],this}},{key:"_process",value:function(){for(;this._stack.length;){var t=this._stack.shift();this._partitionRoom(t)}}},{key:"_partitionRoom",value:function(t){for(var e=[],r=[],n=t[0]+1;n<t[2];n++){var a=this._map[n][t[1]-1],o=this._map[n][t[3]+1];!a||!o||n%2||e.push(n)}for(var i=t[1]+1;i<t[3];i++){var c=this._map[t[0]-1][i],s=this._map[t[2]+1][i];!c||!s||i%2||r.push(i)}if(e.length&&r.length){var u=G.getItem(e),l=G.getItem(r);this._map[u][l]=1;var h=[],f=[];h.push(f);for(var p=t[0];p<u;p++)this._map[p][l]=1,f.push([p,l]);f=[],h.push(f);for(var d=u+1;d<=t[2];d++)this._map[d][l]=1,f.push([d,l]);f=[],h.push(f);for(var y=t[1];y<l;y++)this._map[u][y]=1,f.push([u,y]);f=[],h.push(f);for(var g=l+1;g<=t[3];g++)this._map[u][g]=1,f.push([u,g]);for(var v=G.getItem(h),m=0;m<h.length;m++){var _=h[m];if(_!=v){var b=G.getItem(_);this._map[b[0]][b[1]]=0}}this._stack.push([t[0],t[1],u-1,l-1]),this._stack.push([u+1,t[1],t[2],l-1]),this._stack.push([t[0],l+1,u-1,t[3]]),this._stack.push([u+1,l+1,t[2],t[3]])}}}]),r}(pt),Et=function(t){g(r,t);var e=b(r);function r(t,n){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f(this,r),(a=e.call(this,t,n))._regularity=o,a._map=[],a}return d(r,[{key:"create",value:function(t){var e=this._width,r=this._height,n=this._fillMap(1);e-=e%2?1:2,r-=r%2?1:2;var a=0,o=0,i=0,c=0,s=0,u=!1,l=[[0,0],[0,0],[0,0],[0,0]];do{if(a=1+2*Math.floor(G.getUniform()*(e-1)/2),o=1+2*Math.floor(G.getUniform()*(r-1)/2),s||(n[a][o]=0),!n[a][o]){this._randomize(l);do{0==Math.floor(G.getUniform()*(this._regularity+1))&&this._randomize(l),u=!0;for(var h=0;h<4;h++)if(i=a+2*l[h][0],c=o+2*l[h][1],this._isFree(n,i,c,e,r)){n[i][c]=0,n[a+l[h][0]][o+l[h][1]]=0,a=i,o=c,u=!1,s++;break}}while(!u)}}while(s+1<e*r/4);for(var f=0;f<this._width;f++)for(var p=0;p<this._height;p++)t(f,p,n[f][p]);return this._map=[],this}},{key:"_randomize",value:function(t){for(var e=0;e<4;e++)t[e][0]=0,t[e][1]=0;switch(Math.floor(4*G.getUniform())){case 0:t[0][0]=-1,t[1][0]=1,t[2][1]=-1,t[3][1]=1;break;case 1:t[3][0]=-1,t[2][0]=1,t[1][1]=-1,t[0][1]=1;break;case 2:t[2][0]=-1,t[3][0]=1,t[0][1]=-1,t[1][1]=1;break;case 3:t[1][0]=-1,t[0][0]=1,t[3][1]=-1,t[2][1]=1}}},{key:"_isFree",value:function(t,e,r,n,a){return!(e<1||r<1||e>=n||r>=a)&&t[e][r]}}]),r}(pt),St=function(t){g(r,t);var e=b(r);function r(t,n,a){var o;return f(this,r),(o=e.call(this,t,n)).map=[],o.rooms=[],o.connectedCells=[],(a=Object.assign({cellWidth:3,cellHeight:3},a)).hasOwnProperty("roomWidth")||(a.roomWidth=o._calculateRoomSize(o._width,a.cellWidth)),a.hasOwnProperty("roomHeight")||(a.roomHeight=o._calculateRoomSize(o._height,a.cellHeight)),o._options=a,o}return d(r,[{key:"create",value:function(t){if(this.map=this._fillMap(1),this.rooms=[],this.connectedCells=[],this._initRooms(),this._connectRooms(),this._connectUnconnectedRooms(),this._createRandomRoomConnections(),this._createRooms(),this._createCorridors(),t)for(var e=0;e<this._width;e++)for(var r=0;r<this._height;r++)t(e,r,this.map[e][r]);return this}},{key:"_calculateRoomSize",value:function(t,e){var r=Math.floor(t/e*.8),n=Math.floor(t/e*.25);return n<2&&(n=2),r<2&&(r=2),[n,r]}},{key:"_initRooms",value:function(){for(var t=0;t<this._options.cellWidth;t++){this.rooms.push([]);for(var e=0;e<this._options.cellHeight;e++)this.rooms[t].push({x:0,y:0,width:0,height:0,connections:[],cellx:t,celly:e})}}},{key:"_connectRooms",value:function(){var t,e,r,n,a,o,i=G.getUniformInt(0,this._options.cellWidth-1),c=G.getUniformInt(0,this._options.cellHeight-1),s=!1;do{o=[0,2,4,6],o=G.shuffle(o);do{if(s=!1,t=o.pop(),e=i+nt[8][t][0],r=c+nt[8][t][1],!(e<0||e>=this._options.cellWidth)&&!(r<0||r>=this._options.cellHeight)){if((n=this.rooms[i][c]).connections.length>0&&n.connections[0][0]==e&&n.connections[0][1]==r)break;0==(a=this.rooms[e][r]).connections.length&&(a.connections.push([i,c]),this.connectedCells.push([e,r]),i=e,c=r,s=!0)}}while(o.length>0&&0==s)}while(o.length>0)}},{key:"_connectUnconnectedRooms",value:function(){var t,e,r,n=this._options.cellWidth,a=this._options.cellHeight;this.connectedCells=G.shuffle(this.connectedCells);for(var o=0;o<this._options.cellWidth;o++)for(var i=0;i<this._options.cellHeight;i++)if(0==(t=this.rooms[o][i]).connections.length){var c=[0,2,4,6];c=G.shuffle(c),r=!1;do{var s=c.pop(),u=o+nt[8][s][0],l=i+nt[8][s][1];if(!(u<0||u>=n||l<0||l>=a)){if(r=!0,0==(e=this.rooms[u][l]).connections.length)break;for(var h=0;h<e.connections.length;h++)if(e.connections[h][0]==o&&e.connections[h][1]==i){r=!1;break}if(r)break}}while(c.length);r?t.connections.push([e.cellx,e.celly]):console.log("-- Unable to connect room.")}}},{key:"_createRandomRoomConnections",value:function(){}},{key:"_createRooms",value:function(){for(var t,e,r,n,a,o=this._width,i=this._height,c=this._options.cellWidth,s=this._options.cellHeight,u=Math.floor(this._width/c),l=Math.floor(this._height/s),h=this._options.roomWidth,f=this._options.roomHeight,p=0;p<c;p++)for(var d=0;d<s;d++){if(0==(r=u*p)&&(r=1),0==(n=l*d)&&(n=1),t=G.getUniformInt(h[0],h[1]),e=G.getUniformInt(f[0],f[1]),d>0)for(a=this.rooms[p][d-1];n-(a.y+a.height)<3;)n++;if(p>0)for(a=this.rooms[p-1][d];r-(a.x+a.width)<3;)r++;for(var y=Math.round(G.getUniformInt(0,u-t)/2),g=Math.round(G.getUniformInt(0,l-e)/2);r+y+t>=o;)y?y--:t--;for(;n+g+e>=i;)g?g--:e--;r+=y,n+=g,this.rooms[p][d].x=r,this.rooms[p][d].y=n,this.rooms[p][d].width=t,this.rooms[p][d].height=e;for(var v=r;v<r+t;v++)for(var m=n;m<n+e;m++)this.map[v][m]=0}}},{key:"_getWallPosition",value:function(t,e){var r,n,a;return 1==e||3==e?(r=G.getUniformInt(t.x+1,t.x+t.width-2),a=1==e?(n=t.y-2)+1:(n=t.y+t.height+1)-1,this.map[r][a]=0):(n=G.getUniformInt(t.y+1,t.y+t.height-2),a=2==e?(r=t.x+t.width+1)-1:(r=t.x-2)+1,this.map[a][n]=0),[r,n]}},{key:"_drawCorridor",value:function(t,e){var r,n,a,o,i=e[0]-t[0],c=e[1]-t[1],s=t[0],u=t[1],l=[],h=Math.abs(i),f=Math.abs(c),p=G.getUniform(),d=p,y=1-p;for(n=i>0?2:6,a=c>0?4:0,h<f?(r=Math.ceil(f*d),l.push([a,r]),l.push([n,h]),r=Math.floor(f*y),l.push([a,r])):(r=Math.ceil(h*d),l.push([n,r]),l.push([a,f]),r=Math.floor(h*y),l.push([n,r])),this.map[s][u]=0;l.length>0;)for(o=l.pop();o[1]>0;)s+=nt[8][o[0]][0],u+=nt[8][o[0]][1],this.map[s][u]=0,o[1]=o[1]-1}},{key:"_createCorridors",value:function(){for(var t,e,r,n,a,o=this._options.cellWidth,i=this._options.cellHeight,c=0;c<o;c++)for(var s=0;s<i;s++){t=this.rooms[c][s];for(var u=0;u<t.connections.length;u++)e=t.connections[u],(r=this.rooms[e[0]][e[1]]).cellx>t.cellx?(n=2,a=4):r.cellx<t.cellx?(n=4,a=2):r.celly>t.celly?(n=3,a=1):(n=1,a=3),this._drawCorridor(this._getWallPosition(t,n),this._getWallPosition(r,a))}}}]),r}(pt),Ct={Arena:dt,Uniform:_t,Cellular:bt,Digger:wt,EllerMaze:Rt,DividedMaze:At,IceyMaze:Et,Rogue:St},Lt=(Math.sqrt(3),Math.sqrt(3),function(){function t(e,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};f(this,t),this._toX=e,this._toY=r,this._passableCallback=n,this._options=Object.assign({topology:8},a),this._dirs=nt[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])}return d(t,[{key:"_getNeighbors",value:function(t,e){for(var r=[],n=0;n<this._dirs.length;n++){var a=this._dirs[n],o=t+a[0],i=e+a[1];this._passableCallback(o,i)&&r.push([o,i])}return r}}]),t}()),Dt=function(t){g(r,t);var e=b(r);function r(t,n,a,o){var i;return f(this,r),(i=e.call(this,t,n,a,o))._computed={},i._todo=[],i._add(t,n,null),i}return d(r,[{key:"compute",value:function(t,e,r){var n=t+","+e;if(n in this._computed||this._compute(t,e),n in this._computed)for(var a=this._computed[n];a;)r(a.x,a.y),a=a.prev}},{key:"_compute",value:function(t,e){for(;this._todo.length;){var r=this._todo.shift();if(r.x==t&&r.y==e)return;for(var n=this._getNeighbors(r.x,r.y),a=0;a<n.length;a++){var o=n[a],i=o[0],c=o[1];i+","+c in this._computed||this._add(i,c,r)}}}},{key:"_add",value:function(t,e,r){var n={x:t,y:e,prev:r};this._computed[t+","+e]=n,this._todo.push(n)}}]),r}(Lt),Tt=function(t){g(r,t);var e=b(r);function r(t,n,a){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return f(this,r),(o=e.call(this,t,n,a,i))._todo=[],o._done={},o}return d(r,[{key:"compute",value:function(t,e,r){for(this._todo=[],this._done={},this._fromX=t,this._fromY=e,this._add(this._toX,this._toY,null);this._todo.length;){var n=this._todo.shift(),a=n.x+","+n.y;if(!(a in this._done)){if(this._done[a]=n,n.x==t&&n.y==e)break;for(var o=this._getNeighbors(n.x,n.y),i=0;i<o.length;i++){var c=o[i],s=c[0],u=c[1];s+","+u in this._done||this._add(s,u,n)}}}var l=this._done[t+","+e];if(l)for(;l;)r(l.x,l.y),l=l.prev}},{key:"_add",value:function(t,e,r){for(var n=this._distance(t,e),a={x:t,y:e,prev:r,g:r?r.g+1:0,h:n},o=a.g+a.h,i=0;i<this._todo.length;i++){var c=this._todo[i],s=c.g+c.h;if(o<s||o==s&&n<c.h)return void this._todo.splice(i,0,a)}this._todo.push(a)}},{key:"_distance",value:function(t,e){switch(this._options.topology){case 4:return Math.abs(t-this._fromX)+Math.abs(e-this._fromY);case 6:var r=Math.abs(t-this._fromX),n=Math.abs(e-this._fromY);return n+Math.max(0,(r-n)/2);case 8:return Math.max(Math.abs(t-this._fromX),Math.abs(e-this._fromY))}}}]),r}(Lt),Nt={Dijkstra:Dt,AStar:Tt},Pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(!(t<=0))return new Promise((function(e){return setTimeout(e,t)}))},Gt=function(t){return T(Array(t).keys())},Ut=function(t,e,r){return Math.min(Math.max(t,e),r)},It=function(t){return t[Math.floor(Math.random()*t.length)]};function Mt(t,e){var r=T(e),n=[];return Gt(t).forEach((function(){var t=Math.floor(Math.random()*r.length),e=r.splice(t,1);n=n.concat(e)})),n}var Ft=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},Wt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},jt=function(t,e){return t.x===e.x&&t.y===e.y},Bt=function(t){return t&&"".concat(t.x,",").concat(t.y)},zt=function(t){var e=t.split(",");return{x:parseInt(e[0]),y:parseInt(e[1])}},Ht=function(t){return function(e,r){var n=t.map[e+","+r];return!!n&&t.tileKey[n.type].passable}},Vt=function(t,e){return t.map[Bt(e)]},qt=function(t,e){return function(r,n){var a=t.map[r+","+n];if(a){var o=t.tileKey[a.type].passable;if(a.entities.length&&!jt(e,{x:r,y:n})){var i=a.entities.every((function(t){return t.passable}));return o&&i}return o}return!1}},Kt=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ht,o=(t.map,a(t)),i=new Nt.AStar(e.x,e.y,o,{topology:n}),c=[];return i.compute(r.x,r.y,(function(t,e){c.push({x:t,y:e})})),c.slice(1)},Xt=function(t,e,r){return Kt(t,r,e,8,(function(){return function(){return!0}}))},Yt=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;return Kt(t,e,r,n,(function(t){return qt(t,r)}))},Zt=function(t,e){for(var r=[],n=$t(t,e),a=0;a<n;a++){var o=0===n?0:a/n;r.push(Qt(Jt(t,e,o)))}return r},$t=function(t,e){var r=e.x-t.x,n=e.y-t.y;return Math.max(Math.abs(r),Math.abs(n))},Qt=function(t){return{x:Math.round(t.x),y:Math.round(t.y)}},Jt=function(t,e,r){return{x:te(t.x,e.x,r),y:te(t.y,e.y,r)}},te=function(t,e,r){return t+r*(e-t)},ee=function(t,e){return{x:t.x+e[0],y:t.y+e[1]}},re=function(t,e,r,n,a){return Kt(t,e,r,n).slice(0,a+1)},ne=function(t){var e=Object.keys(t),r=It(e).split(",");return{coordinates:{x:parseInt(r[0]),y:parseInt(r[1])},text:r}},ae=function(t){return t.filter((function(t){return t.hasOwnProperty("durability")}))},oe=function(t,e){return t.filter((function(t){return t.entityTypes.includes(e)}))},ie=function(t){var e=t.game,r=t.position;return Vt(e,r).entities},ce=function(t){return 2/3*(Math.pow(t,3)-9*Math.pow(t,2)+32*t-18)},se=function(t,e){return[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}].map((function(r){var n={x:e.x+r.x,y:e.y+r.y},a=t[Bt(n)];if(a)return a})).filter((function(t){return Boolean(t)}))},ue=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=ce(r),a=[],o=0;o<n;o++){var i=Math.round(t+Math.cos(2*Math.PI/n*o)*r),c=Math.round(e+Math.sin(2*Math.PI/n*o)*r);a.push({x:i,y:c})}return a},le=function(t,e){for(var r=[],n=t.x-e;n<t.x+e;n++)for(var a=Math.floor(e*Math.sin(Math.acos((t.x-n)/e))),o=t.y-a+1;o<t.y+a;o++)r.push({x:n,y:o});return r},he=function(t,e){return t.positions.map((function(r){return{x:e.x+r.x+t.x_offset,y:e.y+r.y+t.y_offset}}))},fe={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1}},pe=function(t,e,r){return t=t.substr(1).match(/.{1,2}/g).map((function(t){return parseInt(t,16)*(1-r)})),e=e.substr(1).match(/.{1,2}/g).map((function(t){return parseInt(t,16)*r})),"#"+[0,1,2].map((function(r){return Math.min(Math.round(t[r]+e[r]),255)})).reduce((function(t,e){return(t<<8)+e}),0).toString(16).padStart(6,"0")},de=r(146),ye=r.n(de),ge=r(871),ve=r(7669),me=r.n(ve),_e=r(763),be=100,Oe="#424242",we="#606b79",ke="#B7C3CD",xe="#CED5DD",Re="#E16264",Ae={NARUTO:{gaara:"#603030",rock_lee:"#155859"},SOLARIZED:{main:"#002b36",text:"#eee8d5",accent:"#6c71c4",base03:"#002b36",base02:"#073642",base01:"#586e75",base00:"#657b83",base0:"#839496",base1:"#93a1a1",base2:"#eee8d5",base3:"#fdf6e3",yellow:"#b58900",orange:"#cb4b16",red:"#dc322f",magenta:"#d33682",violet:"#6c71c4",blue:"#268bd2",cyan:"#2aa198",green:"#859900"},JACINTO:{base1:"#0B0B0Bff",base2:"#5A7178ff",base3:"#B6ACA3ff",base4:"#EDF6F1ff",cog1:"#2d5fc9",cog2:"#18c0f8",cog3:"#86C8E4ff",locust1:"#96641Dff",locust2:"#F89339ff",locust3:"#E7C898ff",flesh1:"#833139ff",flesh2:"#CC7468ff",flesh3:"#DDA78Fff",gray:"#6D7886ff",red:"#C7141Cff",yellow:"#b58900",green:"#859900"}},Ee="Helpless Citizen",Se="Fire Fighter",Ce={GROUND:{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.base01,character:".",sprite:"\ue8a2",passable:!0},FLOOR:{background:Ae.SOLARIZED.base02,foreground:Ae.SOLARIZED.base0,character:"",passable:!0},SAFE_FLOOR:{background:Ae.SOLARIZED.base02,foreground:Ae.SOLARIZED.base0,character:"",passable:!0},BURNT:{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.red,character:"X",sprite:"\ue8bb",passable:!0,animation:[{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.red,character:"X",sprite:"\ue8bb",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.red,character:"x",sprite:"\ue8bb",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.red,character:"X",sprite:"\ue8bb",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.orange,character:"x",sprite:"\ue8bb",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.orange,character:"X",sprite:"\ue8bb",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.yellow,character:"x",sprite:"\ue8bb",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.red,character:"X",sprite:"\ue8bb",passable:!0}]},WET:{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.blue,character:"=",sprite:"\ue8ca",passable:!0,animation:[{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.blue,character:"=",sprite:"\ue8ca",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.blue,character:"~",sprite:"\ue8ca",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.blue,character:"=",sprite:"\ue8ca",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.base0,character:"~",sprite:"\ue8ca",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.base1,character:"=",sprite:"\ue8ca",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.base1,character:"~",sprite:"\ue8ca",passable:!0},{background:Ae.SOLARIZED.base03,foreground:Ae.SOLARIZED.blue,character:"=",sprite:"\ue8ca",passable:!0}]},WALL:{background:Ae.SOLARIZED.base02,foreground:Ae.SOLARIZED.base2,character:"#",sprite:"\ue802",passable:!1},DOOR:{background:Ae.SOLARIZED.base02,foreground:Ae.SOLARIZED.base0,character:"+",sprite:"\ue86d",passable:!0},SAFE:{background:Ae.SOLARIZED.base02,foreground:Ae.SOLARIZED.green,character:"+",sprite:"\ue8b2",passable:!0},WATER:{animation:[{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#9dc3d3",character:"\u2591",passable:!1},{background:"#424242",foreground:"#8aa",character:"\u2592",passable:!1},{background:"#424242",foreground:"#8aa",character:"\u2593",passable:!1}],background:"#9dc3d3",character:"\u2591",passable:!1}},Le={N:[0,-1],NE:[1,-1],W:[-1,0],NW:[-1,-1],SW:[-1,1],S:[0,1],SE:[1,1],E:[1,0],NONE:[0,0]},De="HEAD",Te="TORSO",Ne="BACK",Pe="HAND",Ge="FEET",Ue="GENERIC",Ie=function(){return[{type:De,name:"head",item:null},{type:Te,name:"torso",item:null},{type:Ne,name:"back",item:null},{type:Pe,name:"left_hand",item:null},{type:Pe,name:"right_hand",item:null},{type:Ge,name:"feet",item:null}]},Me=function(){return[{type:Pe,name:"weapon",item:null}]},Fe={point:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1}]},triple_point:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:0,taken:!1},{x:0,y:0,taken:!1}]},tri_force:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:-1,y:-1,taken:!1},{x:1,y:-1,taken:!1}]},spread:{x_offset:1,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:0,y:-1,taken:!1},{x:1,y:0,taken:!1},{x:1,y:2,taken:!1},{x:1,y:-2,taken:!1}]},verticalLine:{x_offset:1,y_offset:1,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:0,y:-1,taken:!1}]},smallSquare:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:1,y:1,taken:!1},{x:1,y:0,taken:!1}]},square:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:1,y:1,taken:!1},{x:1,y:0,taken:!1},{x:1,y:-1,taken:!1},{x:0,y:-1,taken:!1},{x:-1,y:-1,taken:!1},{x:-1,y:0,taken:!1},{x:-1,y:1,taken:!1}]},clover:{x_offset:0,y_offset:0,positions:[{x:0,y:1,taken:!1},{x:1,y:0,taken:!1},{x:0,y:-1,taken:!1},{x:-1,y:0,taken:!1}]},filledClover:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:1,y:0,taken:!1},{x:0,y:-1,taken:!1},{x:-1,y:0,taken:!1}]},bigSquare:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:1,y:1,taken:!1},{x:1,y:0,taken:!1},{x:1,y:-1,taken:!1},{x:0,y:-1,taken:!1},{x:-1,y:-1,taken:!1},{x:-1,y:0,taken:!1},{x:-1,y:1,taken:!1},{x:0,y:2,taken:!1},{x:2,y:2,taken:!1},{x:2,y:0,taken:!1},{x:2,y:-2,taken:!1},{x:0,y:-2,taken:!1},{x:-2,y:-2,taken:!1},{x:-2,y:0,taken:!1},{x:-2,y:2,taken:!1}]},donut:{x_offset:0,y_offset:0,positions:[].concat(T(ue(0,0,2)),T(ue(0,0,3)))},big_circle:{x_offset:0,y_offset:0,positions:[{x:0,y:1,taken:!1},{x:1,y:1,taken:!1},{x:1,y:0,taken:!1},{x:1,y:-1,taken:!1},{x:0,y:-1,taken:!1},{x:-1,y:-1,taken:!1},{x:-1,y:0,taken:!1},{x:-1,y:1,taken:!1}].concat(T(ue(0,0,2)),T(ue(0,0,3)),T(ue(0,0,4)))}},We={default:{renderer:{character:"*",color:"black",background:"white"}},fail:{renderer:{character:"x",color:"black",background:"red"}},succede:{renderer:{character:"x",color:Ae.SOLARIZED.base3,background:Ae.SOLARIZED.green}},damage:{renderer:{character:"*",color:"darkred",background:"red"}},leaf:{renderer:{character:"\u2724",color:"#36635b",background:"#F0D8C0"}},water:{renderer:{character:"~",color:Ae.SOLARIZED.base3,background:Ae.SOLARIZED.blue}}},je=0,Be=1,ze={INFORMATION:{color:ke,backgroundColor:Oe},ACTION:{color:we,backgroundColor:xe},DANGER:{color:Re,backgroundColor:Oe},STATUS_EFFECT:{color:Ae.SOLARIZED.base3,backgroundColor:Ae.SOLARIZED.violet},ERROR:{color:Ae.SOLARIZED.base3,backgroundColor:Ae.SOLARIZED.yellow}},He=d((function t(e){var r=e.text,n=void 0===r?"":r,a=e.type,o=void 0===a?ze.INFORMATION:a;f(this,t);var i=me()();this.id=i,this.text=n,this.type=o}));function Ve(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function qe(t){if(null==t)throw new TypeError("Cannot destructure "+t)}var Ke=r(118),Xe=r.n(Ke),Ye=d((function t(e){var r=this,n=e.name,a=void 0===n?"Resource":n,o=e.getResourceCost,i=void 0===o?function(){return null}:o,c=e.resourceIncrement,s=void 0===c?1:c,u=e.actorResourcePath,l=void 0===u?null:u,h=e.actorResourceGetter,p=void 0===h?null:h,d=e.actorResourceSetter,y=void 0===d?null:d,g=e.renderer,v=void 0===g?{background:"transparent",color:"black",character:"*"}:g;f(this,t),this.name=a,this.getResourceCost=i,this.resourceIncrement=s,this.actorResourcePath=l,this.actorResourceGetter=p,this.actorResourceSetter=y,this.renderer=v,this.getResourceCostDisplay=function(){return r.getResourceCost()/r.resourceIncrement}})),Ze=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).name="Energy",n.actorResourcePath="energy",n.renderer={color:"black",background:"#ff9926",character:"8",sprite:"\ue8c5"},n.resourceIncrement=100,n}return d(r)}(Ye),$e=function(){function t(e){var r=this,n=e.game,a=e.actor,o=e.label,i=void 0===o?"action label":o,c=e.hidden,s=void 0!==c&&c,u=e.energyCost,l=void 0===u?be:u,h=e.processDelay,p=void 0===h?50:h,d=e.particles,y=void 0===d?[]:d,g=e.renderer,v=void 0===g?null:g,m=e.particleTemplate,_=void 0===m?We.default:m,b=e.onBefore,O=void 0===b?function(){return null}:b,w=e.onAfter,k=void 0===w?function(){return null}:w,x=e.onSuccess,R=void 0===x?function(){return null}:x,A=e.onFailure,E=void 0===A?function(){return null}:A,S=e.interrupt,C=void 0!==S&&S,L=e.requiredResources,D=void 0===L?[]:L;f(this,t),this.actor=a,this.game=n,this.label=i,this.hidden=s,this.energyCost=l,this.processDelay=p,this.particles=y,this.renderer=v,this.particleTemplate=_,this.onBefore=O,this.onAfter=k,this.onSuccess=R,this.onFailure=E,this.interrupt=C,this.requiredResources=[new Ze({getResourceCost:function(){return r.energyCost}})].concat(T(D))}return d(t,[{key:"addParticle",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s({},this.particleTemplate.renderer),a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:je,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i={energy:100,game:this.game,name:"particle",passable:!0},c={life:t,pos:e,direction:r,renderer:n,type:a,path:o};"object"===typeof t&&(c=s({},t));var u=new Mi(s(s({},i),c));this.particles.push(u)}},{key:"removeDeadParticles",value:function(){this.particles=this.particles.filter((function(t){return t.life>0}))}},{key:"setAsNextAction",value:function(){this.actor.setNextAction(this)}},{key:"immediatelyExecuteAction",value:function(){this.actor.setNextAction(this),this.game.engine.start()}},{key:"getEnergyCost",value:function(){return _e.find(this.requiredResources,{name:"Energy"}).getResourceCost()}},{key:"getRequiredResourceName",value:function(){return _e.map(this.requiredResources,"name")}},{key:"listPayableResources",value:function(){var t=this;return _e.map(this.requiredResources,(function(e){var r=e.getResourceCost,n=e.actorResourcePath,a=e.actorResourceGetter,o=_e.get(t.actor,n,null),i=!1;return null!==_e.get(t.actor,a,null)?i=t.actor[a]()>=r():null!==o&&(i=o>=r()),s({canPay:i},e)}))}},{key:"canPayRequiredResources",value:function(){return!_e.find(this.listPayableResources(),{canPay:!1})}},{key:"payRequiredResources",value:function(){var t=this;_e.each(this.requiredResources,(function(e){var r=e.getResourceCost,n=e.actorResourcePath,a=e.actorResourceSetter,o=_e.get(t.actor,n,null),i=r();return _e.get(t.actor,a,null)?(t.actor[a](o-i),!0):!!o&&(t.actor[n]-=i,!0)}))}},{key:"perform",value:function(){return{success:!0,alternative:null}}}]),t}(),Qe=["targetPos","processDelay"],Je=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetPos,o=t.processDelay,i=void 0===o?25:o,c=Ve(t,Qe);return f(this,r),(n=e.call(this,s({},c))).targetPos=a,n.processDelay=i,n}return d(r,[{key:"perform",value:function(){return{success:this.actor.move(this.targetPos),alternative:null}}}]),r}($e),tr=["direction","range","targetPos","availablePositions"],er=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.direction,o=t.range,i=t.targetPos,c=void 0===i?null:i,u=t.availablePositions,l=void 0===u?[]:u,h=Ve(t,tr);return f(this,r),(n=e.call(this,s({},h))).direction=a,n.range=o,n.targetPos=c,n.availablePositions=l,n.processDelay=0,n.energyCost=0,n}return d(r,[{key:"isInRange",value:function(t){return _e.find(this.availablePositions,{x:t.x,y:t.y})}},{key:"isInRangeV1",value:function(t){var e=this.actor.getPosition(),r=Zt(e,t);return!this.range||r.length<=this.range}},{key:"perform",value:function(){var t=!1;if(!this.targetPos&&!this.direction)return{success:t,alternative:null};var e=this.targetPos;return this.targetPos||(e=ee(this.actor.getCursorPositions()[0],this.direction)),this.isInRange(e)&&(this.actor.moveCursorToPosition(e),t=!0),{success:t,alternative:null}}}]),r}($e),rr=["x","y","text","color","textAttributes"],nr=["x","y","text","color","textAttributes","isBlinking"],ar=["x","y","lerpDirection","color","rectAttributes","isBlinking"],or={DEFAULT:0,BLINK_TILE:1,SOLID_TILE:2,BLINK_BOX:3,TEXT_FLOAT:4,TEXT_OVERLAY:5},ir=function(){function t(e){var r=e.display;e.game;f(this,t);var n=me()();this.id=n,this.lifeTime=0,this.active=!0,this.node=null,this.display=r}return d(t,[{key:"getActive",value:function(){return!1}},{key:"initialize",value:function(){}},{key:"update",value:function(t){this.lifeTime+=t.timeDiff,this.active=this.getActive(),this.active||this.display.removeAnimation(this.id)}}]),t}(),cr=function(t){g(r,t);var e=b(r);function r(t){var n=Object.assign({},(qe(t),t));return f(this,r),e.call(this,s({},n))}return d(r,[{key:"getActive",value:function(){return!(this.lifeTime>500)}}]),r}(ir),sr=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.x,o=t.y,i=t.text,c=t.color,u=void 0===c?"#fff":c,l=t.textAttributes,h=void 0===l?{}:l,p=Ve(t,rr);return f(this,r),(n=e.call(this,s({},p))).x=a,n.y=o,n.color=u,n.text=i,n.textAttributes=h,n}return d(r,[{key:"getActive",value:function(){return!(this.lifeTime>500)}},{key:"initialize",value:function(){this.active=!0;var t=s({name:"text",x:this.display.tileWidth*(this.x+this.display.game.getRenderOffsetX())+(this.display.tileOffset+this.display.tileGutter),y:this.display.tileHeight*(this.y+this.display.game.getRenderOffsetY())+(this.display.tileOffset+this.display.tileGutter),text:this.text,fontSize:this.display.tileWidth/2,fontFamily:"player-start-2p, Courier New",fill:this.color,transformsEnabled:"position",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1},this.textAttributes),e=new(Xe().Text)(t);this.display.animationLayer.add(e),this.node=e,I(v(r.prototype),"initialize",this).call(this)}},{key:"update",value:function(t){var e=this.node.y();e+=-1,this.node.y(e),I(v(r.prototype),"update",this).call(this,t)}}]),r}(ir),ur=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.x,o=t.y,i=t.text,c=t.color,u=void 0===c?"#fff":c,l=t.textAttributes,h=void 0===l?{}:l,p=t.isBlinking,d=void 0!==p&&p,y=Ve(t,nr);return f(this,r),(n=e.call(this,s({},y))).x=a,n.y=o,n.color=u,n.text=i,n.textAttributes=h,n.isBlinking=d,n.lerpDirection=-1,n}return d(r,[{key:"getActive",value:function(){return this.active}},{key:"initialize",value:function(){this.active=!0;var t=s({name:"text",text:this.text,x:this.display.tileWidth*(this.x+this.display.game.getRenderOffsetX())+(this.display.tileOffset+this.display.tileGutter),y:this.display.tileHeight*(this.y+this.display.game.getRenderOffsetY())+(this.display.tileOffset+this.display.tileGutter),width:this.display.tileWidth,height:this.display.tileHeight,fontSize:this.display.tileWidth/4,fontFamily:"player-start-2p, Courier New",verticalAlign:"middle",align:"center",fill:this.color,transformsEnabled:"position",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1},this.textAttributes),e=new(Xe().Text)(t);this.display.animationLayer.add(e),this.node=e,I(v(r.prototype),"initialize",this).call(this)}},{key:"update",value:function(t){if(this.isBlinking){var e=this.node.opacity();e>=1&&(this.lerpDirection=-1),e<=0&&(this.lerpDirection=1),e+=.03*this.lerpDirection,this.node.opacity(Ut(e,0,1)),I(v(r.prototype),"update",this).call(this,t)}}}]),r}(ir),lr=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.x,o=t.y,i=t.lerpDirection,c=void 0===i?-1:i,u=t.color,l=void 0===u?"#fff":u,h=t.rectAttributes,p=void 0===h?{}:h,d=t.isBlinking,y=void 0===d||d,g=Ve(t,ar);return f(this,r),(n=e.call(this,s({},g))).x=a,n.y=o,n.lerpDirection=c,n.color=l,n.rectAttributes=p,n.isBlinking=y,n}return d(r,[{key:"getActive",value:function(){return this.active}},{key:"updatePosition",value:function(t){var e=t.x,r=t.y;this.x=e,this.y=r,this.node.position(this.worldPosition({x:e,y:r}))}},{key:"worldPosition",value:function(t){var e=t.x,r=t.y;return{x:this.display.tileWidth*(e+this.display.game.getRenderOffsetX())+(this.display.tileOffset+this.display.tileGutter),y:this.display.tileHeight*(r+this.display.game.getRenderOffsetY())+(this.display.tileOffset+this.display.tileGutter)}}},{key:"initialize",value:function(){this.active=!0;var t=this.worldPosition({x:this.x,y:this.y}),e=s({name:"rect",x:t.x,y:t.y,offsetX:this.display.tileWidth/-4,offsetY:this.display.tileHeight/-4,width:this.display.tileWidth/2,height:this.display.tileHeight/2,fill:this.color,transformsEnabled:"position",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1},this.rectAttributes),n=new(Xe().Rect)(e);this.display.animationLayer.add(n),this.node=n,I(v(r.prototype),"initialize",this).call(this)}},{key:"update",value:function(t){if(this.isBlinking){var e=this.node.opacity();e>=1&&(this.lerpDirection=-1),e<=0&&(this.lerpDirection=1),e+=.03*this.lerpDirection,this.node.opacity(Ut(e,0,1)),I(v(r.prototype),"update",this).call(this,t)}}}]),r}(ir),hr=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).rectAttributes={fill:"transparent",stroke:a.color,strokeWidth:a.strokeWidth||5,offsetX:0,offsetY:0,width:n.display.tileWidth,height:n.display.tileHeight},n}return d(r)}(lr),fr=function(){function t(e){var r=e.containerId,n=void 0===r?null:r,a=e.width,o=void 0===a?100:a,i=e.height,c=void 0===i?100:i,s=e.tileWidth,u=void 0===s?10:s,l=e.tileHeight,h=void 0===l?10:l,p=e.tileGutter,d=void 0===p?0:p,y=e.tileOffset,g=void 0===y?10:y,v=e.game,m=void 0===v?null:v,_=e.mouseEnabled,b=void 0!==_&&_;f(this,t),this.containerId=n,this.width=o,this.height=c,this.tileWidth=u,this.tileHeight=h,this.tileGutter=d,this.tileOffset=g,this.stage=null,this.layer=null,this.particleLayer=null,this.animationLayer=null,this.animations=[],this.animationLoop=null,this.game=m,this.animationTypes=or,this.mouseEnabled=b}return d(t,[{key:"initialize",value:function(t){var e=this,r=t.getElementById(this.containerId),n=t.createElement("div");r.appendChild(n),r.oncontextmenu=function(t){return t.preventDefault()},this.adjustContentToScreen(r),this.stage=new(Xe().Stage)({container:"display",width:this.width,height:this.height}),this.layer=new(Xe().Layer)({hitGraphEnabled:this.mouseEnabled}),this.stage.add(this.layer),this.particleLayer=new(Xe().Layer)({hitGraphEnabled:!1}),this.stage.add(this.particleLayer),this.animationLayer=new(Xe().Layer)({}),this.stage.add(this.animationLayer);var a=new(Xe().Animation)((function(t){e.animations.forEach((function(e){return e.update(t)})),e.animations.length<=0&&e.animationLoop&&e.animationLoop.isRunning()&&e.animationLoop.stop()}),this.animationLayer);this.animationLoop=a,a.start()}},{key:"shakeScreen",value:function(){var t=D(C().mark((function t(e){var r,n;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.intensity,n=void 0===r?1:r,this.shakeNode({node:this.stage,intensity:n});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"shakeNode",value:function(){var t=D(C().mark((function t(e){var r,n,a,o,i,c,s;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.node,n=e.intensity,a=void 0===n?1:n,r){t.next=3;break}return t.abrupt("return");case 3:o=10,i=5*a;case 5:if(!(i>0)){t.next=16;break}return c=Wt(1,5)*a,s=Wt(1,5)*a,r.offsetX(c),r.offsetY(s),r.draw(),t.next=13,Pt(o/i);case 13:i-=1,t.next=5;break;case 16:r.offsetX(0),r.offsetY(0),r.draw();case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"adjustContentToScreen",value:function(t){var e=t.offsetHeight,r=(e-this.tileOffset)/this.game.getRenderHeight(),n=t.offsetWidth;this.tileWidth=Math.round(r),this.tileHeight=this.tileWidth;var a=this.getTilesDownOnScreenByWidth(n),o=this.game.setRenderWidth(a);this.width=o*this.tileWidth+this.tileOffset;var i=this.getTilesDownOnScreenByHeight(e),c=this.game.setRenderHeight(i);this.height=c*this.tileHeight+this.tileOffset}},{key:"adjustGameCameraHeightToScreenHeight",value:function(t){this.game.cameraHeight=this.getTilesDownOnScreenByHeight(t)}},{key:"addAnimation",value:function(t,e){var r;switch(t){case or.SOLID_TILE:r=new cr(s({display:this},e));break;case or.BLINK_TILE:r=new lr(s({display:this},e));break;case or.BLINK_BOX:r=new hr(s({display:this},e));break;case or.TEXT_FLOAT:r=new sr(s({display:this},e));break;case or.TEXT_OVERLAY:r=new ur(s({display:this},e));break;default:r=new ir(s({display:this},e))}return r.initialize(),this.animations.push(r),this.animationLoop.isRunning()||this.animationLoop.start(),r}},{key:"removeAnimation",value:function(t){this.animations=this.animations.filter((function(e){return e.id!==t||(e.node.destroy(),!1)}))}},{key:"removeAnimations",value:function(t){var e=this;t.forEach((function(t){return e.removeAnimation(t)}))}},{key:"updateAnimation",value:function(t){this.animations=this.animations.map((function(e){return e.id===t&&console.log(e),e}))}},{key:"updateTile",value:function(t,e,r,n){t&&(t.children[0].fill(n),t.children[1].fill(r),t.children[1].text(e))}},{key:"updateTileWithFovLighting",value:function(t,e,r,n,a){t&&(void 0===t.lightPercentage&&(t.lightPercentage=e),0==t.lightPercentage||t.lightPercentage<e&&t.children[0].fill(a),t.children[1].fill(n),t.children[1].text(r))}},{key:"createTile",value:function(t,e,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=new(Xe().Group)({id:"".concat(t,",").concat(e),x:this.tileWidth*t+(this.tileOffset+this.tileGutter),y:this.tileHeight*e+(this.tileOffset+this.tileGutter),width:this.tileWidth,height:this.tileHeight,transformsEnabled:"position",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1}),c=new(Xe().Rect)({name:"rect",width:this.tileWidth,height:this.tileHeight,fill:a,strokeEnabled:!1,transformsEnabled:"position",perfectDrawEnabled:!1,listening:this.mouseEnabled,shadowForStrokeEnabled:!1}),s=new(Xe().Text)({name:"text",text:r,width:this.tileWidth,height:this.tileHeight,fontSize:this.tileWidth-2,fontFamily:"scroll-o-script, Courier New",fill:n,align:"center",verticalAlign:"bottom",transformsEnabled:"position",perfectDrawEnabled:!1,listening:!1,shadowForStrokeEnabled:!1});i.add(c),i.add(s),this.mouseEnabled&&this.addMouseListenersToNodeV2(c,{x:t,y:e});var u=o||this.layer;return u.add(i),i}},{key:"addMouseListenersToNodeV2",value:function(t,e){this.mouseOverAnimations=[];var r=this,n=r.game.getFirstPlayer();t.on("mouseover",(function(){var a;r.lastMouseOverNode=t;var o=r.getRelativeTilePosition(e),i=null===(a=n.getKeymap())||void 0===a?void 0:a.mouseOver;i&&(r.game.engine.isRunning?i(o).setAsNextAction():i(o).immediatelyExecuteAction())})),t.on("click",(function(t){var a=null;1===t.evt.which?a=n.getKeymap().mouseLeftButton:3===t.evt.which&&(a=n.getKeymap().mouseRightButton||n.getKeymap().Escape);var o=r.getRelativeTilePosition(e);a&&a(o).immediatelyExecuteAction()})),t.on("mouseout",(function(){}))}},{key:"addMouseListenersToNode",value:function(t,e){this.mouseOverAnimations=[];var r=this,n="#3e7dc9",a=[],o=r.game.getFirstPlayer(),i=null,c=null;t.on("mouseover",(function(){r.lastMouseOverNode=t;var s=r.getRelativeTilePosition(e),u=function(t){var e=t.game,r=t.position,n=t.entityType,a=ie({game:e,position:r});return oe(a,n)}({game:r.game,position:s,entityType:"DESTRUCTABLE"});if(r.preparedToFire(o)){var l=o.getPosition();new er({targetPos:s,availablePositions:le(l,o.getAttackRange()),actor:o,game:r.game}).immediatelyExecuteAction(),o.getKeymap().m(s).immediatelyExecuteAction()}if(u.length<=0&&!r.preparedToFire(o)){var h;n="#fff";var f=o.getPosition();(a=Yt(r.game,s,f)).length&&(i=Je),(h=r.mouseOverAnimations).push.apply(h,T(r.highlightPathTiles(a)))}u.length>0&&(c="f"),r.mouseOverAnimations.push(r.highlightTile(s,n))})),t.on("click",(function(){var e=null;i?(e=new i({targetPos:a[0],game:r.game,actor:o,energyCost:100}),i=null):c&&(e=o.getKeymap()[c](),c=null),Boolean(e)&&(e.immediatelyExecuteAction(),t.fire("mouseout"),t.fire("mouseover"))})),t.on("mouseout",(function(){r.removeMouseoverAnimations()}))}},{key:"addMouseoverAnimations",value:function(){this.lastMouseOverNode&&this.lastMouseOverNode.fire("mouseover")}},{key:"removeMouseoverAnimations",value:function(){this.mouseOverAnimations.length>0&&this.removeAnimations(this.mouseOverAnimations.map((function(t){return t.id})))}},{key:"resetMouseoverAnimations",value:function(){this.removeMouseoverAnimations(),this.lastMouseOverNode&&this.lastMouseOverNode.fire("mouseover")}},{key:"preparedToFire",value:function(t){var e,r=t.getKeymap().f;return!!r&&"Fire"===(null===(e=r())||void 0===e?void 0:e.label)}},{key:"highlightTile",value:function(t,e){return this.addAnimation(or.BLINK_BOX,s(s({},t),{},{color:e}))}},{key:"highlightPathTiles",value:function(t,e){var r=this,n=[];return t.forEach((function(t){n.push(r.addAnimation(or.BLINK_TILE,s(s({},t),{},{color:e})))})),n}},{key:"getRelativeTilePosition",value:function(t){return{x:t.x-this.game.getRenderOffsetX(),y:t.y-this.game.getRenderOffsetY()}}},{key:"getAbsoultueX",value:function(t){return this.tileWidth*t+(this.tileOffset+this.tileGutter)}},{key:"getAbsoultueY",value:function(t){return this.tileWidth*t+(this.tileOffset+this.tileGutter)}},{key:"getTilesWide",value:function(t,e,r){return Math.floor((t-e)/r)}},{key:"getTilesHigh",value:function(t,e,r){return Math.floor((t-e)/r)}},{key:"getTilesDownOnScreenByWidth",value:function(t){return Math.ceil(t/this.tileWidth)}},{key:"getTilesDownOnScreenByHeight",value:function(t){return Math.ceil(t/this.tileHeight)}},{key:"draw",value:function(){this.layer.batchDraw()}}]),t}(),pr="Directional Kunai",dr="Axe",yr="Water Gun",gr=function(t,e,r,n){return new Pi({game:t.game,direction:r,passable:!0,pos:{x:e.x,y:e.y},renderer:{character:">",color:"white",background:"",animation:[{background:"lightgrey",color:"grey",character:">"},{background:"lightgrey",color:"grey",character:"v"},{background:"lightgrey",color:"grey",character:"<"},{background:"lightgrey",color:"grey",character:"^"},{background:"lightgrey",color:"grey",character:">"}]},name:pr,speed:600,energy:0,range:n})},vr=function(t){return new Li({game:t.game,name:dr,passable:!0,attackDamage:5,equipmentType:Ue,renderer:{character:"a",sprite:"\ue888",color:"white",background:""}})},mr=function(t){return new Li({game:t.game,name:yr,passable:!0,attackDamage:0,equipmentType:Ue,renderer:{character:"w",sprite:"\ue890",color:Ae.SOLARIZED.blue,background:""}})},_r=function(t){return new Ti({game:t.game,name:"Fire Jacket",passable:!0,defense:1,equipmentType:Ue,renderer:{character:"J",sprite:"\ue89b",color:Ae.SOLARIZED.magenta,background:""}})},br=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"GROUND",o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,s=0;s<i;s++)for(var u=0;u<c;u++)if(s>=e.y&&s<=e.y+(r-1)&&u>=e.x&&u<=e.x+(n-1)){var l="".concat(u,",").concat(s);Or({map:o,key:l,tileKey:t,tileType:a})}},Or=function(t){var e=t.map,r=t.key,n=t.tileKey,a=t.tileType,o=t.entities,i=void 0===o?[]:o,c=_e.get(n[a],"animation.length",0),s={type:a,currentFrame:Ft(0,c),entities:i,tileKey:n};return e[r]=s,s},wr=function(t){var e=t.tile,r=t.tag;return _e.get(e.tileKey[e.type],"tags",[]).includes(r)},kr=function(t){var e=t.tile,r=t.tags,n=_e.get(e.tileKey[e.type],"tags",[]);return r.some((function(t){return n.includes(t)}))},xr=function(t){var e=t.map,r=t.position;return e[Bt(r)]},Rr=function(t,e,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,o=Cr(),i=1e3;o.length<n+1;){var c=Lr(o);if(c){var s=Nr(c,e,r,a),u=Gr(t,s,a,0);u&&o.push(c)}if((i-=1)<=0)break}return Ar(t,o,e,r,a),o},Ar=function(t,e,r,n,a){for(var o=[{x:1,y:1},{x:a-1,y:a-1},{x:1,y:a-1},{x:a-1,y:1}],i=function(){var i=e[c],s=Nr(i,r,n,a),u=It(o);s.x+=u.x,s.y+=u.y,Er(e,i).forEach((function(e){var o=Nr(e,r,n,a),i=u;o.x+=i.x,o.y+=i.y,Sr(t,s,o)}))},c=0;c<e.length-1;c++)i()},Er=function(t,e){var r=Pr(e);return t.filter((function(t){return r.find((function(e){return e.x===t.x&&e.y===t.y}))}))},Sr=function(t,e,r){for(var n=[Math.sign(r.x-e.x),Math.sign(r.y-e.y)],a=1e3,o=ee(e,n),i=!1;!jt(o,r);){var c=t[Bt(o)];if(c&&Ur(c)&&(i?c.type="FLOOR":(c.type="DOOR",i=!0)),o=ee(o,n),(a-=1)<=0)break}},Cr=function(){return[{x:0,y:0}]},Lr=function(t){for(var e=It(t),r=Dr(e),n=Tr(r,t),a=1e3;n;)if(e=It(t.filter((function(t){return!jt(t,e)}))),r=Dr(e),n=Tr(r,t),(a-=1)<=0){n=!1,r=!1;break}return r},Dr=function(t){return It(Pr(t))},Tr=function(t,e){return e.filter((function(e){return e.x===t.x&&e.y===t.y})).length>0},Nr=function(t,e,r,n){return{x:t.x+e+n*t.x,y:t.y+r+n*t.y}},Pr=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[{x:t.x,y:t.y+1},{x:t.x+1,y:t.y},{x:t.x,y:t.y-1},{x:t.x-1,y:t.y}];return e&&(r=r.concat([{x:t.x+1,y:t.y+1},{x:t.x+1,y:t.y-1},{x:t.x-1,y:t.y-1},{x:t.x-1,y:t.y+1}])),r},Gr=function(t,e,r,n){for(var a=r+1-n,o=0;o<a;o++)for(var i=0;i<a;i++){var c={x:e.x+o,y:e.y+i},s=t[Bt(c)];if(!s)return!1;if("ROAD_EDGE"===s.type)return!1;if(Ur(s))return!1;if("FLOOR"===s.type)return!1}for(var u=0;u<a;u++)for(var l=0;l<a;l++){var h={x:e.x+u,y:e.y+l},f="FLOOR";0!==u&&u!==a-1||(f="WALL_VERTICAL"),0!==l&&l!==a-1||(f="WALL_HORIZONTAL"),0===u&&0===l&&(f="WALL_CORNER_NW"),0===u&&l===a-1&&(f="WALL_CORNER_SW"),u===a-1&&0===l&&(f="WALL_CORNER_NE"),u===a-1&&l===a-1&&(f="WALL_CORNER_SE");var p=t[Bt(h)];p&&(p.type=f)}return!0},Ur=function(t){return wr({tile:t,tag:"WALL"})},Ir=function(){function t(e){var r=e.game,n=void 0===r?null:r,a=e.data,o=void 0===a?{}:a;f(this,t);var i=me()();this.id=i,this.game=n,this.data=o,this.infoBlocks={},this.progressBars={}}return d(t,[{key:"initialize",value:function(){}},{key:"update",value:function(){}},{key:"createOrUpdateInfoBlock",value:function(t,e){(0,_e.merge)(this.infoBlocks,i({},t,e))}}]),t}(),Mr=r(1845),Fr={fire_0:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/fire-00.mp3"],volume:.5,loop:!0}),fire_1:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/fire-01.mp3"],volume:.05,loop:!0}),scream_0:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/scream-00.wav"]}),scream_1:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/scream-01.wav"]}),scream_2:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/scream-02.wav"]}),water_0:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/water-04.wav"]}),water_1:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/water-05.wav"]}),chop_0:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/chop-00.wav"]}),chop_1:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/chop-01.wav"]}),equip_0:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/equip-00.wav"]}),equip_1:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/equip-01.wav"]}),explosion_0:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/explosion-00.wav"],volume:.2}),save:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/save.wav"]}),lose:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/lose-00.wav"]}),grab_0:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/grab-00.wav"]}),release_0:new Mr.Howl({src:[window.PUBLIC_URL+"/sounds/grab-01.wav"]})},Wr=(r(6125),function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).data={level:1,highestLevel:null,fireIntensity:0,npcCount:1,creatureCount:1,turnCount:0},n}return d(r,[{key:"initialize",value:function(){var t=this;I(v(r.prototype),"initialize",this).call(this),this.game.createEmptyLevel(),this.game.initializeMapTiles(),this.setWaveData(this.data.level);Math.floor(this.game.mapWidth/2),Math.floor(this.game.mapHeight/2);var e=3;br(this.game.tileKey,{x:e,y:e},this.game.mapHeight-2*e,this.game.mapWidth-2*e,"WALL",this.game.map,this.game.mapHeight,this.game.mapWidth),e=4,br(this.game.tileKey,{x:e,y:e},this.game.mapHeight-2*e,this.game.mapWidth-2*e,"FLOOR",this.game.map,this.game.mapHeight,this.game.mapWidth),e=5,br(this.game.tileKey,{x:e,y:e},this.game.mapHeight-2*e,this.game.mapWidth-2*e,"WALL",this.game.map,this.game.mapHeight,this.game.mapWidth),e=6,br(this.game.tileKey,{x:e,y:e},this.game.mapHeight-2*e,this.game.mapWidth-2*e,"GROUND",this.game.map,this.game.mapHeight,this.game.mapWidth),br(this.game.tileKey,{x:31,y:9},4,4,"SAFE",this.game.map,this.game.mapHeight,this.game.mapWidth),Rr(this.game.map,10,10,2,4),this.placeInitialItems(),this.placePlayersInSafeZone();for(var n=Object.keys(this.game.map).filter((function(e){return"FLOOR"===t.game.map[e].type})),a=0;a<this.data.npcCount;a++){var o=It(n).split(",").map((function(t){return parseInt(t)}));this.addNPC({x:o[0],y:o[1]})}for(var i=Object.keys(this.game.map).filter((function(e){return"GROUND"===t.game.map[e].type})),c=0;c<this.data.creatureCount;c++){var s=It(i).split(",").map((function(t){return parseInt(t)}));this.addEnemy({x:s[0],y:s[1]})}}},{key:"update",value:function(){I(v(r.prototype),"update",this).call(this),this.propogateFire(),this.burnEntities(),this.hasLost()&&(this.reset(),this.game.initializeGameData()),this.hasWon()&&(this.nextLevel(),this.beginNextWave(),this.game.initializeGameData())}},{key:"setLevel",value:function(t){this.data.level=t,this.data.turnCount=0}},{key:"nextLevel",value:function(){this.setLevel(this.data.level+1)}},{key:"reset",value:function(){this.setLevel(1),this.initialize()}},{key:"setWaveData",value:function(t){switch(t){case 1:this.data.creatureCount=0,this.data.npcCount=1;break;case 2:this.data.creatureCount=5,this.data.npcCount=1;break;case 3:this.data.creatureCount=10,this.data.npcCount=1;break;default:this.data.creatureCount=20,this.data.npcCount=1}}},{key:"countNpcSafe",value:function(){var t=this;return this.game.engine.actors.filter((function(e){if(e.entityTypes.includes("HELPLESS")&&"SAFE"===t.game.map[Bt(e.pos)].type)return e.saved||e.save(),!0;return!1})).length}},{key:"getSaveCountRequirement",value:function(){var t=Math.ceil(.66*this.data.npcCount);return Math.max(1,t)}},{key:"hasWon",value:function(){return this.countNpcSafe()>=this.getSaveCountRequirement()}},{key:"hasLost",value:function(){return this.game.engine.actors.filter((function(t){return t.entityTypes.includes("HELPLESS")})).length<this.getSaveCountRequirement()&&(Fr.lose.play(),this.game.toLose(),!0)}},{key:"addDebris",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"box",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"%",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Ae.SOLARIZED.base01,s=It(["\ue83b","\ue873","\ue874","\ue875","\ue876","\ue877"]);switch(r){case"%":s=It(["\ue83b","\ue873"]);break;case"m":s=It(["\ue874","\ue875"]);break;case"H":s=It(["\ue876","\ue877"]);break;case"Xs":s="\ue86a";break;case"X":s="\ue86b";break;case"XL":s="\ue86c";break;default:s="\ue873"}var u=new Ri({pos:t,renderer:{character:r,sprite:s,color:Ae.SOLARIZED.base2,background:c},name:e,game:this.game,durability:n,explosivity:a,flammability:0,draggable:i,pushable:o});this.game.placeActorOnMap(u)}},{key:"addNPC",value:function(t){var e=new Oi({name:Ee,messages:["help!","ahh!","It's getting hot in hurr."],messageType:ze.ACTION,pos:t,game:this.game,renderer:{character:"C",sprite:"\ue823",color:Ae.SOLARIZED.base3,background:Ae.SOLARIZED.violet},durability:2});this.game.placeActorOnMap(e)&&(this.game.map[Bt(e.pos)].type="SAFE_FLOOR",this.game.engine.addActor(e))}},{key:"addFire",value:function(t){var e=new Ui({name:"Pyro",pos:t,game:this.game,renderer:{character:"*",sprite:"\ue8bb",color:Ae.SOLARIZED.base3,background:Ae.SOLARIZED.red},timeToSpread:1,spreadCount:1,durability:1,attackDamage:2,speed:100});this.game.placeActorOnMap(e)&&this.game.engine.addActor(e)}},{key:"getBanditStats",value:function(){var t=[{name:"Slingshot",renderer:{character:It(["r"]),color:"#ced5dd",background:""},durability:1,attackDamage:1,speed:100,entityClass:Si},{name:"Buckshot",renderer:{character:It(["r"]),color:"#3fc072",background:""},durability:2,attackDamage:1,speed:200,entityClass:Si},{name:"Ross",renderer:{character:It(["b"]),color:"#ced5dd",background:""},durability:1,attackDamage:1,speed:100,entityClass:Ei},{name:"Kevin",renderer:{character:It(["b"]),color:"#3fc072",background:""},durability:2,attackDamage:1,speed:100,entityClass:Ei},{name:"Jacob",renderer:{character:It(["b"]),color:"#67a1d7",background:""},durability:3,attackDamage:1,speed:100,entityClass:Ei},{name:"Jarod",renderer:{character:It(["b"]),color:"#e16264",background:""},durability:1,attackDamage:5,speed:300,entityClass:Ei},{name:"Bigii",renderer:{character:It(["b"]),color:"#9f62e1",background:""},durability:15,attackDamage:10,speed:100,entityClass:Ei}];return It(t)}},{key:"addEnemy",value:function(t){var e=this,r=this.game.engine.actors.filter((function(t){return t.entityTypes.includes("PLAYING")}))[0],n=this.getBanditStats(),a=new n.entityClass({targetEntity:r,pos:t,renderer:n.renderer,name:n.name,game:this.game,actions:[],attackDamage:n.attackDamage,durability:n.durability,speed:n.speed,getProjectile:function(t){var r=t.pos,n=(t.targetPos,t.direction),a=t.range;return gr(e.game.engine,s({},r),n,a)}});this.game.placeActorOnMap(a)&&this.game.engine.addActor(a)}},{key:"propogateFire",value:function(){var t=this;if(this.game.engine.actors.filter((function(t){return"Pyro"===t.name})).length<this.data.fireIntensity){var e=Object.keys(this.game.map).filter((function(e){return"BURNT"==t.game.map[e].type})),r=It(e);if(r){var n={x:parseInt(r.split(",")[0]),y:parseInt(r.split(",")[1])};this.addFire(n)}}}},{key:"burnEntities",value:function(){var t=this;Object.keys(this.game.map).filter((function(e){return"BURNT"===t.game.map[e].type})).reduce((function(e,r){return e.concat(t.game.map[r].entities)}),[]).forEach((function(e){e.entityTypes.includes("BURNABLE")&&(e.burn()&&t.game.addMessage("".concat(e.name," is burned."),ze.DANGER),e.willResetCanBurn&&e.resetCanBurn())}))}},{key:"placeInitialItems",value:function(){var t=this,e=[vr(this.game.engine),mr(this.game.engine),_r(this.game.engine)],r=Object.keys(this.game.map).filter((function(e){return"SAFE"==t.game.map[e].type}));e.forEach((function(e){var n=r.pop();if(n){var a={x:parseInt(n.split(",")[0]),y:parseInt(n.split(",")[1])};e.pos=a;var o=t.game.map[n];o&&o.entities.push(e)}}))}},{key:"placePlayersInSafeZone",value:function(){var t=this,e=this.game.engine.actors.filter((function(t){return t.entityTypes.includes("PLAYING")})),r=Object.keys(this.game.map).filter((function(e){return"SAFE"==t.game.map[e].type}));e.forEach((function(e){var n=r.shift();if(n){var a={x:parseInt(n.split(",")[0]),y:parseInt(n.split(",")[1])};e.pos=a;var o=t.game.map[n];o&&o.entities.push(e)}}))}}]),r}(Ir)),jr=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).data={level:1,highestLevel:null,turnCount:0},n.dataByLevel=[{enemies:Array(1).fill("Bandit")}],n}return d(r,[{key:"initialize",value:function(){var t=this;I(v(r.prototype),"initialize",this).call(this),this.game.createEmptyLevel(),this.game.initializeMapTiles(),this.setWaveData(),br(this.game.tileKey,{x:31,y:9},4,4,"SAFE",this.game.map,this.game.mapHeight,this.game.mapWidth),Rr(this.game.map,10,10,2,4),Rr(this.game.map,20,5,6,4),this.placePlayersInSafeZone();var e=Object.keys(this.game.map).filter((function(e){return"GROUND"===t.game.map[e].type}));this.data.enemies.forEach((function(r){var n=It(e).split(",").map((function(t){return parseInt(t)}));t["add".concat(r)]({x:n[0],y:n[1]})}))}},{key:"getPlayers",value:function(){return this.game.engine.actors.filter((function(t){return t.entityTypes.includes("PLAYING")}))}},{key:"updateUI",value:function(){var t=this;_e.each(this.getPlayers(),(function(e,r){var n=Math.floor(e.energy/100),a=Math.floor(e.speed/100),o=[].concat(T(Array(n).fill("\ue8b2")),T(Array(a-n).fill("_")));t.createOrUpdateInfoBlock("playerSpeed".concat(e.id),{text:"".concat(e.name," | AP: ").concat(o.join(" "))})}))}},{key:"update",value:function(){I(v(r.prototype),"update",this).call(this),this.hasWon()&&this.game.toWin(),this.hasLost()&&(Fr.lose.play(),this.game.toLose(),this.reset(),this.game.initializeGameData()),this.levelComplete()&&(this.nextLevel(),this.setWaveData(),this.game.initializeGameData())}},{key:"setLevel",value:function(t){this.data.level=t,this.data.turnCount=0}},{key:"nextLevel",value:function(){this.setLevel(this.data.level+1)}},{key:"reset",value:function(){this.setLevel(1),this.initialize()}},{key:"setWaveData",value:function(){var t=this.data.level-1,e=_e.get(this.dataByLevel,t,{});this.data=s(s({},this.data),e)}},{key:"levelComplete",value:function(){return 1===this.game.engine.actors.length}},{key:"hasWon",value:function(){return this.data.level>this.dataByLevel.length}},{key:"hasLost",value:function(){var t=this.getPlayers();return!t.length||!!(t.length&&t[0].durability<=0)}},{key:"addDebris",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"box",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"%",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Ae.SOLARIZED.base01,s=It(["\ue83b","\ue873","\ue874","\ue875","\ue876","\ue877"]);switch(r){case"%":s=It(["\ue83b","\ue873"]);break;case"m":s=It(["\ue874","\ue875"]);break;case"H":s=It(["\ue876","\ue877"]);break;case"Xs":s="\ue86a";break;case"X":s="\ue86b";break;case"XL":s="\ue86c";break;default:s="\ue873"}var u=new Ri({pos:t,renderer:{character:r,sprite:s,color:Ae.SOLARIZED.base2,background:c},name:e,game:this.game,durability:n,explosivity:a,flammability:0,draggable:i,pushable:o});this.game.placeActorOnMap(u)}},{key:"getBanditStats",value:function(){var t=[{name:"Slingshot",renderer:{character:It(["r"]),color:"#ced5dd",background:""},durability:1,attackDamage:1,speed:100,entityClass:Si},{name:"Buckshot",renderer:{character:It(["r"]),color:"#3fc072",background:""},durability:2,attackDamage:1,speed:200,entityClass:Si},{name:"Ross",renderer:{character:It(["b"]),color:"#ced5dd",background:""},durability:1,attackDamage:1,speed:100,entityClass:Ei},{name:"Kevin",renderer:{character:It(["b"]),color:"#3fc072",background:""},durability:2,attackDamage:1,speed:100,entityClass:Ei},{name:"Jacob",renderer:{character:It(["b"]),color:"#67a1d7",background:""},durability:3,attackDamage:1,speed:100,entityClass:Ei},{name:"Jarod",renderer:{character:It(["b"]),color:"#e16264",background:""},durability:1,attackDamage:5,speed:300,entityClass:Ei},{name:"Bigii",renderer:{character:It(["b"]),color:"#9f62e1",background:""},durability:15,attackDamage:10,speed:100,entityClass:Ei}];return It(t)}},{key:"addBandit",value:function(t){var e=this,r=this.getPlayers()[0],n=this.getBanditStats(),a=new n.entityClass({targetEntity:r,pos:t,renderer:n.renderer,name:n.name,game:this.game,actions:[],attackDamage:n.attackDamage,durability:n.durability,speed:n.speed,getProjectile:function(t){var r=t.pos,n=(t.targetPos,t.direction),a=t.range;return gr(e.game.engine,s({},r),n,a)}});this.game.placeActorOnMap(a)&&this.game.engine.addActor(a)}},{key:"placePlayersInSafeZone",value:function(){var t=this,e=this.getPlayers(),r=Object.keys(this.game.map).filter((function(e){return"SAFE"==t.game.map[e].type}));e.forEach((function(e){var n=r.shift();if(n){var a={x:parseInt(n.split(",")[0]),y:parseInt(n.split(",")[1])};e.pos=a;var o=t.game.map[n];o&&o.entities.push(e)}}))}}]),r}(Ir),Br={main:"#07111D",accent:"#E19D3F",text:"#eee",base04:"#07111D",base03:"#02252e",base02:"#073642",base01:"#586e75",base00:"#657b83",base0:"#839496",base1:"#93a1a1",base2:"#eee8d5",base3:"#fdf6e3",yellow:"#b58900",orange:"#cb4b16",red:"#dc322f",magenta:"#d33682",violet:"#6c71c4",blue:"#268bd2",cyan:"#2aa198",green:"#859900",cog1:"#27295f",cog2:"#3e7dc9",cog3:"#18c0f8",cog4:"#86C8E4",locust0:"#423a18",locust1:"#96641D",locust2:"#E19D3F",locust3:"#E7C898",flesh1:"#833139",flesh2:"#CC7468",flesh3:"#DDA78F",gray:"#6D7886"},zr={GROUND:{background:Br.base04,foreground:Br.base02,character:".",sprite:"\ue8a2",passable:!0,tags:["PROVIDING_COVER"]},COVER_PLACEHOLDER:{background:Br.base04,foreground:Br.base02,character:".",sprite:"\ue8a2",passable:!0,tags:["PROVIDING_COVER"]},GROUND_ALT:{background:Br.base04,foreground:Br.base02,character:"",sprite:"",passable:!0,tags:["PROVIDING_COVER"]},EMERGENCE_DESTROYED:{background:Br.base04,foreground:Br.locust0,character:"",sprite:"\ue805",passable:!0},EMERGENCE_GROUND:{background:Br.locust0,foreground:Br.locust1,character:".",sprite:"\ue803",passable:!0},EMERGENCE_OUTER_GROUND:{background:Br.locust0,foreground:Br.locust2,character:".",sprite:"\ue8a3",passable:!0},FLOOR:{background:Br.base02,foreground:Br.locust1,character:"",passable:!0,tags:["BURNABLE"]},WALL:{background:Br.base02,foreground:Br.locust2,character:"#",sprite:"\ue802",passable:!1,tags:["BURNABLE","WALL"]},WALL_VERTICAL:{background:Br.base02,foreground:Br.locust2,character:"||",sprite:"\ue8df",passable:!1,tags:["BURNABLE","WALL"]},WALL_HORIZONTAL:{background:Br.base02,foreground:Br.locust2,character:"=",sprite:"\ue8de",passable:!1,tags:["BURNABLE","WALL"]},WALL_CORNER_NW:{background:Br.base02,foreground:Br.locust2,character:"#",sprite:"\ue8e1",passable:!1,tags:["BURNABLE","WALL"]},WALL_CORNER_NE:{background:Br.base02,foreground:Br.locust2,character:"#",sprite:"\ue8e2",passable:!1,tags:["BURNABLE","WALL"]},WALL_CORNER_SW:{background:Br.base02,foreground:Br.locust2,character:"#",sprite:"\ue8e3",passable:!1,tags:["BURNABLE","WALL"]},WALL_CORNER_SE:{background:Br.base02,foreground:Br.locust2,character:"#",sprite:"\ue8e4",passable:!1,tags:["BURNABLE","WALL"]},ROAD_EDGE:{background:Br.base03,foreground:Br.base02,character:"",sprite:"",passable:!0,tags:["ROAD","PROVIDING_COVER"]},ROAD:{background:Br.base03,foreground:Br.base02,character:"=",sprite:"\ue8de",passable:!0,tags:["ROAD","PROVIDING_COVER"]},DOOR:{background:Br.base02,foreground:Br.base1,character:"+",sprite:"\ue86d",passable:!0,tags:["BURNABLE"]},SAFE:{background:Br.base04,foreground:Br.base02,character:".",sprite:"\ue8a2",passable:!0},LOCKED_EXIT:{background:Br.base04,foreground:Br.base02,character:".",sprite:"\ue8a2",passable:!0},EXIT:{background:Br.base04,foreground:Br.green,character:">",sprite:"\ue8b1",passable:!0},BURNT:{background:Br.base03,foreground:Br.red,character:"X",sprite:"\ue8bb",passable:!0,tags:["BURNABLE"],animation:[{background:Br.base03,foreground:Br.yellow,character:"X",sprite:"\ue8a4",passable:!0},{background:Br.base03,foreground:Br.yellow,character:"x",sprite:"\ue8a4",passable:!0},{background:Br.base03,foreground:Br.red,character:"X",sprite:"\ue8a4",passable:!0},{background:Br.base03,foreground:Br.orange,character:"x",sprite:"\ue8a4",passable:!0},{background:Br.base03,foreground:Br.orange,character:"X",sprite:"\ue8a4",passable:!0},{background:Br.base03,foreground:Br.red,character:"x",sprite:"\ue8a4",passable:!0},{background:Br.base03,foreground:Br.red,character:"X",sprite:"\ue8a4",passable:!0}]}},Hr={amount:{background:Br.base04,foreground:Br.locust2,character:""},attackRange:{background:Br.green,foreground:Br.base3,character:"==>"},magazine:{background:Br.gray,foreground:Br.base3,character:"!!"},baseRangedAccuracy:{background:Br.violet,foreground:Br.base3,character:"*"},baseRangedDamage:{background:Br.red,foreground:Br.base3,character:"x",sprite:"\ue890"},meleeDamage:{background:Br.red,foreground:Br.base3,character:"x",sprite:"\ue888"}},Vr={point:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1}]},verticalLine:{x_offset:1,y_offset:1,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1}]},horizontalLine:{x_offset:1,y_offset:1,positions:[{x:0,y:0,taken:!1},{x:1,y:0,taken:!1}]},smallSquare:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:1,y:1,taken:!1},{x:1,y:0,taken:!1}]},southEastVerticalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:0,y:2,taken:!1},{x:1,y:2,taken:!1}]},southWestVerticalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:1,taken:!1},{x:0,y:2,taken:!1},{x:-1,y:2,taken:!1}]},northWestVerticalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:-1,taken:!1},{x:0,y:-2,taken:!1},{x:-1,y:-2,taken:!1}]},northEastVerticalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:0,y:-1,taken:!1},{x:0,y:-2,taken:!1},{x:1,y:-2,taken:!1}]},southEastHorizontalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:1,y:0,taken:!1},{x:2,y:0,taken:!1},{x:2,y:1,taken:!1}]},southWestHorizontalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:-1,y:0,taken:!1},{x:-2,y:0,taken:!1},{x:-2,y:1,taken:!1}]},northEastHorizontalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:1,y:0,taken:!1},{x:2,y:0,taken:!1},{x:2,y:-1,taken:!1}]},northWestHorizontalL:{x_offset:0,y_offset:0,positions:[{x:0,y:0,taken:!1},{x:-1,y:0,taken:!1},{x:-2,y:0,taken:!1},{x:-2,y:-1,taken:!1}]}},qr=[].concat(T(Array(1).fill("point")),T(Array(4).fill("verticalLine")),T(Array(3).fill("horizontalLine")),T(Array(2).fill("smallSquare")),T(Array(2).fill("southEastVerticalL")),T(Array(2).fill("southWestVerticalL")),T(Array(2).fill("northWestVerticalL")),T(Array(2).fill("northEastVerticalL")),T(Array(1).fill("southEastHorizontalL")),T(Array(1).fill("southWestHorizontalL")),T(Array(1).fill("northWestHorizontalL")),T(Array(1).fill("northEastHorizontalL"))),Kr=function(t,e,r){he(r,t).forEach((function(t){var r=e.map[Bt(t)];r&&wr({tile:r,tag:"PROVIDING_COVER"})&&function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"box",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"%",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Br.base02,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Br.base01,c=It(["\ue800","\ue801","\ue802"]),s=new xi({pos:t,renderer:{character:n,sprite:c,color:i,background:o},name:r,game:e,durability:a,accuracyModifer:-.3,damageModifer:0});e.placeActorOnMap(s)}(t,e)}))},Xr=function(t,e){var r=Vr[It(qr)];Kr(t,e,r)},Yr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Mr.Howl(s({src:[window.PUBLIC_URL+t],volume:.2,loop:!1},e))},Zr=function(t){Object.entries($r).forEach((function(e){var r=h(e,2);r[0];r[1].volume(t)}))},$r={ambient_howling:Yr("/sounds/tall_grass/ambient_loop_howls.mp3",{loop:!0,rate:.75,volume:.1}),sac_01:Yr("/sounds/tall_grass/monster/sac_01.ogg"),sac_02:Yr("/sounds/tall_grass/monster/sac_02.ogg"),sac_03:Yr("/sounds/tall_grass/monster/sac_03.ogg"),screech_01:Yr("/sounds/tall_grass/monster/screech_01.ogg"),screech_02:Yr("/sounds/tall_grass/monster/screech_02.ogg"),screech_03:Yr("/sounds/tall_grass/monster/screech_03.ogg"),grass_00:Yr("/sounds/tall_grass/rustle/grass_00.mp3"),grass_01:Yr("/sounds/tall_grass/rustle/grass_01.mp3"),grass_02:Yr("/sounds/tall_grass/rustle/grass_02.mp3"),grass_03:Yr("/sounds/tall_grass/rustle/grass_03.mp3"),grass_04:Yr("/sounds/tall_grass/rustle/grass_04.mp3"),grass_05:Yr("/sounds/tall_grass/rustle/grass_05.mp3"),light_up:Yr("/sounds/tall_grass/light_up.mp3"),light_drain:Yr("/sounds/tall_grass/light_drain.mp3"),emergence_01:Yr("/sounds/jacinto/EarthDebrisSmallClose01.ogg"),emergence_02:Yr("/sounds/jacinto/EarthDebrisSmallClose02.ogg"),cog_tags:Yr("/sounds/jacinto/CogTags.ogg"),wretch_melee_01:Yr("/sounds/jacinto/actors/wretch/AAttackSmall01.ogg"),wretch_melee_02:Yr("/sounds/jacinto/actors/wretch/AAttackSmall03.ogg"),wretch_melee_03:Yr("/sounds/jacinto/actors/wretch/AAttackSmall04.ogg"),scion_melee_01:Yr("/sounds/jacinto/actors/wretch/AAttackSmall01.ogg",{rate:.5}),scion_melee_02:Yr("/sounds/jacinto/actors/wretch/AAttackSmall03.ogg",{rate:.5}),scion_melee_03:Yr("/sounds/jacinto/actors/wretch/AAttackSmall04.ogg",{rate:.5}),locust_buff_01:Yr("/sounds/jacinto/actors/drone/AChatterAttack01.ogg"),locust_buff_02:Yr("/sounds/jacinto/actors/drone/AChatterAttack02.ogg"),locust_buff_03:Yr("/sounds/jacinto/actors/drone/AChatterAttack03.ogg"),reload:Yr("/sounds/jacinto/weapons/reloadassault02.ogg"),needs_reload:Yr("/sounds/jacinto/NeedsReload01.ogg"),level_start:Yr("/sounds/jacinto/ObjectiveAdd01.ogg"),level_end:Yr("/sounds/jacinto/ObjectiveComplete01.ogg"),cog_rifle_fire_01:Yr("/sounds/jacinto/weapons/Assault_Fire_02.ogg"),cog_rifle_fire_02:Yr("/sounds/jacinto/weapons/Assault_Fire_07.ogg"),cog_rifle_fire_03:Yr("/sounds/jacinto/weapons/CogARifleFire02.ogg"),cog_rifle_fire_04:Yr("/sounds/jacinto/weapons/CogARifleFire04.ogg"),shot_missed_01:Yr("/sounds/jacinto/weapons/BBulletImpact10.ogg"),shot_missed_02:Yr("/sounds/jacinto/weapons/BBulletImpact1.ogg"),longshot_fire_01:Yr("/sounds/jacinto/weapons/CogSniperFire01.ogg"),longshot_fire_02:Yr("/sounds/jacinto/weapons/CogSniperFire02.ogg"),longshot_fire_03:Yr("/sounds/jacinto/weapons/CogSniperFire03.ogg"),pistol_fire_01:Yr("/sounds/jacinto/weapons/CogPistolFire01.ogg"),pistol_fire_02:Yr("/sounds/jacinto/weapons/CogPistolFire02.ogg"),chainsaw_01:Yr("/sounds/jacinto/weapons/ChainsawRevIdle01.ogg"),chainsaw_02:Yr("/sounds/jacinto/weapons/ChainsawStart01.ogg"),grenade_ready:Yr("/sounds/jacinto/weapons/GrenadeBeep02.ogg"),smoke_grenade_fire:Yr("/sounds/jacinto/weapons/GrenadeSmokeSpew01.ogg"),boltok_fire_01:Yr("/sounds/jacinto/weapons/LocustBoltok01.ogg"),boltok_fire_02:Yr("/sounds/jacinto/weapons/LocustBoltok04.ogg"),hammerburst_fire_01:Yr("/sounds/jacinto/weapons/LocustRifleFire01.ogg"),hammerburst_fire_02:Yr("/sounds/jacinto/weapons/LocustRifleFire03.ogg"),bullet_hit_01:Yr("/sounds/jacinto/weapons/RifleAmmoImpactBodyFlesh01.ogg"),bullet_hit_02:Yr("/sounds/jacinto/weapons/RifleAmmoImpactBodyFlesh02.ogg"),bullet_hit_03:Yr("/sounds/jacinto/weapons/RifleAmmoImpactBodyFlesh03.ogg"),bullet_miss_01:Yr("/sounds/jacinto/weapons/RifleAmmoImpactDirt01.ogg"),bullet_miss_02:Yr("/sounds/jacinto/weapons/RifleAmmoImpactDirt02.ogg"),bullet_miss_03:Yr("/sounds/jacinto/weapons/RifleAmmoImpactDirt03.ogg"),explosion_01:Yr("/sounds/jacinto/weapons/BoomerExplosionA01.ogg"),explosion_02:Yr("/sounds/jacinto/weapons/BoomerExplosionB01.ogg")},Qr=function(t){return new Ni({game:t.game,name:"Ammo",passable:!0,lightPassable:!0,renderer:{character:"||",sprite:"\ue891",background:Br.gray,color:Br.base3},flammability:0,explosivity:0})},Jr=function(t,e){return new Gi({game:t.game,name:"Grenade",passable:!0,lightPassable:!0,renderer:{character:"x",sprite:"\ue83a",color:Br.red,background:Br.base02},flammability:0,explosivity:3,attackDamage:10,speed:be*e,energy:0,range:e})},tn=["message","messageType","processDelay"],en=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.message,o=t.messageType,i=void 0===o?ze.INFORMATION:o,c=t.processDelay,u=void 0===c?50:c,l=Ve(t,tn);return f(this,r),(n=e.call(this,s({},l))).message=a,n.messageType=i,n.processDelay=u,n}return d(r,[{key:"perform",value:function(){return this.game.addMessage("".concat(this.actor.name,' says "').concat(this.message,'"'),this.messageType),{success:!0,alternative:null}}}]),r}($e),rn=function(){function t(e){var r=e.actor,n=void 0===r?null:r,a=e.repeat,o=void 0===a?1:a,i=e.chainOnSuccess,c=void 0!==i&&i,s=e.chainOnFail,u=void 0!==s&&s,l=e.extraActionParams,h=void 0===l?{}:l;f(this,t),this.actor=n,this.repeat=o,this.repeated=0,this.chainOnSuccess=c,this.chainOnFail=u,this.extraActionParams=h}return d(t,[{key:"isValid",value:function(){return!0}},{key:"reset",value:function(){this.repeated=0}},{key:"shouldRepeat",value:function(){return this.repeated<this.repeat}},{key:"shouldChainToNextBehavior",value:function(){return!(!this.chainOnSuccess||!this.actor.lastActionSucceded())||!(!this.chainOnFail||!this.actor.lastActionFailed())}},{key:"interrupted",value:function(){return!this.shouldChainToNextBehavior()&&!this.shouldRepeat()}},{key:"getDefaultActionParams",value:function(){return{game:this.actor.game,actor:this.actor,interrupt:this.interrupted(),energyCost:100}}},{key:"constructActionClassAndParams",value:function(){return[en,{message:"I am behaving"}]}},{key:"getAction",value:function(){var t=h(this.constructActionClassAndParams(),2),e=t[0],r=t[1];return e&&r?new e(s(s(s({},this.getDefaultActionParams()),r),this.extraActionParams)):null}}]),t}(),nn=["targetPositions","processDelay"],an=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetPositions,o=t.processDelay,i=void 0===o?25:o,c=Ve(t,nn);return f(this,r),(n=e.call(this,s({},c))).targetPositions=a,n.processDelay=i,n}return d(r,[{key:"perform",value:function(){var t=this,e=!1;if(!this.actor.entityTypes.includes("ATTACKING"))return{success:!0,alternative:new en({message:"Ooh I don't know how to attack",game:this.game,actor:this.actor})};var r=[],n={x:this.actor.pos.x,y:this.actor.pos.y},a=this.particleTemplate.renderer;return this.targetPositions.forEach((function(n){var a=t.actor.attack(n);r.push(n),a&&(e=!0)})),this.addParticle(r.length+1,n,null,a,Be,r),e&&(this.actor.energy-=this.energyCost),{success:e,alternative:null}}}]),r}($e),on=function(t){g(r,t);var e=b(r);function r(t){var n=Object.assign({},(qe(t),t));return f(this,r),e.call(this,s({},n))}return d(r,[{key:"isValid",value:function(){return this.actor.getCursorPositions().length}},{key:"constructActionClassAndParams",value:function(){var t=this;return[an,{targetPositions:this.actor.getCursorPositions(),onAfter:function(){return t.actor.removeAnimations()}}]}}]),r}(rn),cn=["message","messageType"],sn=function(t){g(r,t);var e=b(r);function r(t){t.message,t.messageType;var n,a=Ve(t,cn);return f(this,r),(n=e.call(this,s({},a))).processDelay=0,n}return d(r,[{key:"perform",value:function(){var t=this.actor.reload();return this.game.addMessage("".concat(this.actor.name,' says "RELOADING"'),ze.INFORMATION),{success:t,alternative:null}}}]),r}($e),un=function(){function t(e){var r=e.game,n=e.pos,a=void 0===n?{x:0,y:0}:n,o=e.life,i=void 0===o?10:o,c=e.speed,s=void 0===c?1:c,u=e.color,l=void 0===u?"#fff":u,h=e.backgroundColor,p=void 0===h?"#000":h,d=e.character,y=void 0===d?"*":d,g=e.direction,v=void 0===g?null:g,m=e.path,_=void 0===m?null:m,b=e.rendererGradients,O=void 0===b?null:b,w=e.transfersBackground,k=void 0!==w&&w,x=e.transfersBackgroundOnDestroy,R=void 0!==x&&x;f(this,t),this.game=r,this.pos=a,this.life=i,this.maxLife=i,this.speed=s,this.color=l,this.backgroundColor=p,this.character=y,this.direction=v,this.path=_,this.rendererGradients=O,this.transfersBackground=k,this.transfersBackgroundOnDestroy=R;var A=this.game.display.particleLayer;this.displayNode=this.game.display.createTile(this.pos.x,this.pos.y,this.character,this.color,this.backgroundColor,A)}return d(t,[{key:"update",value:function(){this.life-=1,this.life>0?(this.updateColors(),this.updatePosition(),this.transfersBackground&&this.transferBackground()):this.destroy()}},{key:"updatePosition",value:function(){this.pos=this.getNextPos();var t=this.game.getRenderOffsetX(),e=this.game.getRenderOffsetY(),r=(this.pos.x+t)*this.displayNode.width(),n=(this.pos.y+e)*this.displayNode.height();this.displayNode.x(r),this.displayNode.y(n)}},{key:"getNextPos",value:function(t){return this.direction?this.getNextPosInDirection(this.speed):this.path?this.getNextPosInPath():this.pos}},{key:"getNextPosInDirection",value:function(t){return{x:this.pos.x+this.direction.x*this.speed*t,y:this.pos.y+this.direction.y*this.speed*t}}},{key:"getNextPosInPath",value:function(){var t=this.path.shift();return s({},t||this.pos)}},{key:"updateColors",value:function(){var t=this;if(null!==this.rendererGradients){var e=Object.keys(this.rendererGradients),r=1-this.life/this.maxLife;e.forEach((function(e){var n=h(t.rendererGradients[e],2),a=n[0],o=n[1],i=ln(a,o,r);t[e]=i})),this.game.display.updateTile(this.displayNode,this.character,this.color,this.backgroundColor)}}},{key:"destroy",value:function(){this.transfersBackgroundOnDestroy&&this.transferBackground()}},{key:"transferBackground",value:function(){var t=this,e=Vt(this.game,this.pos);e&&(e.overriddenBackground=this.backgroundColor,e.entities.forEach((function(e){null!==e&&void 0!==e&&e.renderer&&(e.renderer.background=t.backgroundColor)})))}}]),t}(),ln=function(t,e,r){return t=t.substr(1).match(/.{1,2}/g).map((function(t){return parseInt(t,16)*(1-r)})),e=e.substr(1).match(/.{1,2}/g).map((function(t){return parseInt(t,16)*r})),"#"+[0,1,2].map((function(r){return Math.min(Math.round(t[r]+e[r]),255)})).reduce((function(t,e){return(t<<8)+e}),0).toString(16).padStart(6,"0")},hn=function(){function t(e){var r=e.game,n=void 0===r?null:r,a=e.particles,o=void 0===a?[]:a,i=e.isRunning,c=void 0!==i&&i,s=e.easingFunction,u=void 0===s?fe.linear:s,l=e.animationTimeStep,h=void 0===l?.9:l;f(this,t),this.game=n,this.particles=o,this.easingFunction=u,this.animationTimeStep=h,this.isRunning=c}return d(t,[{key:"addParticle",value:function(t){var e=new un(s({game:this.game},t));return this.particles.push(e),!0}},{key:"process",value:function(){var t=D(C().mark((function t(e){var r;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.particles.forEach((function(t){t.update(),t.life<=0&&t.displayNode.destroy()})),this.game.display.particleLayer.batchDraw(),r=Math.max(100*e,12),t.next=5,Pt(r);case 5:if(this.particles=this.particles.filter((function(t){return t.life>0})),0!==this.particles.length){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTileAtPos",value:function(t,e){var r="".concat(t,",").concat(e);return this.game.map[r]}},{key:"start",value:function(){var t=D(C().mark((function t(){var e;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isRunning=!0,e=this.animationTimeStep;case 2:if(!this.isRunning){t.next=9;break}return t.next=5,this.process(e);case 5:this.isRunning=t.sent,e=this.easingFunction(e),t.next=2;break;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"stop",value:function(){this.isRunning=!1}}]),t}(),fn=function(t){var e=t.game,r=t.fromPosition,n=t.targetPositions,a=t.colorGradient,o=void 0===a?["#ff551a","#673ab7"]:a,i=t.backgroundColorGradient,c=void 0===i?["#673ab7","#ff551a"]:i,u=t.easingFunction,l=void 0===u?fe.linear:u,h=t.animationTimeStep,f=void 0===h?.2:h,p=t.reverse,d=void 0!==p&&p,y=new hn({game:e,easingFunction:l,animationTimeStep:f});return n.forEach((function(t){var n=Xt(e,r,t);n.push(s({},t)),d&&(n=n.reverse()),n.forEach((function(t,e){var r=[].concat(T(Array(e).fill(s({},n[0]))),T(n));y.addParticle({life:r.length+1,pos:r[0],path:r,rendererGradients:{color:o,backgroundColor:c}})}))})),y},pn=["targetPositions","processDelay"],dn=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetPositions,o=t.processDelay,i=void 0===o?25:o,c=Ve(t,pn);return f(this,r),(n=e.call(this,s({},c))).targetPositions=a,n.processDelay=i,n.multiTargetRangedAttackHits=[],n.multiTargetRangedAttackMisses=[],n.onSuccess=function(){(null===c||void 0===c?void 0:c.onSuccess)&&c.onSuccess(),n.handleOnAfter()},n}return d(r,[{key:"handleOnAfter",value:function(){var t=D(C().mark((function t(){var e;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=fn({game:this.game,fromPosition:this.actor.getPosition(),targetPositions:this.multiTargetRangedAttackHits,backgroundColorGradient:[Br.base1,Br.base3],colorGradient:[Br.base3,Br.base3]}),this.multiTargetRangedAttackMisses.forEach((function(t){e.addParticle({life:5,pos:s({},t),direction:{x:0,y:0}})})),t.next=4,e.start();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"perform",value:function(){var t=this,e=!1;if(!this.actor.entityTypes.includes("RANGED_ATTACKING"))return{success:!0,alternative:new en({message:"Ooh I don't know how to attack",game:this.game,actor:this.actor})};var r=this.actor.getEquipedWeapons();return r.length>0&&r[0].magazine<=0?($r.needs_reload.play(),{success:!1,alternative:null}):(this.targetPositions.forEach((function(r){var n=h(t.actor.rangedAttack(r),2),a=n[0],o=n[1];a&&(e=!0,o?t.multiTargetRangedAttackHits.push(r):t.multiTargetRangedAttackMisses.push(r))})),{success:e,alternative:null})}}]),r}($e),yn=function(t){g(r,t);var e=b(r);function r(t){var n=Object.assign({},(qe(t),t));return f(this,r),e.call(this,s({},n))}return d(r,[{key:"isValid",value:function(){return this.actor.getCursorPositions().length}},{key:"constructActionClassAndParams",value:function(){var t=this;return[dn,{targetPositions:this.actor.getCursorPositions(),onAfter:function(){t.actor.removeAnimations(),t.actor.reload()}}]}}]),r}(rn),gn=["effect","processDelay"],vn=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.effect,o=t.processDelay,i=void 0===o?25:o,c=Ve(t,gn);return f(this,r),(n=e.call(this,s({},c))).effect=a,n.processDelay=i,n}return d(r,[{key:"perform",value:function(){var t=this,e=this.game.engine.addStatusEffect(this.effect);return ue(this.actor.pos.x,this.actor.pos.y,4).forEach((function(e){t.addParticle(3,s({},e),{x:-1*Math.sign(e.x-t.actor.pos.x),y:-1*Math.sign(e.y-t.actor.pos.y)})})),{success:e,alternative:null}}}]),r}($e),mn=["effects","processDelay"],_n=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.effects,o=t.processDelay,i=void 0===o?25:o,c=Ve(t,mn);return f(this,r),(n=e.call(this,s({},c))).effects=a,n.processDelay=i,n}return d(r,[{key:"addParticleAnimationAt",value:function(t){var e=this,r=t.pos;ue(r.x,r.y,4).forEach((function(t){e.addParticle(3,s({},t),{x:-1*Math.sign(t.x-t.x),y:-1*Math.sign(t.y-t.y)})}))}},{key:"perform",value:function(){var t=this,e=!1;return this.effects.forEach((function(r){var n=t.game.engine.addStatusEffect(r);e=n||e,n&&t.addParticleAnimationAt({pos:r.actor.getPosition()})})),{success:e,alternative:null}}}]),r}($e),bn=["effectClass","effectDefaults"],On=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.effectClass,o=t.effectDefaults,i=void 0===o?{}:o,c=Ve(t,bn);return f(this,r),(n=e.call(this,s({},c))).effectClass=a,n.effectDefaults=i,n}return d(r,[{key:"isValid",value:function(){return this.actor.getCursorPositions().length}},{key:"getTargetsOnTile",value:function(t){return ae(t.entities)}},{key:"createEffects",value:function(){var t=this,e=[];return this.actor.getCursorPositions().forEach((function(r){var n=t.actor.game.map[Bt(r)];n&&t.getTargetsOnTile(n).forEach((function(r){var n=new t.effectClass(s(s({},t.effectDefaults),{},{actor:r,game:t.actor.game}));e.push(n)}))})),e}},{key:"constructActionClassAndParams",value:function(){var t=this,e=this.createEffects();return[_n,{effects:e,onAfter:function(){return t.actor.removeAnimations()}}]}}]),r}(rn),wn=function(t){g(r,t);var e=b(r);function r(t){var n=Object.assign({},(qe(t),t));return f(this,r),e.call(this,s({},n))}return d(r,[{key:"getTargetsOnTile",value:function(t){var e=this;return t.entities.filter((function(t){return e.actor.isAlly(t)}))}}]),r}(On),kn=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).targetCover=null,n}return d(r,[{key:"isValid",value:function(){return this.enemiesExist()&&!this.actor.isCovered()}},{key:"enemiesExist",value:function(){return this.actor.getEnemies().length>0}},{key:"getDistanceToTarget",value:function(t){return Yt(this.actor.game,t.getPosition(),this.actor.getPosition(),8).length}},{key:"findClosestCover",value:function(){var t=this,e=null;return this.actor.getCoverEntities().forEach((function(r){e||(e=r),t.getDistanceToTarget(r)<t.getDistanceToTarget(e)&&(e=r)})),e}},{key:"constructActionClassAndParams",value:function(){var t=null,e=null,r=null,n=this.actor.getPosition();if(!(r=this.targetCover?this.targetCover:this.findClosestCover()))return[t,e];var a=Yt(this.actor.game,r.getPosition(),this.actor.getPosition());return n=a.length>0?a[0]:null,[t=Je,e={hidden:!0,targetPos:n}]}}]),r}(rn),xn=["maintainDistanceOf"],Rn=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.maintainDistanceOf,o=void 0===a?1:a,i=Ve(t,xn);return f(this,r),(n=e.call(this,s({},i))).chainOnFail=!0,n.maintainDistanceOf=o,n}return d(r,[{key:"isValid",value:function(){return!0}},{key:"getDistanceToTarget",value:function(t){return Yt(this.actor.game,t.getPosition(),this.actor.getPosition(),8).length}},{key:"findClosestEnemy",value:function(){var t=this,e=null;return this.actor.getEnemies().forEach((function(r){e||(e=r),t.getDistanceToTarget(r)<t.getDistanceToTarget(e)&&(e=r)})),e}},{key:"constructActionClassAndParams",value:function(){var t=this.findClosestEnemy();if(!t)return[null,null];var e=Yt(this.actor.game,t.getPosition(),this.actor.getPosition()),r=(e=e.slice(0,-this.maintainDistanceOf)).length>0?e[0]:null;return r?[Je,{hidden:!0,targetPos:r}]:[null,null]}}]),r}(rn),An=["attackPattern","color"],En=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.attackPattern,o=void 0===a?Fe.point:a,i=t.color,c=void 0===i?Br.red:i,u=Ve(t,An);return f(this,r),(n=e.call(this,s({},u))).attackPattern=o,n.color=c,n.chainOnSuccess=!0,n}return d(r,[{key:"isValid",value:function(){var t=this,e=!1;return he(this.attackPattern,this.getTargetPosition()).forEach((function(r){var n=t.actor.game.map[Bt(r)];n&&ae(n.entities).forEach((function(r){t.actor.isEnemy(r)&&(e=!0)}))})),e}},{key:"getTargetPosition",value:function(){return this.actor.getPosition()}},{key:"constructActionClassAndParams",value:function(){var t=he(this.attackPattern,this.getTargetPosition());return this.actor.activateCursor(t),this.actor.updateAllCursorNodes([{key:"fill",value:this.color},{key:"stroke",value:"transparent"}]),[en,{message:"I am telegraphing my next attack",processDelay:500}]}}]),r}(rn),Sn=["accuracyToAttackThreshold"],Cn=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.accuracyToAttackThreshold,o=void 0===a?0:a,i=Ve(t,Sn);return f(this,r),(n=e.call(this,s({},i))).accuracyToAttackThreshold=o,n.chainOnSuccess=!0,n}return d(r,[{key:"isValid",value:function(){var t=this.actor.getAttackRange(),e=this.findClosestEnemyInRange(t);return!!e&&!(this.actor.getRangedAttackChance(e.getPosition())<this.accuracyToAttackThreshold)}},{key:"findClosestEnemyInRange",value:function(t){var e=this,r=null;return this.actor.getEnemies().filter((function(r){var n=e.getDistanceToTarget(r);return t>=n})).forEach((function(t){r||(r=t),e.getDistanceToTarget(t)<e.getDistanceToTarget(r)&&(r=t)})),r}},{key:"getDistanceToTarget",value:function(t){var e=t.getPosition();return Kt(this.actor.game,e,this.actor.getPosition(),8).length}},{key:"getTargetPosition",value:function(){return this.findClosestEnemy().getPosition()}},{key:"getEquippedWeapon",value:function(){return this.actor.getEquipedWeapons()[0]}},{key:"constructActionClassAndParams",value:function(){var t=this.getEquippedWeapon(),e=this.getTargetPosition(),r=t.getPositionsInShape(e);return this.actor.activateCursor(r,!0),this.actor.updateAllCursorNodes([{key:"fill",value:Br.red},{key:"stroke",value:"transparent"}]),[en,{message:"I am telegraphing my next attack",processDelay:500}]}}]),r}(Rn),Ln=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).accuracyToAttackThreshold=-1,n.chainOnSuccess=!0,n}return d(r)}(Cn),Dn=function(t){g(r,t);var e=b(r);function r(t){var n=Object.assign({},(qe(t),t));return f(this,r),e.call(this,s({},n))}return d(r,[{key:"isValid",value:function(){return!0}},{key:"constructActionClassAndParams",value:function(){return[en,{message:"*breathes*"}]}}]),r}(rn),Tn=["container"],Nn=d((function t(e){var r=e.itemType,n=e.items;f(this,t),this.itemType=r,this.items=n})),Pn=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.container,o=void 0===a?[]:a,i=Ve(t,Tn);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("CONTAINING"),n.container=o,n}return d(r,[{key:"move",value:function(t){var e=I(v(r.prototype),"move",this).call(this,t);return e&&this.container.forEach((function(e){e.items.length>0&&e.items.forEach((function(e){return e.setPosition(t)}))})),e}},{key:"createSlot",value:function(t){var e=new Nn({itemType:t.name,items:[t]});this.container.push(e)}},{key:"contains",value:function(t){var e=this.container.filter((function(e){return e.itemType===t}));return e.length>0&&e[0].items[0]}},{key:"addToContainer",value:function(t){var e=this.container.findIndex((function(e){return e.itemType===t.name}));e>=0?this.container[e].items.push(t):this.createSlot(t)}},{key:"removeFromContainer",value:function(t){var e=this,r=!1;return this.container.forEach((function(n,a){n.items=n.items.filter((function(e){return e.id!==t.id})),n.items.length||e.container.splice(a,1),r=!0})),r}}]),r}(t)},Gn=function(t,e){return new Di({game:t.game,name:"Gnasher",passable:!0,lightPassable:!0,attackRange:4,magazineSize:2,baseRangedAccuracy:.9,baseRangedDamage:2,attackDamage:1,pos:e,shapePattern:Fe.square,equipmentType:Pe,renderer:{character:"G",color:Br.base03,background:Br.green},rangedHitSounds:[$r.boltok_fire_01,$r.boltok_fire_02],rangedMissSounds:[$r.bullet_miss_01,$r.bullet_miss_02,$r.bullet_miss_03]})},Un=function(t,e){return new Di({game:t.game,name:"Hammer Burst",passable:!0,attackRange:6,magazineSize:4,baseRangedAccuracy:.65,baseRangedDamage:2,attackDamage:1,pos:e,shapePattern:Fe.filledClover,equipmentType:Pe,renderer:{character:"Hb",color:Br.base3,background:Br.gray},rangedHitSounds:[$r.hammerburst_fire_01,$r.hammerburst_fire_02],rangedMissSounds:[$r.bullet_miss_01,$r.bullet_miss_02,$r.bullet_miss_03]})},In=function(t,e){return new Di({game:t.game,name:"Grenade Thrower",passable:!0,attackRange:10,magazineSize:1,baseRangedAccuracy:.9,baseRangedDamage:0,attackDamage:0,pos:e,shapePattern:Fe.bigSquare,equipmentType:Pe,renderer:{character:"Gb",color:Br.base03,background:Br.green},rangedHitSounds:[$r.explosion_01,$r.explosion_01]})},Mn=function(t){return new Ni({game:t.game,name:"Ammo",passable:!0,renderer:{character:"|b",sprite:"\ue879",background:Br.gray,color:Br.red},flammability:0,explosivity:4})},Fn=function(){function t(e){var r=e.game,n=e.actor,a=e.name,o=void 0===a?"Effect":a,i=e.description,c=void 0===i?"":i,s=e.lifespan,u=void 0===s?100:s,l=e.stepInterval,h=void 0===l?100:l,p=e.allowDuplicates,d=void 0===p||p,y=e.onStart,g=void 0===y?function(){return null}:y,v=e.onStep,m=void 0===v?function(){return null}:v,_=e.onStop,b=void 0===_?function(){return null}:_,O=e.renderer,w=void 0===O?{background:"green",color:"white",character:"*"}:O,k=e.processOnlyOnPlayerTurn,x=void 0!==k&&k;f(this,t),this.game=r,this.actor=n,this.name=o,this.description=c,this.lifespan=u,this.timeToLive=u,this.stepInterval=h,this.allowDuplicates=d,this.timeSinceLastStep=0,this.onStart=g,this.onStep=m,this.onStop=b,this.renderer=w,this.processOnlyOnPlayerTurn=x}return d(t,null,[{key:"getValidTargetsOnTile",value:function(t,e){return ae(t.entities)}}]),t}();Fn.displayName="Base Effect";var Wn=["buffValue"],jn=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.buffValue,o=void 0===a?1:a,i=Ve(t,Wn);return f(this,r),(n=e.call(this,s({},i))).name="Sand Skin",n.allowDuplicates=!1,n.actor_background=n.actor.renderer.background,n.renderer={character:"\u2726\ufe0f",color:"#A89078",background:"#D8C0A8"},n.onStart=function(){n.actor.defense+=o,n.game.addMessage("".concat(n.actor.name," was enveloped in hardened sand."),ze.INFORMATION),n.actor.renderer.background="#A89078"},n.onStop=function(){n.actor.defense=Math.max(0,n.actor.defense-o),n.game.addMessage("".concat(n.actor.name,"'s hardened sand skin fell away."),ze.INFORMATION),n.actor.renderer.background=n.actor_background},n}return d(r,null,[{key:"getValidTargetsOnTile",value:function(t,e){return ae(t.entities).filter((function(t){return e.id!==t.id&&e.isAlly(t)}))}}]),r}(Fn);jn.displayName="Sand Skin";var Bn=["buffValue","onStartCallback"],zn=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.buffValue,o=void 0===a?1:a,i=t.onStartCallback,c=void 0===i?function(){return null}:i,u=Ve(t,Bn);return f(this,r),(n=e.call(this,s({},u))).name="Melee Damage",n.allowDuplicates=!1,n.actor_background=n.actor.renderer.background,n.actor_color=n.actor.renderer.color,n.attackDamage=n.actor.attackDamage,n.renderer={color:"#424242",background:"#A89078",character:"\ue888"},n.onStart=function(){c(),n.actor.attackDamage+=o,n.actor.renderer.background=n.actor_color,n.actor.renderer.color=n.actor_background},n.onStop=function(){n.actor.attackDamage=n.attackDamage,n.actor.renderer.color=n.actor_color,n.actor.renderer.background=n.actor_background},n}return d(r,null,[{key:"getValidTargetsOnTile",value:function(t,e){return ae(t.entities).filter((function(t){return e.id!==t.id&&e.isAlly(t)}))}}]),r}(Fn);zn.displayName="Melee Damage";var Hn=["loadout"];function Vn(t,e){ra(t,e,Qn.wretch())}function qn(t,e){ra(t,e,Qn.drone())}function Kn(t,e){ra(t,e,Qn.drone_grenadier())}function Xn(t,e){ra(t,e,Qn.hunter())}function Yn(t,e){ra(t,e,Qn.scion())}function Zn(t,e){ra(t,e,Qn.scion())}function $n(t,e){!function(t,e){var r=function(){return ta(t,e)};na(t,r)}(t,e)}var Qn={wretch:function(){return{name:"Wretch",renderer:{character:It(["w"]),color:Br.flesh1,background:Br.flesh3,sprite:"\ue8d7"},durability:2,attackDamage:1,baseDescription:"A wrinkled, pale-fleshed abomination.",baseDescriptors:["gutteral chirps and a bloodthirst keep you at bay."],behaviors:[new Rn({repeat:5}),new En({repeat:1,attackPattern:Fe.clover}),new on({repeat:1,extraActionParams:{onSuccess:function(){It([$r.wretch_melee_01,$r.wretch_melee_02,$r.wretch_melee_03]).play()}}})]}},drone:function(){return{name:"Drone",renderer:{character:"d",color:Br.flesh2,background:Br.flesh1,sprite:"\ue825"},durability:3,attackDamage:1,behaviors:[new Rn({repeat:5,maintainDistanceOf:4}),new Cn({repeat:1}),new yn({repeat:1})],loadout:{equipmentCreators:[Gn],inventoryCreators:[{amount:100,creator:Qr}]}}},drone_grenadier:function(){return{name:"Grenadier",renderer:{character:"db",color:Br.flesh2,background:Br.flesh1,sprite:"\ue827"},durability:3,attackDamage:1,behaviors:[new Rn({repeat:1,maintainDistanceOf:4}),new Ln({repeat:1}),new yn({repeat:1})],loadout:{equipmentCreators:[In],inventoryCreators:[{amount:10,creator:Mn}]}}},hunter:function(){return{name:"Hunter",renderer:{character:"h",color:Br.flesh2,background:Br.flesh1,sprite:"\ue81d"},durability:3,attackDamage:1,behaviors:[new kn({repeat:5}),new Dn({repeat:1}),new Cn({repeat:1}),new yn({repeat:1}),new Cn({repeat:1}),new yn({repeat:1})],loadout:{equipmentCreators:[Un],inventoryCreators:[{amount:100,creator:Qr}]}}},scion:function(){return{name:"Scion",renderer:{character:"S",color:Br.flesh2,background:Br.flesh1,sprite:"\ue8d4"},durability:10,attackDamage:4,behaviors:[new Rn({repeat:5}),new En({repeat:1,attackPattern:Fe.big_circle,color:Br.blue}),new wn({repeat:1,effectClass:zn,effectDefaults:{buffValue:1,lifespan:1e3,stepInterval:be,processDelay:200},extraActionParams:{onSuccess:function(){It([$r.locust_buff_01,$r.locust_buff_02,$r.locust_buff_03]).play()}}}),new Rn({repeat:5}),new En({repeat:1,attackPattern:Fe.big_circle}),new on({repeat:1,extraActionParams:{onSuccess:function(){It([$r.scion_melee_01,$r.scion_melee_02,$r.scion_melee_03]).play()}}})]}},skorge:function(){return{renderer:{sprite:"\ue8d9",character:"S",color:Br.flesh1,background:Br.base04},name:"Skorge",durability:40,attackDamage:5,behaviors:[new Rn({repeat:5}),new En({repeat:1,attackPattern:Fe.clover}),new on({repeat:1})]}}},Jn=function(t,e){return{pos:e,game:t.game,faction:"LOCUST",enemyFactions:["COG","ALL"],equipment:Me(),onDestroy:function(e){var r=Math.random();r<=.05?t.addAmmoLoot(e.getPosition()):r<=.1&&t.addGrenadeLoot(e.getPosition())}}};function ta(t,e){var r=It(Object.keys(Qn).filter((function(t){return"skorge"!==t})).map((function(t){return Qn[t]})));return ea(s(s({},Jn(t,e)),r()))}function ea(t){var e=t.loadout,r=Ve(t,Hn),n=new Ai(s({},r));return e&&function(t,e){var r=e.equipmentCreators,n=e.inventoryCreators,a=t.game.engine,o=n.map((function(t){var e=t.amount,r=t.creator;return function(t,e,r){var n=Array(e).fill("").map((function(){return r(t)}));return new Nn({itemType:n[0].name,items:n})}(a,e,r)}));t.container=o,r.forEach((function(e){var r=e(a);t.equip(r.equipmentType,r)}))}(n,e),n}function ra(t,e,r){na(t,(function(){return function(t,e,r){return ea(s(s({},Jn(t,e)),r))}(t,e,r)}))}function na(t,e){var r=e();t.game.placeActorOnMap(r)&&t.game.engine.addActor(r)}r(9396);var aa=function(e){g(n,e);var r=b(n);function n(t){var e,a=Object.assign({},(qe(t),t));return f(this,n),(e=r.call(this,s({},a))).createVerticalRoadGoingNorthAndSouth=function(){return function(t){return e.createVerticalRoad(t,e.game.mapHeight)}},e.createVerticalRoadGoingNorth=function(t){return function(r){return e.createVerticalRoad(r,t+1)}},e.createVerticalRoadGoingSouth=function(t){return function(r){return e.createVerticalRoad(r,e.game.mapHeight-t-1,t+1)}},e.data={level:1,highestLevel:null,turnCount:0},e.dataByLevel=[{enemies:T(Array(8).fill("Wretch")),emergenceHoles:0},{enemies:[].concat(T(Array(1).fill("Scion")),T(Array(6).fill("Wretch"))),emergenceHoles:0},{enemies:T(Array(4).fill("Drone")),emergenceHoles:0},{enemies:T(Array(3).fill("Wretch")),emergenceHoles:1},{enemies:[],emergenceHoles:6},{enemies:T(Array(4).fill("Hunter")),emergenceHoles:0},{enemies:[].concat(T(Array(12).fill("Wretch")),["Skorge"]),emergenceHoles:3}],e}return d(n,[{key:"createHorizontalRoad",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;br(this.game.tileKey,{x:r,y:t},4,e,"ROAD_EDGE",this.game.map,this.game.mapHeight,this.game.mapWidth),br(this.game.tileKey,{x:r,y:t+1},2,e,"ROAD",this.game.map,this.game.mapHeight,this.game.mapWidth)}},{key:"createVerticalRoad",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;br(this.game.tileKey,{x:t,y:r},e,3,"ROAD_EDGE",this.game.map,this.game.mapHeight,this.game.mapWidth),br(this.game.tileKey,{x:t+1,y:r},e,1,"ROAD",this.game.map,this.game.mapHeight,this.game.mapWidth)}},{key:"createCityBlockLevel",value:function(){var t=this,e=Wt(0,2),r=Wt(1,5);this.game.createEmptyLevel(),br(this.game.tileKey,{x:0,y:0},this.game.mapHeight,1,"SAFE",this.game.map,this.game.mapHeight,this.game.mapWidth);var n=this.game.mapHeight/4;this.createHorizontalRoad(n,this.game.mapWidth),Array(e).fill("").forEach((function(){var e=Wt(0,t.game.mapWidth);It([t.createVerticalRoadGoingNorth(n),t.createVerticalRoadGoingSouth(n),t.createVerticalRoadGoingNorthAndSouth(n)])(e)})),Array(r).fill("").forEach((function(){var e=t.getEmptyGroundTileKeys(),r=It(e).split(",").map((function(t){return parseInt(t)})),n=Wt(1,6),a=It([3,4,6]);Rr(t.game.map,r[0],r[1],n,a)}));for(var a=Wt(2,10),o=Object.keys(this.game.map).filter((function(e){return["ROAD","DOOR","EMERGENCE_GROUND"].includes(t.game.map[e].type)})),i=0;i<a;i++){var c=It(o);if(!c)break;var s=c.split(",").map((function(t){return parseInt(t)})),u={x:s[0],y:s[1]};Xr(u,this.game)}}},{key:"initialize",value:function(){var e=this;I(v(n.prototype),"initialize",this).call(this),this.game.tileKey=zr,this.setWaveData(),this.createCityBlockLevel(),this.game.initializeMapTiles();var r=Object.keys(this.game.map).filter((function(t){return"FLOOR"===e.game.map[t].type})),a=Object.keys(this.game.map).filter((function(t){return"SAFE"==e.game.map[t].type}));this.placeCogInSafeZone(a);var o=this.game.getFirstPlayer();o&&(o.upgrade_points+=1,o.restoreFullEnergy()),Object.keys(this.game.map).filter((function(t){return"COVER_PLACEHOLDER"===e.game.map[t].type})).forEach((function(t){var r=t.split(",").map((function(t){return parseInt(t)}));!function(t,e){Kr(t,e,Vr.point)}({x:r[0],y:r[1]},e.game)}));for(var i=0;i<this.data.emergenceHoles;i++){var c=It(this.getEmptyTileKeys());if(!c)break;var s=c.split(",").map((function(t){return parseInt(t)}));this.addEmerenceHole({x:s[0],y:s[1]})}for(var u=It([0,0,0,1]),l=0;l<u;l++){var h=It(r);if(!h)break;var f=h.split(",").map((function(t){return parseInt(t)}));this.addCogTagLoot({x:f[0],y:f[1]})}this.data.enemies.forEach((function(r){var n=It(e.getEmptyGroundTileKeys()).split(",").map((function(t){return parseInt(t)}));t["add".concat(r)](e,{x:n[0],y:n[1]})}));var p=this.enemies().reduce((function(t,e){return t+e.durability}),0),d=Math.round(p/2*.5),y=It(r);if(y){var g=y.split(",").map((function(t){return parseInt(t)}));this.addAmmoLoot({x:g[0],y:g[1]},d)}for(var m=Math.random()>.9?1:0,_=0;_<m;_++){var b=It(r);if(!b)break;var O=b.split(",").map((function(t){return parseInt(t)}));this.addGrenadeLoot({x:O[0],y:O[1]})}this.game.draw(),$r.level_start.play()}},{key:"getEmptyTileKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.game.map);return e.filter((function(e){return!t.game.map[e].entities.length}))}},{key:"getEmptyGroundTileKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.game.map);return this.getEmptyTileKeys(e).filter((function(e){return"GROUND"===t.game.map[e].type}))}},{key:"getEmptyFloorTileKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.game.map);return this.getEmptyTileKeys(e).filter((function(e){return"FLOOR"===t.game.map[e].type}))}},{key:"getPlayers",value:function(){return this.game.engine.actors.filter((function(t){return t.entityTypes.includes("PLAYING")}))}},{key:"updateUI",value:function(){this.createOrUpdateInfoBlock("gameProgress",{text:"".concat(this.data.level-1," of  ").concat(this.dataByLevel.length," city blocks cleared.")})}},{key:"checkCoverAnimations",value:function(){this.game.engine.actors.forEach((function(t){t.entityTypes.includes("USES_COVER")&&t.resetCoverAnimations()}))}},{key:"update",value:function(){I(v(n.prototype),"update",this).call(this),this.checkCoverAnimations(),this.updateUI(),this.hasWon()&&this.game.toWin(),this.hasLost()&&(Fr.lose.play(),this.game.toLose(),this.reset(),this.game.initializeGameData()),this.levelComplete()&&(this.nextLevel(),this.setWaveData(),this.initialize())}},{key:"setLevel",value:function(t){this.data.level=t,this.data.turnCount=0}},{key:"nextLevel",value:function(){this.setLevel(this.data.level+1)}},{key:"reset",value:function(){this.setLevel(1),this.initialize()}},{key:"setWaveData",value:function(){var t=this.data.level-1,e=_e.get(this.dataByLevel,t,{});this.data=s(s(s({},this.data),e),{},{hasPlayedEndSound:!1})}},{key:"levelComplete",value:function(){var t=this.playerIsOnExit(),e=this.enemiesDefeated();return e&&(this.activateExitTiles(),this.data.hasPlayedEndSound||($r.level_end.play(),this.data.hasPlayedEndSound=!0)),t&&e}},{key:"enemiesDefeated",value:function(){return this.enemies().length<=0}},{key:"enemies",value:function(){return this.game.engine.actors.filter((function(t){return"LOCUST"===t.faction}))}},{key:"hasWon",value:function(){return this.data.level>this.dataByLevel.length}},{key:"hasLost",value:function(){var t=this.getPlayers();return!t.length||!!(t.length&&t[0].durability<=0)}},{key:"addEmerenceHole",value:function(t){var e=this;br(this.game.tileKey,{x:t.x-1,y:t.y-1},3,3,"EMERGENCE_GROUND",this.game.map,this.game.mapHeight,this.game.mapWidth);var r=new Ii({name:"Hole",pos:t,game:this.game,passable:!0,renderer:{character:"+",sprite:"\ue80a",color:Br.locust1,background:Br.base04},timeToSpread:1,spreadCount:3,durability:1,faction:"LOCUST",enemyFactions:["COG"],speed:be,getSpawnedEntity:function(t){return ta(e,t)},onDestroy:function(){e.game.map[Bt(t)].type="EMERGENCE_DESTROYED",$r.emergence_01.play()},onSpawn:function(){console.log("onSpawn"),$r.emergence_02.play()}});this.game.placeActorOnMap(r)&&(this.game.engine.addActor(r),this.game.draw())}},{key:"createAmmoStack",value:function(t,e){var r=this;return Array(t).fill("").map((function(t){var n=Qr(r.game.engine);return n.pos=e,n}))}},{key:"addAmmoLoot",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.createAmmoStack(r,t).forEach((function(t){e.game.placeActorOnMap(t)}))}},{key:"addGrenadeLoot",value:function(t){var e=Jr(this.game.engine,6);e.pos=t,this.game.placeActorOnMap(e)}},{key:"addCogTagLoot",value:function(t){var e=function(){var t=!1;return new bi({name:"Cog Tag",passable:!0,renderer:{character:"o",sprite:"\ue89f",background:Br.cog1,color:Br.cog3},pickupEffects:[function(e){t||(t=!0,e.upgrade_points+=1,$r.cog_tags.play())}]})}();e.pos=t,this.game.placeActorOnMap(e)}},{key:"placePlayersInSafeZone",value:function(t){var e=this;this.getPlayers().forEach((function(r){var n=t.shift();if(n){var a={x:parseInt(n.split(",")[0]),y:parseInt(n.split(",")[1])};r.pos={x:a.x,y:r.pos.y},e.game.placeActorOnMap(r)}}))}},{key:"placeCogInSafeZone",value:function(t){var e=this;this.getCogEntites().forEach((function(r){var n=t.shift();if(n){var a={x:parseInt(n.split(",")[0]),y:parseInt(n.split(",")[1])};r.pos={x:a.x,y:a.y},e.game.placeActorOnMap(r)}}))}},{key:"getCogEntites",value:function(){return this.game.engine.actors.filter((function(t){return t.entityTypes.includes("HAS_FACTION")})).filter((function(t){return"COG"===t.faction}))}},{key:"playerIsOnExit",value:function(){var t=this.game.getFirstPlayer();if(t&&"EXIT"===this.game.map[Bt(t.pos)].type)return!0;return!1}},{key:"activateExitTiles",value:function(){var t=this.game.mapHeight/4;br(this.game.tileKey,{x:this.game.mapWidth-3,y:t},4,3,"EXIT",this.game.map,this.game.mapHeight,this.game.mapWidth)}}]),n}(Ir),oa=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).infoHeader="Save all of the citizens from the burning keep and get them to the safe zone!",n.data={level:1,highestLevel:null,fireIntensity:1,npcCount:1,debrisCount:4,mediumDebrisCount:3,heavyDebrisCount:4,smallGasCanCount:3,mediumGasCanCount:0,largeGasCanCount:1,turnCount:0},n}return d(r,[{key:"initialize",value:function(){var t=this;I(v(r.prototype),"initialize",this).call(this),this.game.createEmptyLevel(),this.game.initializeMapTiles();var e=Math.floor(this.game.mapWidth/2),n=Math.floor(this.game.mapHeight/2);Rr(this.game.map,e,n),br(this.game.tileKey,{x:0,y:0},3,3,"SAFE",this.game.map,this.game.mapHeight,this.game.mapWidth),this.placeInitialItems(),this.placePlayersInSafeZone();for(var a=Object.keys(this.game.map).filter((function(e){return"FLOOR"===t.game.map[e].type})),o=0;o<this.data.debrisCount;o++){var i=It(a).split(",").map((function(t){return parseInt(t)}));this.addDebris({x:i[0],y:i[1]})}for(var c=0;c<this.data.mediumDebrisCount;c++){var s=It(a).split(",").map((function(t){return parseInt(t)}));this.addDebris({x:s[0],y:s[1]},"Medium Sized Debris","m",10,0)}for(var u=0;u<this.data.heavyDebrisCount;u++){var l=It(a).split(",").map((function(t){return parseInt(t)}));this.addDebris({x:l[0],y:l[1]},"Heavy Sized Debris","H",10,0,!1,!1)}for(var h=0;h<this.data.smallGasCanCount;h++){var f=It(a).split(",").map((function(t){return parseInt(t)}));this.addDebris({x:f[0],y:f[1]},"gas can","Xs",1,1,!0,!0,Ae.SOLARIZED.orange)}for(var p=0;p<this.data.mediumCanCount;p++){var d=It(a).split(",").map((function(t){return parseInt(t)}));this.addDebris({x:d[0],y:d[1]},"gas can","X",1,3,!0,!0,Ae.SOLARIZED.orange)}for(var y=0;y<this.data.largeGasCanCount;y++){var g=It(a).split(",").map((function(t){return parseInt(t)}));this.addDebris({x:g[0],y:g[1]},"gas can","XL",1,10,!0,!0,Ae.SOLARIZED.orange)}for(var m=0;m<this.data.fireIntensity;m++){var _=It(a).split(",").map((function(t){return parseInt(t)}));this.addFire({x:_[0],y:_[1]})}for(var b=0;b<this.data.npcCount;b++){var O=It(a).split(",").map((function(t){return parseInt(t)}));this.addNPC({x:O[0],y:O[1]})}this.updateUI(),Fr.fire_1.playing()||Fr.fire_1.play()}},{key:"checkRemoveSafeFloors",value:function(){var t=this;this.game.engine.actors[this.game.engine.currentActor].name===Se&&(this.data.turnCount+=1,this.data.turnCount>50*this.getSaveCountRequirement()&&Object.keys(this.game.map).filter((function(e){return"SAFE_FLOOR"==t.game.map[e].type})).forEach((function(e){t.game.map[e].type="FLOOR"})))}},{key:"update",value:function(){I(v(r.prototype),"update",this).call(this),this.propogateFire(),this.burnEntities(),this.checkRemoveSafeFloors(),this.updateUI(),this.hasLost()&&(this.reset(),this.game.initializeGameData()),this.hasWon()&&(this.nextLevel(),this.increaseIntensity(),this.game.initializeGameData())}},{key:"updateUI",value:function(){this.createOrUpdateInfoBlock("levelProgress",{text:"".concat(this.countNpcSafe()," of  ").concat(this.getSaveCountRequirement()," are safe!")})}},{key:"setLevel",value:function(t){this.data.level=t,this.data.turnCount=0}},{key:"nextLevel",value:function(){this.setLevel(this.data.level+1)}},{key:"reset",value:function(){this.resetIntensity(),this.setLevel(1),this.initialize()}},{key:"increaseIntensity",value:function(){switch(this.data.level){case 2:this.data.fireIntensity=2,this.data.npcCount=1,this.data.debrisCount=4,this.data.mediumDebrisCount=4,this.data.heavyDebrisCount=1,this.data.smallGasCanCount=1,this.data.mediumGasCanCount=1,this.data.largeGasCanCount=1;break;case 3:this.data.fireIntensity=3,this.data.npcCount=2,this.data.debrisCount=50,this.data.mediumDebrisCount=4,this.data.heavyDebrisCount=1,this.data.smallGasCanCount=1,this.data.mediumGasCanCount=2,this.data.largeGasCanCount=1;break;case 4:this.data.fireIntensity=4,this.data.npcCount=2,this.data.debrisCount=6,this.data.mediumDebrisCount=4,this.data.heavyDebrisCount=1,this.data.smallGasCanCount=3,this.data.mediumGasCanCount=2,this.data.largeGasCanCount=1;break;case 5:this.data.fireIntensity=5,this.data.npcCount=3,this.data.debrisCount=6,this.data.mediumDebrisCount=4,this.data.heavyDebrisCount=1,this.data.smallGasCanCount=3,this.data.mediumGasCanCount=1,this.data.largeGasCanCount=1;break;case 6:this.data.fireIntensity=4,this.data.npcCount=3,this.data.debrisCount=10,this.data.mediumDebrisCount=4,this.data.heavyDebrisCount=1,this.data.smallGasCanCount=3,this.data.mediumGasCanCount=1,this.data.largeGasCanCount=1;break;case 7:this.data.fireIntensity=1,this.data.npcCount=3,this.data.debrisCount=80,this.data.mediumDebrisCount=4,this.data.heavyDebrisCount=1,this.data.smallGasCanCount=25,this.data.mediumGasCanCount=1,this.data.largeGasCanCount=1;break;case 8:this.data.fireIntensity=3,this.data.npcCount=3,this.data.debrisCount=20,this.data.mediumDebrisCount=4,this.data.heavyDebrisCount=1,this.data.smallGasCanCount=6,this.data.mediumGasCanCount=1,this.data.largeGasCanCount=1;break;case 9:this.game.toWin();break;default:this.data.fireIntensity=3,this.data.npcCount=3,this.data.debrisCount=20,this.data.mediumDebrisCount=4,this.data.heavyDebrisCount=1,this.data.gasCanCount=5}}},{key:"resetIntensity",value:function(){this.data.fireIntensity=1,this.data.npcCount=1,this.data.debrisCount=4}},{key:"countNpcSafe",value:function(){var t=this;return this.game.engine.actors.filter((function(e){if(e.entityTypes.includes("HELPLESS")&&"SAFE"===t.game.map[Bt(e.pos)].type)return e.saved||e.save(),!0;return!1})).length}},{key:"getSaveCountRequirement",value:function(){var t=Math.ceil(.66*this.data.npcCount);return Math.max(1,t)}},{key:"hasWon",value:function(){return this.countNpcSafe()>=this.getSaveCountRequirement()}},{key:"hasLost",value:function(){return this.game.engine.actors.filter((function(t){return t.entityTypes.includes("HELPLESS")})).length<this.getSaveCountRequirement()&&(Fr.lose.play(),this.game.toLose(),!0)}},{key:"addDebris",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"box",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"%",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Ae.SOLARIZED.base01,s=It(["\ue83b","\ue873","\ue874","\ue875","\ue876","\ue877"]);switch(r){case"%":s=It(["\ue83b","\ue873"]);break;case"m":s=It(["\ue874","\ue875"]);break;case"H":s=It(["\ue876","\ue877"]);break;case"Xs":s="\ue86a";break;case"X":s="\ue86b";break;case"XL":s="\ue86c";break;default:s="\ue873"}var u=new Ri({pos:t,renderer:{character:r,sprite:s,color:Ae.SOLARIZED.base2,background:c},name:e,game:this.game,durability:n,explosivity:a,flammability:0,draggable:i,pushable:o});this.game.placeActorOnMap(u),this.game.draw()}},{key:"addNPC",value:function(t){var e=new Oi({name:Ee,messages:["help!","ahh!","It's getting hot in hurr."],messageType:ze.ACTION,pos:t,game:this.game,renderer:{character:"C",sprite:"\ue823",color:Ae.SOLARIZED.base3,background:Ae.SOLARIZED.violet},durability:2});this.game.placeActorOnMap(e)&&(this.game.map[Bt(e.pos)].type="SAFE_FLOOR",this.game.engine.addActor(e),this.game.draw())}},{key:"addFire",value:function(t){var e=new Ui({name:"Pyro",pos:t,game:this.game,renderer:{character:"*",sprite:"\ue8bb",color:Ae.SOLARIZED.base3,background:Ae.SOLARIZED.red},timeToSpread:1,spreadCount:1,durability:1,attackDamage:2,speed:100});this.game.placeActorOnMap(e)&&(this.game.engine.addActor(e),this.game.draw())}},{key:"propogateFire",value:function(){var t=this;if(this.game.engine.actors.filter((function(t){return"Pyro"===t.name})).length<this.data.fireIntensity){var e=Object.keys(this.game.map).filter((function(e){return"BURNT"==t.game.map[e].type})),r=It(e);if(r){var n={x:parseInt(r.split(",")[0]),y:parseInt(r.split(",")[1])};this.addFire(n)}}}},{key:"burnEntities",value:function(){var t=this;Object.keys(this.game.map).filter((function(e){return"BURNT"===t.game.map[e].type})).reduce((function(e,r){return e.concat(t.game.map[r].entities)}),[]).forEach((function(e){e.entityTypes.includes("BURNABLE")&&(e.burn()&&t.game.addMessage("".concat(e.name," is burned."),ze.DANGER),e.willResetCanBurn&&e.resetCanBurn())}))}},{key:"placeInitialItems",value:function(){var t=this,e=[vr(this.game.engine),mr(this.game.engine),_r(this.game.engine)],r=Object.keys(this.game.map).filter((function(e){return"SAFE"==t.game.map[e].type}));e.forEach((function(e){var n=r.pop();if(n){var a={x:parseInt(n.split(",")[0]),y:parseInt(n.split(",")[1])};e.pos=a;var o=t.game.map[n];o&&o.entities.push(e)}}))}},{key:"placePlayersInSafeZone",value:function(){var t=this,e=this.game.engine.actors.filter((function(t){return t.entityTypes.includes("PLAYING")})),r=Object.keys(this.game.map).filter((function(e){return"SAFE"==t.game.map[e].type}));e.forEach((function(e){var n=r.shift();if(n){var a={x:parseInt(n.split(",")[0]),y:parseInt(n.split(",")[1])};e.pos=a;var o=t.game.map[n];o&&o.entities.push(e)}}))}}]),r}(Ir),ia=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).game.tileKey=s(s({},Ce),zr),n}return d(r,[{key:"initialize",value:function(){var t=this;I(v(r.prototype),"initialize",this).call(this),this.game.createEmptyLevel(),this.game.initializeMapTiles(),this.game.placePlayerRandomly(),Gt(10).forEach((function(e){return Vn(t,ne(t.game.map).coordinates)}))}},{key:"update",value:function(){}}]),r}(Ir),ca={main:"#16161d",accent:"#f9d091",text:"#ec9c5d",white:"#eeeeee",sunset:"#f9d091",sandy_brown:"#ec9c5d",brown_sugar:"#b7744f",raw_umber:"#926846",ebony:"#4f5941",umber:"#756356",gray:"#50534c",liver:"#5c4540",black:"#16161d",flesh1:"#833139",flesh2:"#CC7468",flesh3:"#DDA78F",yellow:"#b58900",orange:"#cb4b16",red:"#dc322f",magenta:"#d33682",violet:"#6c71c4",blue:"#268bd2",cyan:"#2aa198",green:"#859900"},sa={TALL_GRASS:{background:ca.sunset,foreground:ca.sandy_brown,character:".",sprite:"\ue8a2",passable:!0,lightPassable:!1,tags:["BURNABLE"]},LAYED_GRASS:{background:ca.brown_sugar,foreground:ca.sandy_brown,character:".",sprite:"\ue8a2",passable:!0,lightPassable:!0,tags:["BURNABLE","BRAMBLES"]},BRAMBLE:{background:ca.ebony,foreground:ca.sunset,character:"*",sprite:"\ue8c6",passable:!0,lightPassable:!0,tags:["BURNABLE"]},GROUND:{background:ca.black,foreground:ca.ebony,character:".",sprite:"\ue8a2",passable:!0,tags:["BURNABLE"]},GROUND_ALT:{background:ca.black,foreground:ca.ebony,character:"",sprite:"",passable:!0,tags:[]},NEST:{background:ca.liver,foreground:ca.white,character:"+",sprite:"\ue8c7",passable:!0,tags:["LOOT"]},DOOR:{background:ca.liver,foreground:ca.brown_sugar,character:"+",sprite:"\ue86d",passable:!0,tags:["BURNABLE"]},FLOOR:{background:ca.liver,foreground:ca.gray,character:"",passable:!0,tags:["BURNABLE","OVERGROWN","LOOT"]},STEEL_FLOOR:{background:ca.gray,foreground:ca.gray,character:"",passable:!0,tags:["LOOT"]},WALL_VERTICAL:{background:ca.liver,foreground:ca.raw_umber,character:"||",sprite:"\ue8df",passable:!1,tags:["BURNABLE","WALL","OVERGROWN"]},WALL_HORIZONTAL:{background:ca.liver,foreground:ca.raw_umber,character:"=",sprite:"\ue8de",passable:!1,tags:["BURNABLE","WALL","OVERGROWN"]},WALL_CORNER_NW:{background:ca.liver,foreground:ca.raw_umber,character:"#",sprite:"\ue8e1",passable:!1,tags:["BURNABLE","WALL","OVERGROWN"]},WALL_CORNER_NE:{background:ca.liver,foreground:ca.raw_umber,character:"#",sprite:"\ue8e2",passable:!1,tags:["BURNABLE","WALL","OVERGROWN"]},WALL_CORNER_SW:{background:ca.liver,foreground:ca.raw_umber,character:"#",sprite:"\ue8e3",passable:!1,tags:["BURNABLE","WALL","OVERGROWN"]},WALL_CORNER_SE:{background:ca.liver,foreground:ca.raw_umber,character:"#",sprite:"\ue8e4",passable:!1,tags:["BURNABLE","WALL","OVERGROWN"]}},ua=function(t,e){return new Di({game:t.game,name:"spitter sac",passable:!0,attackRange:4,magazineSize:10,baseRangedAccuracy:.6,baseRangedDamage:1,attackDamage:1,pos:e,equipmentType:Pe,renderer:{character:"o",color:Br.green,background:Br.base01},rangedHitSounds:[$r.sac_01,$r.sac_02,$r.sac_03],rangedMissSounds:[$r.screech_01,$r.screech_02,$r.screech_03],rangedReloadSounds:[$r.screech_01,$r.screech_02,$r.screech_03]})},la=["loadout"];function ha(t,e){ga(t,e,fa.spitter())}var fa={adolescent:function(){return{name:"adolescent",renderer:{character:It(["w"]),color:ca.flesh1,background:ca.flesh3,sprite:"\ue8d7"},durability:2,attackDamage:1,baseDescription:"a wrinkled, pale-fleshed abomination.",baseDescriptors:["gutteral chirps and bloodthirst keep you at bay."],behaviors:[new Rn({repeat:5}),new En({repeat:1,attackPattern:Fe.clover}),new on({repeat:1,extraActionParams:{onSuccess:function(){It([$r.wretch_melee_01,$r.wretch_melee_02,$r.wretch_melee_03]).play()}}})]}},spitter:function(){return{name:"spitter",renderer:{character:"s",color:ca.flesh1,background:ca.green,sprite:"\ue850"},durability:1,attackDamage:1,behaviors:[new Rn({repeat:2,maintainDistanceOf:4}),new Cn({repeat:1}),new yn({repeat:1})],loadout:{equipmentCreators:[ua],inventoryCreators:[{amount:1e3,creator:Qr}]}}}},pa=function(t,e){return{pos:e,game:t.game,faction:"MONSTER",enemyFactions:["PEOPLE"],equipment:Me()}};function da(t,e){var r=It(Object.keys(fa).filter((function(t){return"skorge"!==t})).map((function(t){return fa[t]})));return ya(s(s({},pa(t,e)),r()))}function ya(t){var e=t.loadout,r=Ve(t,la),n=new Ai(s({},r));return e&&function(t,e){var r=e.equipmentCreators,n=e.inventoryCreators,a=t.game.engine,o=n.map((function(t){var e=t.amount,r=t.creator;return function(t,e,r){var n=Array(e).fill("").map((function(){return r(t)}));return new Nn({itemType:n[0].name,items:n})}(a,e,r)}));t.container=o,r.forEach((function(e){var r=e(a);t.equip(r.equipmentType,r)}))}(n,e),n}function ga(t,e,r){va(t,(function(){return function(t,e,r){return ya(s(s({},pa(t,e)),r))}(t,e,r)}))}function va(t,e){var r=e();t.game.placeActorOnMap(r)&&t.game.engine.addActor(r)}var ma=function(t){var e=t.engine,r=t.lightRange,n=void 0===r?8:r,a=t.lightDrain,o=void 0!==a&&a;return new Fi({lightRange:n,game:e.game,name:"beacon",passable:!1,lightPassable:!0,lightDrain:o,equipmentType:Pe,renderer:{character:"o",sprite:"\ue87b",color:ca.white,background:ca.sunset}})},_a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e=!1;function r(r,n){if(!e){var a=r.getPosition(),o=Vt(r.game,a),i=se(r.game.map,a).concat(o).reduce((function(t,e){var r=oe(e.entities,"ILLUMINATING"),n=oe(e.entities,"EQUIPING"),a=[];return n.forEach((function(t){var e=oe(t.getEquippedItems(),"ILLUMINATING");a=a.concat(e)})),t.concat(r).concat(a)}),[]);0!==i.length&&(i.forEach((function(e){Gt(t).forEach((function(t){setTimeout((function(){e.incrementLightRange(),r.game.draw()}),250*t)}))})),n.name="used battery",n.renderer.background=ca.gray,n.renderer.color=ca.orange,n.addDescriptor("a spent battery, not much use anymore."),e=!0)}}return new bi({name:"battery",passable:!0,lightPassable:!0,renderer:{character:"%",sprite:"%",background:ca.orange,color:ca.white},dropEffects:[r]})},ba=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:1,y:1};return new Di({game:t.game,name:"revolver",basedescription:"an old revolver. you didn't think these were even still issued to field members anymore.",passable:!0,lightPassable:!0,attackRange:4,magazineSize:4,baseRangedAccuracy:1,baseRangedDamage:1,attackDamage:0,pos:e,equipmentType:Pe,renderer:{character:"r",color:Br.base3,background:Br.base01},rangedHitSounds:[$r.pistol_fire_01,$r.pistol_fire_02],rangedMissSounds:[$r.bullet_miss_01,$r.bullet_miss_02,$r.bullet_miss_03]})},Oa=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:1,y:1};return new Di({game:t.game,name:"shotgun",basedescription:"a pump-action shotgun. you were really hoping for an auto-loader.",passable:!0,lightPassable:!0,attackRange:6,magazineSize:3,baseRangedAccuracy:1,baseRangedDamage:1,attackDamage:0,pos:e,shapePattern:Fe.smallSquare,equipmentType:Pe,renderer:{character:"s",color:ca.white,background:ca.raw_umber},rangedHitSounds:[$r.boltok_fire_01,$r.boltok_fire_02],rangedMissSounds:[$r.bullet_miss_01,$r.bullet_miss_02,$r.bullet_miss_03]})},wa=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:1,y:1};return new Li({game:t.game,name:"C.C.C. defensive knife",baseDescription:"a standard issue blade given to every member of the C.C.C.",passable:!0,lightPassable:!0,pos:e,attackDamage:1,equipmentType:Pe,renderer:{character:"/",sprite:"\ue887",color:ca.gray,background:ca.white}})},ka=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:1,y:1};return new Li({game:t.game,name:"C.C.C. field machete",baseDescription:"the C.C.C. requires all member in this area to carry a machete. The more you can keep these paths cleared, the better.",passable:!0,lightPassable:!0,pos:e,attackDamage:2,equipmentType:Pe,renderer:{character:"/",sprite:"\ue888",color:ca.white,background:ca.gray}})},xa=["damage","useCount","messageOnDamage","messageType"],Ra=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.damage,o=void 0===a?1:a,i=t.useCount,c=void 0===i?3:i,u=t.messageOnDamage,l=void 0===u?null:u,h=t.messageType,p=void 0===h?ze.DANGER:h,d=Ve(t,xa);return f(this,r),(n=e.call(this,s({},d))).name="Trap Damage",n.allowDuplicates=!1,n.timeToLive=1/0,n.renderer={color:Br.base3,background:Br.flesh2,character:"^"},n.messageOnDamage=l,n.messageType=p,n.damage=o,n.uses=c,n.onStep=n.handleStep,n}return d(r,[{key:"handleStep",value:function(){var t=this.actor.getPosition();if(!Aa(t)){var e=this.getEnemiesAtCurrentPosition();0!=e.length&&(e[0].decreaseDurability(this.damage),this.uses-=1,this.playDamageSound(),this.displayMessage(),this.uses<=0&&(this.actor.destroy(),this.playDestroyedSound()))}}},{key:"displayMessage",value:function(){this.messageOnDamage&&this.actor.game.addMessage(this.messageOnDamage,this.messageType)}},{key:"playDamageSound",value:function(){It([Fr.chop_0,Fr.chop_1]).play()}},{key:"playDestroyedSound",value:function(){Fr.grab_0.play()}},{key:"getEnemiesAtCurrentPosition",value:function(){var t=this,e=Vt(this.game,this.actor.getPosition());return e?ae(e.entities).filter((function(e){return t.actor.id!==e.id&&t.actor.isEnemy(e)})):[]}}]),r}(Fn);Ra.displayName="Trap Damage";var Aa=function(t){return jt({x:0,y:0},t)},Ea=function(t,e){var r=!1;return new Wi({name:"glow stick",passable:!0,lightPassable:!0,baseDescription:"the C.C.C. doesn't generally give these out. luminescent chemical is too unstable they said.",lightRange:0,lightColor:It([ca.green,ca.violet,ca.magenta,ca.blue]),pos:e,renderer:{character:"i",sprite:"\ue879",color:ca.white,background:"transparent"},dropEffects:[function(t,e){r||(e.incrementLightRange(3),e.name="used glow stick",e.renderer.color=ca.gray,e.addDescriptor("a used battery, not much use anymore."),r=!0)}]})},Sa=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).game.tileKey=s(s(s({},Ce),zr),sa),n.data={level:1,finalLevel:10,finalLevelAmmo:10,finalLevelBattery:3,finalLevelMonsters:10,finalLevelMonsterNests:4,lootCachesPerLevel:5,lootPerLevel:4,lootList:[Qr,_a,ba,Oa,wa,ka,Ea],bramblePatchAmount:5},n.game.fovActive=!0,n}return d(r,[{key:"initialize",value:function(){var t=this;if($r.ambient_howling.play(),I(v(r.prototype),"initialize",this).call(this),this.game.createEmptyLevel(),this.generateLevel(),this.game.initializeMapTiles(),this.data.level<this.data.finalLevel)this.placePlayerOnEmptyTile(),this.addLootCaches(this.data.lootCachesPerLevel),this.addMonsters(),this.placeGeneratorPiece(ne(this.game.map).coordinates);else{var e=this.mapCenter();this.addBaseCamp(e),this.addMonsters(this.data.finalLevelMonsters),Gt(this.data.finalLevelMonsterNests).forEach((function(){return t.addNest()})),this.placePlayerAtPosition({x:e.x+2,y:e.y})}this.addBrambles(),this.addTallGrass()}},{key:"mapCenter",value:function(){return{x:Math.round(this.game.mapWidth/2),y:Math.round(this.game.mapHeight/2)}}},{key:"update",value:function(){I(v(r.prototype),"update",this).call(this),this.hasWon()&&this.game.toWin()}},{key:"addBaseCamp",value:function(t){var e=this;le(t,10).forEach((function(t){var r=xr({map:e.game.map,position:t});r&&(r.type=It(["GROUND","GROUND_ALT"]))})),le(t,6).forEach((function(t){var r=xr({map:e.game.map,position:t});r&&(r.type="STEEL_FLOOR")}));var r=ma({engine:this.game.engine,lightRange:10});r.setPosition(t),this.game.placeActorOnMap(r);var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[{x:t.x,y:t.y+1},{x:t.x+1,y:t.y},{x:t.x,y:t.y-1},{x:t.x-1,y:t.y}];return e&&(r=r.concat([{x:t.x+1,y:t.y+1},{x:t.x+1,y:t.y-1},{x:t.x-1,y:t.y-1},{x:t.x-1,y:t.y+1}])),r}(t,!0);n.forEach((function(t){return e.placeGeneratorPiece(t)})),this.addLoot(this.data.finalLevelAmmo,Qr),this.addLoot(this.data.finalLevelBattery,_a)}},{key:"addLootCaches",value:function(t){var e=this;Gt(t).forEach((function(){It([e.addBuilding.bind(e),e.addBeacon.bind(e),e.addNest.bind(e)])()})),this.addOvergrowth(),this.addLoot(this.data.lootPerLevel)}},{key:"addBuilding",value:function(){var t=this.getEmptyGroundTileKeys(),e=It(t),r=zt(e),n=Wt(1,2),a=Wt(2,4);return Rr(this.game.map,r.x,r.y,n,a)}},{key:"addBeacon",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e){var r=this.getEmptyGrassTileKeys(),n=It(r);e=zt(n)}var a=le(e,4);a.forEach((function(e){var r=xr({map:t.game.map,position:e});r&&(r.type="STEEL_FLOOR")}));var o=ma({engine:this.game.engine,lightRange:0});o.setPosition(e),this.game.placeActorOnMap(o)}},{key:"addNest",value:function(){var t=this,e=this.getEmptyTileKeys(),r=It(e),n=zt(r);le(n,2).forEach((function(e){var r=xr({map:t.game.map,position:e});r&&(r.type="NEST")}));var a=new Ii({name:"nest",pos:n,game:this.game,passable:!0,renderer:{character:"+",sprite:"\ue8aa",color:ca.flesh1,background:ca.black},timeToSpread:5,spreadCount:10,durability:1,faction:"MONSTER",enemyFactions:["PEOPLE"],speed:be,getSpawnedEntity:function(e){return da(t,e)},onDestroy:function(){t.game.map[Bt(n)].type="GROUND"}});this.game.placeActorOnMap(a)&&(this.game.engine.addActor(a),this.game.draw())}},{key:"addBrambles",value:function(){var t=this,e=this.getEmptyTileKeysByTags(["BRAMBLES"]);Mt(this.data.bramblePatchAmount,e).forEach((function(e){t.addBramblePatch(zt(e))}))}},{key:"addBramblePatch",value:function(t){var e=this,r=Wt(2,5);le(t,r).forEach((function(t){var r=xr({map:e.game.map,position:t});r&&wr({tile:r,tag:"BRAMBLES"})&&e.placeBrambleBush(t)}))}},{key:"addOvergrowth",value:function(){var t=this,e=this.getEmptyTileKeysByTags(["OVERGROWN"]);Mt(Math.round(.3*e.length),e).forEach((function(e){t.placeTallGrass(zt(e))}))}},{key:"addLoot",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getEmptyTileKeysByTags(["LOOT"]),a=Mt(e,n);a.forEach((function(e){t.placeLootItem(zt(e),r)}))}},{key:"placeLootItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e||(e=It(this.data.lootList));var r=e(this.game.engine);r.setPosition(t),this.game.placeActorOnMap(r)}},{key:"addMonsters",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Gt(e).forEach((function(e){return ha(t,ne(t.game.map).coordinates)}))}},{key:"addTallGrass",value:function(){var t=this;this.getEmptyGrassTileKeys().forEach((function(e){return t.placeTallGrass(zt(e))}))}},{key:"generateLevel_v1",value:function(){var t=Math.floor(this.game.mapWidth/2);br(this.game.tileKey,{x:t,y:0},this.game.mapHeight,10,"GROUND_ALT",this.game.map,this.game.mapHeight,this.game.mapWidth)}},{key:"generateLevel",value:function(){var t=new Ct.Cellular(this.game.mapWidth,this.game.mapHeight);t.randomize(.6),Gt(4).forEach((function(){return t.create()}));var e=[],r=function(t,r,n){var a=t+","+r,o=It(["GROUND","GROUND_ALT"]);n&&(o="LAYED_GRASS"),Or({map:this.game.map,key:a,tileKey:this.game.tileKey,tileType:o}),e.push(a)};t.create(r.bind(this)),t.connect(r.bind(this))}},{key:"placeBrambleBush",value:function(t){var e=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=new ki({game:t.game,name:"bramble bush",passable:!0,lightPassable:!1,pos:e,renderer:{character:It(["'",".",'"',","]),sprite:"\ue8a2",background:ca.sunset,color:ca.ebony},enemyFactions:["PEOPLE"]}),o=new Ra({actor:a,game:t.game,damage:r,useCount:n,messageOnDamage:"brambles, beware. does ".concat(r," damage."),messageType:{color:ca.sunset,backgroundColor:ca.ebony}});return t.addStatusEffect(o),a}(this.game.engine,t);this.game.map[Bt(t)].type="BRAMBLE",this.game.placeActorOnMap(e)}},{key:"placeTallGrass",value:function(t){var e=new wi({durability:1,defense:0,name:"tall grass",passable:!0,lightPassable:!1,pos:t,renderer:{character:It(["'",".",'"',","]),sprite:"\ue8a2",background:ca.sunset,color:ca.sandy_brown}}),r=It(["GROUND","GROUND_ALT"]);this.game.map[Bt(t)].type=r,this.game.placeActorOnMap(e)}},{key:"placeGeneratorPiece",value:function(t){var e=this,r=new bi({name:"an important component",baseDescription:"a component that powers up our base camp generator",pos:t,passable:!0,lightPassable:!0,renderer:{character:It(["a","b","c","d"]),sprite:It(["\ue839","\ue83f","\ue8d0","\ue8d1"]),background:ca.violet,color:ca.white},pickupEffects:[function(){return e.goToNextLevel()}]});this.game.placeActorOnMap(r)}},{key:"placePlayerOnEmptyTile",value:function(){var t=this.game.getFirstPlayer();if(t){var e=It(this.getEmptyGroundTileKeys());t.setPosition(zt(e)),this.game.placeActorOnMap(t)}}},{key:"placePlayerAtPosition",value:function(t){var e=this.game.getFirstPlayer();e&&(e.setPosition(t),this.game.placeActorOnMap(e))}},{key:"getEmptyTileKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.game.map);return e.filter((function(e){return!t.game.map[e].entities.length}))}},{key:"getEmptyTileKeysByTags",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(this.game.map);return this.getEmptyTileKeys(r).filter((function(r){return kr({tile:e.game.map[r],tags:t})}))}},{key:"getEmptyGroundTileKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.game.map);return this.getEmptyTileKeys(e).filter((function(e){return"GROUND"===t.game.map[e].type||"GROUND_ALT"===t.game.map[e].type}))}},{key:"getEmptyGrassTileKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.game.map);return this.getEmptyTileKeys(e).filter((function(e){return"LAYED_GRASS"===t.game.map[e].type}))}},{key:"setLevel",value:function(t){this.data.level=t}},{key:"nextLevel",value:function(){this.setLevel(this.data.level+1)}},{key:"goToNextLevel",value:function(){this.data.level>=this.data.finalLevel||(this.destroyAllMonsters(),this.nextLevel(),this.initialize())}},{key:"destroyAllMonsters",value:function(){this.enemies().forEach((function(t){return t.destroy()}))}},{key:"enemiesDefeated",value:function(){return this.enemies().length<=0}},{key:"enemies",value:function(){return this.game.engine.actors.filter((function(t){return"MONSTER"===t.faction}))}},{key:"hasWon",value:function(){return this.data.level>=this.data.finalLevel&&this.enemiesDefeated()}}]),r}(Ir),Ca={Castle:Wr,Chunin:jr,Flume:oa,Jacinto:aa,Mode:Ir,Development:ia,SomethingInTheTallGrass:Sa},La=function(){var t=[],e=[];return{add:function(e){return t.push(e)},remove:function(e){return t=t.filter((function(t){return t.id!==e.id}))},getAllEntities:function(){return t},getAllUniqueEntities:function(){var e=[];return t.forEach((function(t){e.find((function(e){return e.name===t.name}))||e.push(t)})),e},setLookedAt:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=t},getLookedAt:function(){return e}}},Da=null,Ta=function(){function t(e){var r=this,n=e.engine,a=void 0===n?null:n,o=e.map,i=void 0===o?{}:o,c=e.entityMap,s=void 0===c?{}:c,u=e.entityDictionary,l=void 0===u?{}:u,h=e.mapInitialized,p=void 0!==h&&h,d=e.tileMap,y=void 0===d?{}:d,g=e.mapWidth,v=void 0===g?50:g,m=e.mapHeight,_=void 0===m?30:m,b=e.cameraWidth,O=void 0===b?50:b,w=e.cameraHeight,k=void 0===w?30:w,x=e.tileWidth,R=void 0===x?26:x,A=e.tileHeight,E=void 0===A?26:A,S=e.tileOffset,C=void 0===S?0:S,L=e.getSelectedCharacter,D=void 0===L?function(){return!1}:L,T=e.spriteMode,N=void 0===T||T,P=e.fovActive,G=void 0!==P&&P,U=e.tileKey,I=void 0===U?Ce:U,M=e.mode,F=void 0===M?Ca.Flume:M,W=e.messages,j=void 0===W?[]:W;f(this,t),this.engine=a,this.map=i,this.entityMap=s,this.entityDictionary=l,this.mapInitialized=p,this.tileMap=y,this.mapWidth=v,this.mapHeight=_,this.cameraWidth=O,this.cameraHeight=k,this.tileWidth=R,this.tileHeight=E,this.tileOffset=C,this.display=new fr({containerId:"display",width:1300,height:780,tileWidth:R,tileHeight:E,tileOffset:C,game:this,mouseEnabled:!1}),this.spriteMode=N,this.fovActive=G,this.FOV=new ft.PreciseShadowcasting((function(t,e){return r.fovLightPasses(t,e)})),this.tileKey=I,this.mode=new F({game:this}),this.messages=j,this.getSelectedCharacter=D,this.tileAninmationInterval=null,this.entityLog=La(),Da=this}return d(t,[{key:"initializeMode",value:function(){this.mode.initialize()}},{key:"updateMode",value:function(){this.mode.update()}},{key:"randomlyPlaceActorOnMap",value:function(t){for(var e=0,r=!1;!r;){var n=ne(this.map).coordinates;if(this.canOccupyPosition(n,t)){var a=this.map[Bt(n)];t.pos=s({},n),a.entities.push(t),r=!0}(e+=1)>=100&&(r=!0)}return r}},{key:"randomlyPlaceAllActorsOnMap",value:function(){var t=this;this.engine.actors.forEach((function(e){t.randomlyPlaceActorOnMap(e)}))}},{key:"placeActorsOnMap",value:function(){var t=this;this.engine.actors.forEach((function(e){var r=t.map[Bt(e.pos)];r?r.entities.push(e):console.log("could not place ".concat(e.id,": ").concat(e.name," on map"))}))}},{key:"placeActorOnMap",value:function(t){var e=this.map[Bt(t.pos)];return!!e&&(e.entities.push(t),!0)}},{key:"removeActorFromMap",value:function(t){var e=this.map[Bt(t.pos)];return!!e&&(this.map[Bt(t.pos)].entities=e.entities.filter((function(e){return e.id!==t.id})),!0)}},{key:"placePlayerRandomly",value:function(){this.randomlyPlaceActorOnMap(this.getFirstPlayer())}},{key:"createLevel",value:function(){var t=new Ct.Arena(this.mapWidth,this.mapHeight),e=[];t.create(function(t,r,n){var a=t+","+r,o="GROUND";n&&(o="WALL"),Or({map:this.map,key:a,tileKey:this.tileKey,tileType:o}),e.push(a)}.bind(this))}},{key:"createEmptyLevel",value:function(){for(var t=0;t<this.mapHeight;t++)for(var e=0;e<this.mapWidth;e++){var r="".concat(e,",").concat(t),n=It(["GROUND","GROUND_ALT","GROUND_ALT","GROUND_ALT"]);Or({map:this.map,key:r,tileKey:this.tileKey,tileType:n})}}},{key:"createCustomLevel",value:function(t){var e=this;Object.keys(t.tiles).forEach((function(r,n){var a,o=null===(a=t.tiles[r].data)||void 0===a?void 0:a.type;o||(o=It(["GROUND","GROUND_ALT","GROUND_ALT","GROUND_ALT"])),Or({map:e.map,key:r,tileKey:e.tileKey,tileType:o})}))}},{key:"canOccupyPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{passable:!1},r=!1,n=this.map[Bt(t)];if(n){var a=n.entities.filter((function(t){return!t.passable})).length>0;if(!a||e.passable){var o=this.map[Bt(t)];this.tileKey[o.type].passable&&(r=!0)}}return r}},{key:"canPassPositionWhenThrown",value:function(t){var e=!1,r=this.map[Bt(t)];if(r){var n=r.entities.filter((function(t){return!t.passable})).length>0;if(!n){var a=this.map[Bt(t)];this.tileKey[a.type].passable&&(e=!0)}}return e}},{key:"rangedCursorCanOccupyPosition",value:function(t){var e=!1,r=this.map[Bt(t)];if(r){var n=this.map[Bt(t)];this.tileKey[n.type].passable&&(e=!0)}return e}},{key:"cursorCanOccupyPosition",value:function(t){var e=!1;return this.map[Bt(t)]&&(e=!0),e}},{key:"show",value:function(t){this.display.initialize(t)}},{key:"getRenderWidth",value:function(){return this.cameraWidth}},{key:"getRenderHeight",value:function(){return this.cameraHeight}},{key:"setRenderWidth",value:function(t){return this.cameraWidth=t}},{key:"setRenderHeight",value:function(t){return this.cameraHeight=t}},{key:"getRenderOffsetX",value:function(){var t=Math.floor(this.getRenderWidth()/2),e=this.getReferencePosition(),r=0;return e&&(r=e.x-t),-1*Ut(r,0,this.mapWidth-this.getRenderWidth())}},{key:"getRenderOffsetY",value:function(){var t=Math.floor(this.getRenderHeight()/2),e=this.getReferencePosition(),r=0;return e&&(r=e.y-t),-1*Ut(r,0,this.mapHeight-this.getRenderHeight())}},{key:"getReferencePosition",value:function(){return this.getPlayerPosition()}},{key:"getRenderMap",value:function(t){var e={};for(var r in t){var n=r.split(","),a=parseInt(n[0]),o=parseInt(n[1]),i=a+this.getRenderOffsetX(),c=o+this.getRenderOffsetY();i>=0&&i<=this.getRenderWidth()&&c>=0&&c<=this.getRenderHeight()&&(e["".concat(i,",").concat(c)]=t[r])}return e}},{key:"processTileMap",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getRenderMap(this.map);for(var n in r){var a=n.split(","),o=parseInt(a[0]),i=parseInt(a[1]),c=r[n],u=s({},this.tileKey[c.type]),l=this.animateTile(c,u,e),h=l.character,f=l.foreground,p=(null===c||void 0===c?void 0:c.overriddenBackground)||l.background;this.fovActive&&(f="transparent",p="transparent");var d=c.entities.filter((function(t){return t.entityTypes.includes("RENDERING")}));if(d.forEach((function(t){return t.isInFov=!1})),!this.fovActive&&d.length>0){var y=d[d.length-1];h=(l=this.animateEntity(y)).character,f=l.foreground,l.background&&(p=l.background)}t(n,o,i,h,f,p)}}},{key:"processTileMapWithFov",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getRenderMap(this.map),a=oe(this.entityLog.getAllEntities(),"ILLUMINATING").filter((function(t){return t.lightRange>0})),o=this.getRenderOffsetX(),i=this.getRenderOffsetY();a.forEach((function(a){var c=a.getPosition(),u=c.x+o,l=c.y+i;e.FOV.compute(u,l,a.lightRange,(function(o,i,c,u){var l=Bt({x:o,y:i}),h=n[l];if(h){var f=s({},e.tileKey[h.type]),p=e.animateTile(h,f,r),d=p.character,y=p.foreground,g=(null===h||void 0===h?void 0:h.overriddenBackground)||p.background,v=Math.min(u,.4)*(1-c/a.lightRange);g=pe(g,a.lightColor,v);var m=h.entities.filter((function(t){return t.entityTypes.includes("RENDERING")}));if(m.forEach((function(t){return t.isInFov=!0})),m.length>0){var _=m[m.length-1];d=(p=e.animateEntity(_)).character,y=p.foreground,p.background&&(g=p.background)}t(l,o,i,d,y,g)}}))}))}},{key:"fovLightPasses",value:function(t,e){var r=t-this.getRenderOffsetX(),n=e-this.getRenderOffsetY(),a=this.map[Bt({x:r,y:n})];if(!a)return!1;var o=this.tileKey[a.type],i=o.lightPassable,c=o.passable;return!(void 0===i&&!c)&&(!(void 0!==i&&!i)&&!(a.entities.filter((function(t){return!t.lightPassable})).length>0))}},{key:"fovLightPasses_v1",value:function(t,e,r){return!!jt(r.getFirstPlayer().getPosition(),{x:t,y:e})||r.canOccupyPosition({x:t,y:e})}},{key:"initializeMapTiles",value:function(){var t=this;if(this.mapInitialized)return!1;this.mapInitialized=!0,this.processTileMap((function(e,r,n,a,o,i){var c=t.display.createTile(r,n,a,o,i);t.tileMap[e]=c}))}},{key:"getPlayers",value:function(){return this.engine.actors.filter((function(t){return t.entityTypes.includes("PLAYING")}))}},{key:"getFirstPlayer",value:function(){var t=this.getPlayers();return t.length?t[0]:null}},{key:"getPlayerPosition",value:function(){var t=this.getFirstPlayer();return t?t.getPosition():null}},{key:"draw",value:function(){var t=this;this.processTileMap((function(e,r,n,a,o,i){t.display.updateTile(t.tileMap[e],a,o,i)})),this.fovActive&&this.processTileMapWithFov((function(e,r,n,a,o,i){t.display.updateTile(t.tileMap[e],a,o,i)})),this.display.draw()}},{key:"getEntityRenderer",value:function(t){return this.spriteMode&&t.hasOwnProperty("sprite")?s(s({},t),{},{character:t.sprite,foreground:t.color}):s(s({},t),{},{foreground:t.color})}},{key:"getTileRenderer",value:function(t){return this.spriteMode&&t.hasOwnProperty("sprite")?s(s({},t),{},{character:t.sprite}):t}},{key:"animateEntity",value:function(t){var e=t.getRenderer(),r=this.getEntityRenderer(e),n=r.character,a=r.foreground,o=r.background,i=r.animation;if(i){var c=this.getEntityRenderer(i[t.currentFrame]);n=c.character,a=c.foreground,o=c.background,t.currentFrame=(t.currentFrame+1)%i.length}return{character:n,foreground:a,background:o}}},{key:"animateTile",value:function(t,e,r){var n=this.getTileRenderer(e),a=n.character,o=n.foreground,i=n.background;if(e.animation){var c=this.getTileRenderer(e.animation[t.currentFrame]);a=c.character,o=c.foreground,i=c.background,r&&(t.currentFrame=(t.currentFrame+1)%e.animation.length)}return{character:a,foreground:o,background:i}}},{key:"addActor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.engine,r=this.placeActorOnMap(t);return!!r&&(e.actors.push(t),this.draw(),!0)}},{key:"placeAndDrawActor",value:function(t){this.placeActorsOnMap(),this.draw()}},{key:"removeActor",value:function(t){this.engine.actors=this.engine.actors.filter((function(e){return e.id!==t.id})),this.removeActorFromMap(t),this.draw()}},{key:"initializeUI",value:function(t,e){this.show(e),t.current.focus()}},{key:"initializeGameData",value:function(){var t=this;this.engine.game=this;var e=this.getSelectedCharacter();this.engine.actors=[e],this.engine.actors.forEach((function(e){e.game=t})),this.initializeMode(),this.draw()}},{key:"initialize",value:function(t,e){var r=this;this.initializeUI(t,e),this.initializeGameData(),this.spriteMode&&(setTimeout((function(){r.spriteMode=!1,r.draw()}),500),setTimeout((function(){r.spriteMode=!0,r.draw()}),500))}},{key:"startTileAnimator",value:function(){var t=this;this.tileAninmationInterval&&clearInterval(this.tileAninmationInterval);var e=function(e,r,n,a,o,i){t.display.updateTile(t.tileMap[e],a,o,i)};this.tileAninmationInterval=setInterval((function(){t.processTileMap(e,!0),t.display.draw()}),250)}},{key:"addMessage",value:function(t,e){var r=new He({text:t,type:e});this.messages.push(r)}}]),t}(),Na=function(t,e){if(t.preventDefault(),!e.isRunning){var r=e.actors[e.currentActor],n=null;try{n=r.getKeymap()}catch(i){console.log("keypress error"),console.log(i)}if(n){var a=t.key,o=Pa(a,n);if(null===o)return;o().setAsNextAction(),e.start()}}},Pa=function(t,e){for(var r in e)if(r.split(",").includes(t))return e[r];return null},Ga=["baseDescription","baseDescriptors"],Ua=d((function t(e){var r=e.game,n=void 0===r?null:r,a=e.passable,o=void 0!==a&&a,i=e.lightPassable,c=void 0!==i&&i,s=e.name,u=void 0===s?"nameless":s;f(this,t);var l=me()();this.entityTypes=["Entity"],this.id=l,this.name=u,this.game=n||Da,this.passable=o,this.lightPassable=c,this.active=!0,this.game.entityLog.add(this)})),Ia=(0,ge.pipe)((function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.baseDescription,o=void 0===a?"":a,i=t.baseDescriptors,c=void 0===i?[]:i,u=Ve(t,Ga);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("DESCRIBABLE"),n.baseDescription=o,n.baseDescriptors=c,n}return d(r,[{key:"getDescription",value:function(){return this.baseDescription}},{key:"getFullDescription",value:function(){return this.getDescriptors().join("\n")}},{key:"getDescriptors",value:function(){return[this.getDescription()].concat(T(this.baseDescriptors))}},{key:"addDescriptor",value:function(t){this.baseDescriptors.push(t)}}]),r}(t)}))(Ua),Ma=["processDelay"],Fa=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.processDelay,o=void 0===a?0:a,i=Ve(t,Ma);return f(this,r),(n=e.call(this,s({},i))).processDelay=o,n}return d(r,[{key:"perform",value:function(){return this.actor.energy-=this.energyCost,this.actor.destroy(),{success:!0,alternative:null}}}]),r}($e),Wa=["engine"],ja=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.engine,o=Ve(t,Wa);return f(this,r),(n=e.call(this,s({},o))).engine=a,n}return d(r,[{key:"perform",value:function(){var t=D(C().mark((function t(){var e,r;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!0,r=null,console.log("".concat(this.actor.name," is cranking its engine.")),t.prev=3,t.next=6,this.engine.start();case 6:this.actor.energy-=this.energyCost,t.next=14;break;case 9:t.prev=9,t.t0=t.catch(3),console.log("EngineCrank"),console.log(t.t0),r=new Fa({game:this.game,actor:this.actor,energyCost:be});case 14:return t.abrupt("return",{success:e,alternative:r});case 15:case"end":return t.stop()}}),t,this,[[3,9]])})));return function(){return t.apply(this,arguments)}}()}]),r}($e),Ba=["children","engine"],za=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.children,o=void 0===a?[]:a,i=t.engine,c=void 0===i?new Bi({}):i,u=Ve(t,Ba);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("PARENT"),n.children=o,n.engine=c,n.isInitialized=!1,n}return d(r,[{key:"destroyChild",value:function(t){t.energy=0;var e=this.game.map[Bt(t.pos)];this.game.map[Bt(t.pos)].entities=e.entities.filter((function(e){return e.id!==t.id})),this.engine.actors=this.engine.actors.filter((function(e){return e.id!==t.id})),this.game.draw()}},{key:"canAttack",value:function(t){return!this.children.map((function(t){return t.id})).includes(t.id)}},{key:"initialize",value:function(){var t=this;this.isInitialized=!0,this.engine.game=this.game,this.engine.actors=this.children,this.engine.actors.forEach((function(e){e.game=t.game,e.destroy=function(){t.destroyChild(e)},e.canAttack=t.canAttack.bind(t),t.game.placeActorOnMap(e),t.engine.addActor(e),t.game.draw()}))}},{key:"getAction",value:function(t){return this.isInitialized||this.initialize(),new ja({game:t,actor:this,engine:this.engine,energyCost:be,processDelay:10})}}]),r}(t)},Ha=["presentingUI"],Va=["initiatedBy","range"],qa=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).entityTypes=n.entityTypes.concat("HAS_TARGETING_CURSOR"),n.cursorIsActive=!1,n.cursorPositions=[],n.animations=[],n.displayChanceText=!1,n}return d(r,[{key:"setCursorIsActive",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.cursorIsActive=t}},{key:"activateCursor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setDisplayChanceText(e),this.setCursorPositions(t),this.setCursorIsActive(!0),this.resetAnimations()}},{key:"deactivateCursor",value:function(){this.setCursorIsActive(!1),this.removeAnimations(),this.setCursorPositions([])}},{key:"setDisplayChanceText",value:function(t){return this.displayChanceText=t}},{key:"getCursorPositions",value:function(){return this.cursorPositions}},{key:"setCursorPositions",value:function(t){return this.cursorPositions=t,this.getCursorPositions()}},{key:"addAnimations",value:function(){var t=this,e=this.getCursorPositions();e.length&&e.forEach((function(e){var r=t.game.display.addAnimation(or.BLINK_BOX,{x:e.x,y:e.y,color:Ae.SOLARIZED.base3});if(t.animations.push(r),t.displayChanceText){var n=t.getRangedAttackChance(e),a=t.game.display.addAnimation(or.TEXT_OVERLAY,{x:e.x,y:e.y,color:Ae.SOLARIZED.base3,text:"".concat(Math.round(100*n),"%")});t.animations.push(a)}}))}},{key:"removeAnimations",value:function(){var t=this;this.animations.length&&this.animations.forEach((function(e){return t.game.display.removeAnimation(e.id)})),this.animations=[]}},{key:"resetAnimations",value:function(){this.removeAnimations(),this.addAnimations()}},{key:"moveCursorToPosition",value:function(t){var e=this.getCursorPositions();if(e.length<=0)return[];var r=t.x-e[0].x,n=t.y-e[0].y,a=e.map((function(t){return{x:t.x+r,y:t.y+n}}));return this.setCursorPositions(a),this.resetAnimations(),a}},{key:"moveCursorInDirection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getCursorPositions().map((function(r){return{x:r.x+t[0]*e,y:r.y+t[1]*e}}));return this.setCursorPositions(r),this.resetAnimations(),r}},{key:"updateCursorNode",value:function(t,e){var r=this.animations[t];r&&e.forEach((function(t){r.node[t.key](t.value)}))}},{key:"updateCursorNodeByPosition",value:function(t,e){var r=t.x,n=t.y,a=this.animations.find((function(t){return t.x===r&&t.y===n}));a&&e.forEach((function(t){a.node[t.key](t.value)}))}},{key:"updateAllCursorNodes",value:function(t){var e=this;this.getCursorPositions().forEach((function(r,n){var a=e.animations[n];t.forEach((function(t){a.node[t.key](t.value)}))}))}},{key:"destroy",value:function(){this.removeAnimations(),I(v(r.prototype),"destroy",this).call(this)}}]),r}(t)},Ka=["shapePattern"],Xa=["attackDamage"],Ya=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.attackDamage,o=void 0===a?1:a,i=Ve(t,Xa);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("ATTACKING"),n.attackDamage=o,n}return d(r,[{key:"getAttackDamage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.attackDamage+t}},{key:"canAttack",value:function(t){return!0}},{key:"attack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!1,n=this.game.map[Bt(t)];if(!n)return r;var a=ae(n.entities);if(a.length>0){var o=a[a.length-1];if(this.canAttack(o)){var i=this.getAttackDamage(e);this.entityTypes.includes("EQUIPING")&&this.equipment.forEach((function(t){t.item&&t.item.entityTypes.includes("ATTACKING")&&(i+=t.item.getAttackDamage())})),this.game.addMessage("".concat(this.name," does ").concat(i," to ").concat(o.name),ze.DANGER),o.decreaseDurability(i),this.entityTypes.includes("PLAYING")&&this.game.display.shakeScreen({intensity:1}),r=!0}}return r}}]),r}(t)},Za=["attackRange","baseRangedAccuracy","baseRangedDamage","magazineSize","rangedHitSounds","rangedMissSounds","rangedReloadSounds"],$a=[Fr.chop_0,Fr.chop_1],Qa=[Fr.release_0],Ja=[$r.reload],to=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.attackRange,o=void 0===a?0:a,i=t.baseRangedAccuracy,c=void 0===i?0:i,u=t.baseRangedDamage,l=void 0===u?0:u,h=t.magazineSize,p=void 0===h?0:h,d=t.rangedHitSounds,y=void 0===d?[]:d,g=t.rangedMissSounds,v=void 0===g?[]:g,m=t.rangedReloadSounds,_=void 0===m?[]:m,b=Ve(t,Za);return f(this,r),(n=e.call(this,s({},b))).entityTypes=n.entityTypes.concat("RANGED_ATTACKING"),n.attackRange=o,n.baseRangedAccuracy=c,n.baseRangedDamage=l,n.magazineSize=p,n.magazine=p,n.rangedHitSounds=y,n.rangedMissSounds=v,n.rangedReloadSounds=_,n}return d(r,[{key:"getRangedAttackChance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getRangedWeaponAccuracy(),r=t?this.getRangedAttackCoverDebuff(t):0,n=[e,r],a=n.reduce((function(t,e){return t+e}),this.baseRangedAccuracy);return Math.max(a,0)}},{key:"getRangedAttackCoverDebuff",value:function(t){var e=this;return Zt(this.getPosition(),t).reduce((function(t,r){var n=e.game.map[Bt(r)];if(!n)return 0;if(wr({tile:n,tag:"WALL"}))return t-1;var a=oe(n.entities,"COVERING"),o=0;if(a.length>0){if(e.entityTypes.includes("USES_COVER")&&e.getCoveredByIds().includes(a[0].id))return t;o=a[0].accuracyModifer}return t+o}),0)}},{key:"getRangedAttackDistanceDebuff",value:function(t){return Kt(this.game,t,this.getPosition(),8).length/(3*this.getAttackRange())*-1}},{key:"getAttackRange",value:function(){var t=this.attackRange;return this.entityTypes.includes("EQUIPING")&&this.equipment.forEach((function(e){e.item&&e.item.entityTypes.includes("RANGED_ATTACKING")&&(t+=e.item.attackRange)})),t}},{key:"getRangedWeaponAccuracy",value:function(){var t=0;return this.entityTypes.includes("EQUIPING")&&this.equipment.forEach((function(e){e.item&&e.item.entityTypes.includes("RANGED_ATTACKING")&&(t+=e.item.getRangedAttackChance())})),t}},{key:"getRangedAttackDamage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.baseRangedDamage+this.getRangedWeaponDamage()+t}},{key:"getRangedWeaponDamage",value:function(){var t=0;return this.entityTypes.includes("EQUIPING")&&this.equipment.forEach((function(e){e.item&&e.item.entityTypes.includes("RANGED_ATTACKING")&&(t+=e.item.getRangedAttackDamage())})),t}},{key:"canRangedAttack",value:function(t){return!0}},{key:"getEquipedWeapons",value:function(){return this.entityTypes.includes("EQUIPING")?this.equipment.map((function(t){if(t.item&&t.item.entityTypes.includes("RANGED_ATTACKING"))return t.item})).filter((function(t){return t})):[]}},{key:"decrementMagazine",value:function(){this.magazine=Math.max(0,this.magazine-1)}},{key:"useAmmo",value:function(t){var e=this;this.getEquipedWeapons().forEach((function(r){r.decrementMagazine();var n=e.contains("Ammo");n&&(e.removeFromContainer(n),n.move(t),n.destroy())}))}},{key:"reload",value:function(){var t=this,e=!1;return this.entityTypes.includes("CONTAINING")&&this.getEquipedWeapons().forEach((function(r){for(var n=r.magazineSize-r.magazine,a=0;a<n;a++){t.contains("Ammo")&&(r.magazine+=1,e=!0)}})),!!e&&(this.playReloadSound(),!0)}},{key:"rangedAttack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=!1,a=!1,o=this.game.map[Bt(t)];if(!o)return[n,a];var i=ae(o.entities);if(i.length>0){var c=i[i.length-1];if(this.canRangedAttack(c)){var s=this.getRangedAttackChance(t),u=s+r;a=Math.random()<u;var l=c.getPosition();if(this.useAmmo(l),!a)return this.playMissSound(),this.animateMiss(l),[n=!0,a];var h=this.getRangedAttackDamage(e);this.game.addMessage("".concat(this.name," does ").concat(h," to ").concat(c.name),ze.DANGER),c.decreaseDurability(h),this.entityTypes.includes("PLAYING")&&this.game.display.shakeScreen({intensity:1}),this.playHitSound(),n=!0}}return[n,a]}},{key:"animateMiss",value:function(t){this.game.display.addAnimation(or.TEXT_FLOAT,s(s({},t),{},{color:"#fff",text:"miss"}))}},{key:"playReloadSound",value:function(){It(this.getReloadSounds()).play()}},{key:"playMissSound",value:function(){It(this.getMissSounds()).play()}},{key:"playHitSound",value:function(){It(this.getHitSounds()).play()}},{key:"getHitSounds",value:function(){var t=this.getWeaponSounds("rangedHitSounds");return t.length>0?t:$a}},{key:"getMissSounds",value:function(){var t=this.getWeaponSounds("rangedMissSounds");return t.length>0?t:Qa}},{key:"getReloadSounds",value:function(){var t=this.getWeaponSounds("rangedReloadSounds");return t.length>0?t:Ja}},{key:"getWeaponSounds",value:function(t){var e=[];return this.getEquipedWeapons().forEach((function(r){e.push.apply(e,T(r[t]))})),e}}]),r}(t)},eo=["name","equipmentType"],ro=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.name,o=void 0===a?"nameless":a,i=t.equipmentType,c=void 0===i?Pe:i,u=Ve(t,eo);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("EQUIPABLE"),n.name=o,n.equipmentType=c,n}return d(r)}(t)},no=["actions","speed","energy"],ao=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.actions,o=void 0===a?[]:a,i=t.speed,c=void 0===i?100:i,u=(t.energy,Ve(t,no));return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("ACTING"),n.actions=o,n.speed=c,n.energy=c,n.lastActionResult=null,n}return d(r,[{key:"getLastActionResult",value:function(){return this.lastActionResult}},{key:"resetLastActionResult",value:function(){return this.lastActionResult=null}},{key:"lastActionFailed",value:function(){var t=this.getLastActionResult();return!!t&&!t.success}},{key:"lastActionSucceded",value:function(){return!this.lastActionFailed()}},{key:"getAction",value:function(){var t=It(this.actions);if(t)return t}},{key:"gainEnergy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.speed;this.energy+=t}},{key:"restoreFullEnergy",value:function(){this.energy=this.speed}},{key:"hasEnoughEnergy",value:function(){return this.energy>0}}]),r}(t)},oo=["pos","renderer"],io=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.pos,o=void 0===a?{x:0,y:0}:a,i=t.renderer,c=Ve(t,oo);return f(this,r),(n=e.call(this,s({},c))).entityTypes=n.entityTypes.concat("RENDERING"),n.pos=o,n.renderer=s({},i),n.currentFrame=0,n}return d(r,[{key:"getRenderer",value:function(){return this.renderer}},{key:"getPosition",value:function(){return this.pos}},{key:"setPosition",value:function(t){return this.pos=t}},{key:"move",value:function(t){var e=this,r=!1;if(this.game.canOccupyPosition(t,this)){var n=this.game.map[Bt(this.pos)];this.game.map[Bt(this.pos)]=s(s({},n),{},{entities:n.entities.filter((function(t){return t.id!==e.id}))}),this.pos=t,this.game.map[Bt(t)].entities.push(this),r=!0}return r}},{key:"shove",value:function(t,e){var r=this.game.map[Bt(t)];return r&&r.entities.map((function(t){if(t.entityTypes.includes("PUSHABLE")&&!t.passable&&t.pushable){var r={x:t.pos.x+e[0],y:t.pos.y+e[1]};t.move(r)}})),this.move(t)}}]),r}(t)},co=["equipment"],so=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.equipment,o=void 0===a?Ie():a,i=Ve(t,co);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("EQUIPING"),n.equipment=o,n}return d(r,[{key:"move",value:function(t){var e=I(v(r.prototype),"move",this).call(this,t);return e&&this.equipment.forEach((function(e){e.item&&e.item.setPosition(t)})),e}},{key:"getEquippedItems",value:function(){return this.equipment.map((function(t){return t.item})).filter((function(t){return null!==t}))}},{key:"hasItemNameEquipped",value:function(t){return this.equipment.filter((function(e){return!(!e.item||e.item.name!==t)})).length>0}},{key:"getItemInSlot",value:function(t){var e=this.equipment.filter((function(e){return null===e.item&&e.type===t}));if(e.length>0)return!1;var r=this.equipment.find((function(e){return e.type===t}));return!!r&&(!!r.item&&r.item)}},{key:"equip",value:function(t,e){var r=this,n=!1;return this.equipment=this.equipment.map((function(a){return n||a.type!==t||null!==a.item||(a.item=e,e.setPosition(r.getPosition()),n=!0,Fr.equip_1.play()),a})),n}},{key:"unequip",value:function(t){this.equipment=this.equipment.map((function(e){return e.item&&e.item.id===t.id&&(e.item=null,Fr.equip_0.play()),e}))}}]),r}(t)},uo=["charge"],lo=["keymap"],ho=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.keymap,o=void 0===a?{}:a,i=Ve(t,lo);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("PLAYING"),n.nextAction=null,n.keymap=o,n}return d(r,[{key:"setNextAction",value:function(t){this.nextAction=t}},{key:"getAction",value:function(){var t=this.nextAction;return this.nextAction=null,t}},{key:"destroy",value:function(){I(v(r.prototype),"destroy",this).call(this),this.game.toLose()}}]),r}(t)},fo=function(t){if(t.energy=0,t.pos){var e=t.game.map[Bt(t.pos)];e&&(e.entities=e.entities.filter((function(e){return e.id!==t.id})))}t.game.engine.removeStatusEffectByActorId(t.id),t.game.draw(),t.active=!1,t.game.entityLog.remove(t)},po=["cloneLimit"],yo=["accuracyModifer","damageModifer"],go=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.accuracyModifer,o=void 0===a?0:a,i=t.damageModifer,c=void 0===i?0:i,u=Ve(t,yo);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("COVERING"),n.providesCover=!0,n.accuracyModifer=o,n.damageModifer=c,n}return d(r,[{key:"isProvidingCover",value:function(){return this.providesCover&&(this.accuracyModifer<0||this.damageModifer<0)}}]),r}(t)},vo=function(t){var e=t.game,r=t.fromPosition,n=t.spatterRadius,a=void 0===n?3:n,o=t.spatterAmount,i=void 0===o?.3:o,c=t.spatterDirection,u=void 0===c?{x:0,y:0}:c,l=t.spatterColors,h=void 0===l?["#833139","#859900","#aa2123"]:l,f=t.animationTimeStep,p=void 0===f?.2:f,d=t.reverse,y=void 0!==d&&d,g=t.transfersBackground,v=void 0!==g&&g,m=t.transfersBackgroundOnDestroy,_=void 0!==m&&m,b=new hn({game:e,easingFunction:fe.easeOut,animationTimeStep:p});return function(t,e,r){for(var n=[],a=r.x<=0,o=r.x>=0,i=r.y<=0,c=r.y>=0,s=t.x-e*a;s<t.x+e*o;s++)for(var u=Math.floor(e*Math.sin(Math.acos((t.x-s)/e))),l=t.y-u*i;l<t.y+u*c;l++)n.push({x:s,y:l});return n}(r,a,u).filter((function(){return Math.random()<i})).forEach((function(t){var n=Xt(e,r,t);n.push(s({},t)),y&&(n=n.reverse());var a=[It(h),It(h)],o=[].concat(a).reverse();b.addParticle({life:n.length+1,pos:s({},n[0]),path:n,transfersBackground:v,transfersBackgroundOnDestroy:_,rendererGradients:{color:a,backgroundColor:o}})})),b},mo=["targetPos","additionalDamage","processDelay"],_o=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetPos,o=t.additionalDamage,i=void 0===o?0:o,c=t.processDelay,u=void 0===c?100:c,l=Ve(t,mo);return f(this,r),(n=e.call(this,s({},l))).targetPos=a,n.additionalDamage=i,n.processDelay=u,n.particleTemplate=We.damage,n}return d(r,[{key:"perform",value:function(){var t,e,r;if(!this.actor.entityTypes.includes("ATTACKING"))return{success:!0,alternative:new en({message:"Ooh I don't know how to attack",game:this.game,actor:this.actor,energyCost:0})};(t=this.actor.attack(this.targetPos,this.additionalDamage))&&(It([Fr.chop_0,Fr.chop_1]).play(),this.addParticle(1,s({},this.targetPos),{x:0,y:0}),vo({game:this.game,fromPosition:this.targetPos,spatterAmount:.3,spatterRadius:3,spatterDirection:(e=this.actor.getPosition(),r=this.targetPos,{x:Math.sign(r.x-e.x),y:Math.sign(r.y-e.y)}),transfersBackground:!0}).start());return{success:t,alternative:null}}}]),r}($e),bo=["targetPos","processDelay"],Oo=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetPos,o=t.processDelay,i=void 0===o?25:o,c=Ve(t,bo);return f(this,r),(n=e.call(this,s({},c))).targetPos=a,n.processDelay=i,n}return d(r,[{key:"perform",value:function(){var t=!1,e=null;return this.actor.move(this.targetPos)?t=!0:e=new _o({targetPos:this.targetPos,game:this.game,actor:this.actor,energyCost:this.energyCost}),{success:t,alternative:e}}}]),r}($e),wo=function(t){g(r,t);var e=b(r);function r(t){var n=Object.assign({},(qe(t),t));return f(this,r),e.call(this,s({},n))}return d(r,[{key:"perform",value:function(){var t=!1,e=null;this.actor.passable=!1;var n=I(v(r.prototype),"perform",this).call(this);(n.success&&(this.actor.path.shift(),t=!0),0===this.actor.path.length&&(t=!0,e=new Fa({game:this.game,actor:this.actor,energyCost:be,processDelay:0})),n.alternative)&&(this.actor.attack(this.targetPos)&&(e=new Fa({game:this.game,actor:this.actor,energyCost:be,processDelay:0})));return{success:t,alternative:e}}}]),r}(Oo),ko=["path","targetPos","attackDamage","range"],xo=["damageToSelf"],Ro=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.damageToSelf,o=Ve(t,xo);return f(this,r),(n=e.call(this,s({},o))).damageToSelf=a,n.onSuccess=function(){n.actor.decreaseDurabilityWithoutDefense(a)},n.onFailure=function(){n.actor.destroy()},n}return d(r)}(_o),Ao=["targetPos","damageToSelf","processDelay"],Eo=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetPos,o=t.damageToSelf,i=void 0===o?1:o,c=t.processDelay,u=void 0===c?25:c,l=Ve(t,Ao);return f(this,r),(n=e.call(this,s({},l))).targetPos=a,n.processDelay=u,n.damageToSelf=i,n}return d(r,[{key:"perform",value:function(){var t=!1,e=null;return this.actor.move(this.targetPos)?(this.actor.energy-=this.energyCost,t=!0):(t=!0,e=new Ro({targetPos:this.targetPos,game:this.game,actor:this.actor,energyCost:be,damageToSelf:this.damageToSelf})),{success:t,alternative:e}}}]),r}($e),So=["path","direction","attackDamage","range"],Co=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.path,o=void 0!==a&&a,i=t.direction,c=void 0===i?{x:0,y:0}:i,u=t.attackDamage,l=void 0===u?1:u,h=t.range,p=void 0===h?3:h,d=Ve(t,So);return f(this,r),(n=e.call(this,s({},d))).entityTypes=n.entityTypes.concat("DIRECTIONAL_PROJECTING"),n.path=o,n.direction=c,n.attackDamage=l,n.range=p,n}return d(r,[{key:"createPath",value:function(t){for(var e=[],r=1;r<this.range+1;r++)e.push({x:this.pos.x+this.direction[0]*r,y:this.pos.y+this.direction[1]*r});this.path=e}},{key:"getAction",value:function(t){var e=this,r={x:this.pos.x+this.direction[0],y:this.pos.y+this.direction[1]};return this.passable=!1,this.range>0?new Eo({targetPos:r,game:t,actor:this,energyCost:be,damageToSelf:1,onSuccess:function(){return e.range-=1},onAfter:function(){e.energy<=100&&t.engine.setActorToPrevious()}}):new Fa({game:t,actor:this,energyCost:0})}}]),r}(t)},Lo=["targetPos","direction"],Do=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetPos,o=t.direction,i=Ve(t,Lo);return f(this,r),(n=e.call(this,s({},i))).targetPos=a,n.direction=o,n}return d(r,[{key:"perform",value:function(){var t=!1,e=null;return this.actor.shove(this.targetPos,this.direction)?(this.actor.energy-=this.energyCost,t=!0):(t=!0,e=new _o({targetPos:this.targetPos,game:this.game,actor:this.actor,energyCost:be})),{success:t,alternative:e}}}]),r}($e),To=["path","direction","range"],No=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).processDelay=0,n}return d(r,[{key:"perform",value:function(){var t=!1,e=null;this.actor.passable=!1;var n=I(v(r.prototype),"perform",this).call(this);return n.success&&(this.actor.path.shift(),t=!0),0===this.actor.path.length&&(t=!0,e=new Fa({game:this.game,actor:this.actor,energyCost:be,processDelay:0})),n.alternative&&this.actor.attack(this.targetPos),{success:t,alternative:e}}}]),r}(Oo),Po=["owner_id","path","targetPos","attackDamage","range"],Go=["isClone","cloneCount","clonePattern"],Uo=["targetEntity"],Io=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetEntity,o=void 0===a?null:a,i=Ve(t,Uo);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("CHASING"),n.targetEntity=o,n}return d(r,[{key:"getAction",value:function(t){if(this.targetEntity){var e=Kt(t,this.targetEntity.pos,this.pos),r=e.length>0?e[0]:this.pos;return new Oo({targetPos:r,game:t,actor:this,energyCost:be})}return new en({message:"Where are they?",game:t,actor:this,energyCost:be})}}]),r}(t)},Mo=["targetPos","entity","interrupt","forcePlacement"],Fo=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetPos,o=t.entity,i=t.interrupt,c=void 0===i||i,u=t.forcePlacement,l=void 0!==u&&u,h=Ve(t,Mo);return f(this,r),(n=e.call(this,s({},h))).targetPos=a,n.entity=o,n.interrupt=c,n.forcePlacement=l,n}return d(r,[{key:"perform",value:function(){var t=!1,e=!!this.forcePlacement||this.game.canOccupyPosition(this.targetPos,this.entity),r=this.game.map[Bt(this.targetPos)];return e&&r&&(this.entity.pos=this.targetPos,r.entities.push(this.entity),this.game.engine.addActorAsNext(this.entity),t=!0),{success:t,alternative:null}}}]),r}($e),Wo=["targetEntity","getProjectile"],jo=["draggedEntity"],Bo=["draggable"],zo=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.draggable,o=void 0===a||a,i=Ve(t,Bo);return f(this,r),(n=e.call(this,s({},i))).draggable=o,n.entityTypes=n.entityTypes.concat("DRAGGABLE"),n}return d(r)}(t)},Ho=["pushable"],Vo=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.pushable,o=void 0===a||a,i=Ve(t,Ho);return f(this,r),(n=e.call(this,s({},i))).pushable=o,n.entityTypes=n.entityTypes.concat("PUSHABLE"),n}return d(r)}(t)},qo=["timeToSpread","spreadCount"],Ko=["getSpawnedEntity","timeToSpread","spreadCount","onSpawn"],Xo=["durability","defense","onDestroy"],Yo=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.durability,o=void 0===a?1:a,i=t.defense,c=void 0===i?0:i,u=t.onDestroy,l=void 0===u?function(){return null}:u,h=Ve(t,Xo);return f(this,r),(n=e.call(this,s({},h))).entityTypes=n.entityTypes.concat("DESTRUCTABLE"),n.durability=o,n.durabilityMax=o,n.defense=c,n.onDestroy=l,n.actorSprite=n.renderer.sprite,n.actorCharacter=n.renderer.character,n}return d(r,[{key:"getDefense",value:function(){var t=this.defense;return this.entityTypes.includes("EQUIPING")&&this.equipment.forEach((function(e){e.item&&e.item.entityTypes.includes("DESTRUCTABLE")&&(t+=e.item.getDefense())})),t}},{key:"decreaseDurabilityWithoutDefense",value:function(t){this.durability-=t,this.durability<=0&&this.destroy()}},{key:"decreaseDurability",value:function(t){var e=this.durability,r=t-this.getDefense(),n=e-r;this.durability=Math.min(e,n),this.addAnimation(-r),this.updateActorRenderer(),this.entityTypes.includes("PLAYING")&&this.bloodSpatter(t),this.durability<=0&&this.destroy()}},{key:"bloodSpatter",value:function(t){vo({game:this.game,fromPosition:this.getPosition(),spatterAmount:.2*t,spatterRadius:3,transfersBackground:!0,spatterColors:["#833139","#aa2123"]}).start()}},{key:"shakePlayer",value:function(){var t=Bt(this.getPosition()),e=this.game.tileMap[t];this.game.display.shakeNode({node:e,intensity:2})}},{key:"increaseDurability",value:function(t){this.durability+=t,this.addAnimation(+t),this.updateActorRenderer()}},{key:"updateActorRenderer",value:function(){this.durability===this.durabilityMax?(this.renderer.sprite=this.actorSprite,this.renderer.character=this.actorCharacter):(this.renderer.sprite=this.durability,this.renderer.character=this.durability),this.game.draw()}},{key:"addAnimation",value:function(t){var e="",r="#dc322f";t>=0&&(e="+",r="#3e7dc9");var n=e+t;this.game.display.addAnimation(or.TEXT_FLOAT,s(s({},this.getPosition()),{},{color:r,text:n}))}},{key:"destroy",value:function(){this.onDestroy(this),fo(this)}}]),r}(t)},Zo=["pos","direction","life","speed","type","path","particleRendererGradients","particleEasingFunction","particleAnimationTimeStep"],$o=function(t,e,r){return t=t.substr(1).match(/.{1,2}/g).map((function(t){return parseInt(t,16)*(1-r)})),e=e.substr(1).match(/.{1,2}/g).map((function(t){return parseInt(t,16)*r})),"#"+[0,1,2].map((function(r){return Math.min(Math.round(t[r]+e[r]),255)})).reduce((function(t,e){return(t<<8)+e}),0).toString(16).padStart(6,"0")},Qo=["messages","messageType"],Jo=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).entityTypes=n.entityTypes.concat("BURNABLE"),n.canBurn=!0,n.willResetCanBurn=!1,n}return d(r,[{key:"resetCanBurn",value:function(){this.willResetCanBurn=!1,this.canBurn=!0}},{key:"burn",value:function(){return!!this.canBurn&&(this.decreaseDurability(2),!0)}}]),r}(t)},ti=["flammability","explosivity"],ei=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.flammability,o=void 0===a?1:a,i=t.explosivity,c=void 0===i?1:i,u=Ve(t,ti);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("EXPLODING"),n.flammability=o,n.explosivity=c,n}return d(r,[{key:"enflame",value:function(){var t=this;Array(this.flammability).fill("").map((function(e){return new Ui({name:"Pyro",pos:s({},t.pos),game:t.game,renderer:{character:"*",color:Ae.SOLARIZED.base3,background:Ae.SOLARIZED.red},timeToSpread:1,spreadCount:1,durability:1,attackDamage:1,speed:100})})).forEach((function(e){t.game.placeActorOnMap(e),t.game.engine.addActor(e)}))}},{key:"explode",value:function(){var t=this,e=le({x:0,y:0},this.explosivity),r=this.game.tileKey.BURNT.animation.length,n={x_offset:0,y_offset:0,positions:e};n.positions.forEach((function(e){var a={x:t.pos.x+e.x+n.x_offset,y:t.pos.y+e.y+n.y_offset},o=t.game.map[Bt(a)];if(o){o.type="BURNT",o.currentFrame=Ft(0,r);var i=ae(o.entities.filter((function(e){return e.id!==t.id})));i.length>0&&i.forEach((function(e){var r=t.attackDamage?t.attackDamage:t.explosivity;t.game.addMessage("".concat(t.name," does ").concat(r," to ").concat(e.name),ze.DANGER),e.decreaseDurability(r)}))}})),this.explosivity>0&&Fr.explosion_0.play()}},{key:"animateExplosion",value:function(){(function(t){var e=t.game,r=t.fromPosition,n=t.radius,a=t.colorGradient,o=void 0===a?["#ff551a","#673ab7"]:a,i=t.backgroundColorGradient,c=void 0===i?["#673ab7","#ff551a"]:i,s=t.easingFunction,u=void 0===s?fe.linear:s,l=t.animationTimeStep,h=void 0===l?.2:l,f=t.reverse,p=void 0!==f&&f,d=ue(r.x,r.y,n);return fn({game:e,fromPosition:r,targetPositions:d,colorGradient:o,backgroundColorGradient:c,easingFunction:u,animationTimeStep:h,reverse:p})})({game:this.game,fromPosition:this.getPosition(),radius:this.explosivity}).start()}},{key:"destroy",value:function(){I(v(r.prototype),"destroy",this).call(this),this.explode(),this.enflame(),this.animateExplosion()}}]),r}(t)},ri=["initializeKeymap"],ni=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.initializeKeymap,o=Ve(t,ri);f(this,r),(n=e.call(this,s({},o))).entityTypes=n.entityTypes.concat("HAS_KEYMAP"),n.keymapStack=[],n.initializeKeymap=a;var i=a(n.game.engine,m(n));return n.addKeymap(i),n}return d(r,[{key:"getKeymap",value:function(){return _e.get(this.keymapStack,"0",null)}},{key:"addKeymap",value:function(t){this.keymapStack.unshift(t)}},{key:"removeKeymap",value:function(){this.keymapStack.shift()}},{key:"reinitializeKeymap",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keymapStack=[];var e=this.initializeKeymap(this.game.engine,this);t.forEach((function(t){return delete e[t]})),this.addKeymap(e)}},{key:"setKeymap",value:function(t){return this.addKeymap(t),this.getKeymap}},{key:"goToPreviousKeymap",value:function(){return this.keymapStack.length>1&&this.removeKeymap(),this.getKeymap()}}]),r}(t)},ai=["upgrade_points","upgrade_tree"],oi=["faction","enemyFactions"],ii=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.faction,o=void 0===a?null:a,i=t.enemyFactions,c=void 0===i?[]:i,u=Ve(t,oi);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("HAS_FACTION"),n.faction=o,n.enemyFactions=c,n}return d(r,[{key:"canAttack",value:function(t){return!this.isAlly(t)}},{key:"canRangedAttack",value:function(t){return!this.isAlly(t)}},{key:"getEnemies",value:function(){var t=this;return this.game.engine.actors.filter((function(e){return t.isEnemy(e)}))}},{key:"isEnemy",value:function(t){return!this.isAlly(t)&&(this.considersAllAsEnemy()||this.isEnemyFaction(t))}},{key:"considersAllAsEnemy",value:function(){return this.enemyFactions.includes("ALL")}},{key:"isEnemyFaction",value:function(t){return this.enemyFactions.includes(t.faction)}},{key:"isAlly",value:function(t){return t.faction===this.faction}}]),r}(t)},ci=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).entityTypes=n.entityTypes.concat("USES_COVER"),n.coverAnimations=[],n.showCoverAnimations=!0,n.coveredBy=[],n}return d(r,[{key:"isCovered",value:function(){return this.coveredBy.length}},{key:"getCoverEntities",value:function(){var t=this,e=Object.keys(this.game.map),r=[];return e.forEach((function(e){var n=t.game.map[e].entities.filter((function(t){return t.entityTypes.includes("COVERING")}));r=[].concat(T(r),T(n))})),r}},{key:"getCoveredByIds",value:function(){return this.coveredBy.map((function(t){return t.id}))}},{key:"setCoverAnimations",value:function(){var t=this;if(this.showCoverAnimations){var e=se(this.game.map,this.getPosition()),r=!1;if(e.forEach((function(e){if(e.entities.length){var n=e.entities[0];if(n.entityTypes.includes("COVERING")&&n.isProvidingCover()){var a=n.getPosition(),o=t.game.display.addAnimation(or.TEXT_OVERLAY,{x:a.x,y:a.y,color:t.renderer.color,text:"\ue88f",isBlinking:!0,textAttributes:{fontFamily:"scroll-o-script",fontSize:t.game.display.tileWidth/2}});t.coverAnimations.push(o),r=!0,t.coveredBy.push(n)}}})),r){var n=this.getPosition(),a=this.game.display.addAnimation(or.BLINK_BOX,{x:n.x,y:n.y,color:this.renderer.color});this.coverAnimations.push(a)}}}},{key:"removeCoverAnimations",value:function(){var t=this;this.coverAnimations.length&&(this.coverAnimations.forEach((function(e){t.game.display.removeAnimation(e.id)})),this.coverAnimations=[])}},{key:"removeCoveredBy",value:function(){this.coveredBy=[]}},{key:"resetCoverAnimations",value:function(){this.removeCoverAnimations(),this.removeCoveredBy(),this.setCoverAnimations()}},{key:"destroy",value:function(){this.showCoverAnimations=!1,this.removeCoverAnimations(),this.removeCoveredBy(),I(v(r.prototype),"destroy",this).call(this)}}]),r}(t)},si=["availableStatusEffects","statusEffectRange"],ui=["behaviors"],li=["spawnStructure","spawnedEntityClass","spawnedEntityOptions"],hi=d((function t(e){var r=e.game,n=e.actor,a=e.name,o=void 0===a?"Effect":a,i=e.lifespan,c=void 0===i?100:i,s=e.stepInterval,u=void 0===s?100:s,l=e.allowDuplicates,h=void 0===l||l,p=e.onStart,d=void 0===p?function(){return null}:p,y=e.onStep,g=void 0===y?function(){return null}:y,v=e.onStop,m=void 0===v?function(){return null}:v,_=e.renderer,b=void 0===_?{background:"green",color:"white",character:"*"}:_;f(this,t),this.game=r,this.actor=n,this.name=o,this.lifespan=c,this.timeToLive=c,this.stepInterval=u,this.allowDuplicates=h,this.timeSinceLastStep=0,this.onStart=d,this.onStep=g,this.onStop=m,this.renderer=b})),fi=["damagePerTick"],pi=["pickupEffects","dropEffects"],di=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).name="light drain",n.description="all lights give out eventually",n.allowDuplicates=!1,n.processOnlyOnPlayerTurn=!0,n.lifespan=-1,n.renderer={color:ca.sunset,background:ca.black,character:"o"},n.onStep=function(t){n.actor.entityTypes.includes("ILLUMINATING")&&n.actor.lightRange>1&&n.actor.decrementLightRange()},n}return d(r)}(Fn),yi=["lightRange","lightColor","lightDrain"],gi=function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.lightRange,o=void 0===a?8:a,i=t.lightColor,c=void 0===i?"#f9d091":i,u=t.lightDrain,l=void 0===u||u,h=Ve(t,yi);return f(this,r),(n=e.call(this,s({},h))).entityTypes=n.entityTypes.concat("ILLUMINATING"),n.lightRange=o,n.lightColor=c,n.lightDrain=l,l&&n.initializeDrainEffect(),n}return d(r,[{key:"setLightRange",value:function(t){this.lightRange=Ut(t,0,10)}},{key:"incrementLightRange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setLightRange(this.lightRange+t),$r.light_up.play()}},{key:"decrementLightRange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setLightRange(this.lightRange-t),$r.light_drain.play()}},{key:"initializeDrainEffect",value:function(){var t=new di({game:this.game,actor:this,stepInterval:2e3});this.game.engine.addStatusEffect(t)}}]),r}(t)},vi=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).name="fear of the dark",n.description="your hands cramp and shake, you can't hold steady. your losing your mind. where is the light?",n.allowDuplicates=!1,n.processOnlyOnPlayerTurn=!0,n.lifespan=-1,n.renderer={color:ca.green,background:ca.black,character:"x"},n.onStep=function(t){n.actor.entityTypes.includes("FEARFUL")&&n.actor.setFearByLightStrength()},n}return d(r)}(Fn),mi=["fearPoints","maxFearPoints","lightSafetyRange"],_i=[[function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).name="poor sight",n.description="you can't see it, but it's there.",n.allowDuplicates=!1,n.processOnlyOnPlayerTurn=!0,n.renderer={color:ca.white,background:ca.black,character:"r"},n.onStart=function(){n.actor.baseRangedAccuracy=n.actor.fearPoints/n.actor.maxFearPoints*-1},n.onStep=function(){n.actor.baseRangedAccuracy=n.actor.fearPoints/n.actor.maxFearPoints*-1},n.onStop=function(){n.actor.baseRangedAccuracy=0},n}return d(r)}(Fn),{lifespan:500}],[function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).name="weak hits",n.description="you are losing your will to even strike back",n.allowDuplicates=!1,n.processOnlyOnPlayerTurn=!0,n.renderer={color:ca.flesh2,background:ca.flesh3,character:"m"},n.onStart=function(){n.actor.attackDamage=0},n.onStop=function(){n.actor.attackDamage=1},n}return d(r)}(Fn),{lifespan:500}]],bi=(ye()(ao,io,ho,ni,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.initiatedBy,o=void 0===a?null:a,i=t.range,c=void 0===i?null:i,u=Ve(t,Va);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("UI"),n.initiatedBy=o,n.active=!0,n.range=c,n}return d(r,[{key:"hasEnoughEnergy",value:function(){return this.active}}]),r}(t)}))(Ia),ye()(ao,io)(Ia),ye()(io)(Ia),ye()(io,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.pickupEffects,o=void 0===a?[]:a,i=t.dropEffects,c=void 0===i?[]:i,u=Ve(t,pi);return f(this,r),(n=e.call(this,s({},u))).pickupEffects=o,n.dropEffects=c,n.entityTypes=n.entityTypes.concat("HAS_PICKUP_EFFECTS"),n}return d(r,[{key:"processPickupEffects",value:function(t){var e=this;this.pickupEffects.forEach((function(r){return r(t,e)}))}},{key:"processDropEffects",value:function(t){var e=this;this.dropEffects.forEach((function(r){return r(t,e)}))}}]),r}(t)}))(Ia)),Oi=ye()(ao,io,Yo,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.messages,o=void 0===a?["I have nothing to say."]:a,i=t.messageType,c=Ve(t,Qo);return f(this,r),(n=e.call(this,s({},c))).entityTypes=n.entityTypes.concat("SPEAKING"),n.messages=o,n.messageType=i,n}return d(r,[{key:"getAction",value:function(t){var e=this.messages.shift();return this.messages.push(e),new en({actor:this,game:t,message:e,messageType:this.messageType,processDelay:0})}}]),r}(t)}),zo,Vo,Jo,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).entityTypes=n.entityTypes.concat("HELPLESS"),n.saved=!1,n}return d(r,[{key:"save",value:function(){this.saved=!0,Fr.save.play()}},{key:"destroy",value:function(){It([Fr.scream_0,Fr.scream_1,Fr.scream_2]).play(),I(v(r.prototype),"destroy",this).call(this)}}]),r}(t)}))(Ia),wi=ye()(io,Yo)(Ia),ki=ye()(io,Yo,ii)(Ia),xi=ye()(io,go,Yo)(Ia),Ri=(ye()(io,go,Yo,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.damagePerTick,o=void 0===a?1:a,i=Ve(t,fi);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("TIME_BOMBING"),n.damagePerTick=o,n.addStatusEffect(),n}return d(r,[{key:"createTimeBombStatusEffect",value:function(){var t=this;return new hi({game:this.game,actor:this,name:"Dying",lifespan:-1,stepInterval:500,allowDuplicates:!1,onStep:function(){t.decreaseDurability(t.damagePerTick)}})}},{key:"addStatusEffect",value:function(){var t=this.createTimeBombStatusEffect();this.game.engine.addStatusEffect(t)}}]),r}(t)}))(Ia),ye()(io,Pn,zo,Jo,Yo,ei,Vo)(Ia)),Ai=(ye()(ao,io,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.path,o=void 0!==a&&a,i=t.direction,c=void 0===i?{x:0,y:0}:i,u=t.range,l=void 0===u?3:u,h=Ve(t,To);return f(this,r),(n=e.call(this,s({},h))).entityTypes=n.entityTypes.concat("DIRECTIONAL_PUSHING"),n.path=o,n.direction=c,n.range=l,n}return d(r,[{key:"getAction",value:function(t){var e=this,r={x:this.pos.x+this.direction[0],y:this.pos.y+this.direction[1]};return this.passable=!1,this.range>0?new Do({targetPos:r,direction:this.direction,game:t,actor:this,energyCost:be,onSuccess:function(){return e.range-=1}}):new Fa({game:t,actor:this,energyCost:0})}}]),r}(t)}),Yo)(Ia),ye()(ao,io,Io,Yo)(Ia),ye()(ao,io,Yo,Ya,Vo,so,Pn,to,ii,ci,qa,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.behaviors,o=void 0===a?[new rn]:a,i=Ve(t,ui);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("CYCLES_BEHAVIORS"),n.behaviors=o.map((function(t){return t.actor=m(n),t})),n.activeBehaviorIndex=0,n.energy=1/0,n}return d(r,[{key:"getActiveBehavior",value:function(){return this.selectedBehavior()}},{key:"selectedBehavior",value:function(){return this.behaviors[this.activeBehaviorIndex]}},{key:"shouldCycleToNextBehavior",value:function(t){return!t.isValid()||!t.shouldRepeat()}},{key:"getDefaultAction",value:function(){return new en({message:"*whistles*",game:this.game,actor:this,interrupt:!0,energyCost:100})}},{key:"setBehaviorIndex",value:function(t){this.activeBehaviorIndex=t}},{key:"setNextBehaviorIndex",value:function(){var t=(this.activeBehaviorIndex+1)%this.behaviors.length;this.setBehaviorIndex(t)}},{key:"selectNextBehavior",value:function(){return this.setNextBehaviorIndex(),this.selectedBehavior()}},{key:"getAction",value:function(){for(var t=null,e=this.selectedBehavior(),r=this.behaviors.length;this.shouldCycleToNextBehavior(e)&&(e.reset(),e=this.selectNextBehavior(),this.resetLastActionResult(),!((r-=1)<0)););for(var n=this.behaviors.length;null===t&&(e.repeated+=1,t=e.getAction(),!((n-=1)<0)););return t||(t=this.getDefaultAction()),t}}]),r}(t)}))(Ia)),Ei=ye()(ao,io,Io,Yo,Ya,Vo,ii,ci)(Ia),Si=ye()(ao,io,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetEntity,o=void 0===a?null:a,i=t.getProjectile,c=void 0===i?function(){return null}:i,u=Ve(t,Wo);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("RANGED_CHASING"),n.targetEntity=o,n.getProjectile=c,n}return d(r,[{key:"targetInPath",value:function(t,e){var r=!1;return t.forEach((function(t){t.x===e.x&&t.y===e.y&&(r=!0)})),r}},{key:"getAction",value:function(t){if(!this.targetEntity)return new en({message:"Where are they?",game:t,actor:this,energyCost:be});var e={x:Math.sign(this.targetEntity.pos.x-this.pos.x),y:Math.sign(this.targetEntity.pos.y-this.pos.y)},r=this.getProjectile({pos:{x:this.pos.x,y:this.pos.y},targetPos:s({},this.targetEntity.pos),direction:[e.x,e.y],range:10});if(r.createPath(t),this.targetInPath(r.path,this.targetEntity.pos))return t.canOccupyPosition(r.pos,r)?new Fo({targetPos:s({},r.pos),entity:r,game:t,actor:this,energyCost:be}):new en({message:"I'll get you with this kunai!",game:t,actor:this,energyCost:be});var n=Kt(t,this.targetEntity.pos,this.pos),a=n.length>0?n[0]:this.pos;return new Oo({targetPos:a,game:t,actor:this,energyCost:be})}}]),r}(t)}),Yo,Ya,Vo,ii,ci)(Ia),Ci=ye()(ao,io,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.presentingUI,o=void 0!==a&&a,i=Ve(t,Ha);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("PRESENTING_UI"),n.presentingUI=o,n}return d(r)}(t)}),qa,ni,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.draggedEntity,o=void 0===a?null:a,i=Ve(t,jo);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("DRAGGING"),n.draggedEntity=o,n}return d(r,[{key:"grab",value:function(t){var e=this.game.map[Bt(t)];if(!e)return!1;if(e.entities.length>0){var r=e.entities[0];if(r.entityTypes.includes("DRAGGABLE")&&!this.draggedEntity&&!0===r.draggable)return this.draggedEntity=r,!0}return!1}},{key:"release",value:function(){if(!this.draggedEntity)return!1;var t=s({},this.draggedEntity);return this.draggedEntity=null,t}},{key:"drag",value:function(t){var e=this,r=this.draggedEntity.pos,n=this.game.map[Bt(r)];this.game.map[Bt(r)]=s(s({},n),{},{entities:n.entities.filter((function(t){return t.id!==e.draggedEntity.id}))}),this.draggedEntity.pos=t,this.game.map[Bt(t)].entities.push(this.draggedEntity)}},{key:"move",value:function(t){var e=s({},this.pos);if(this.draggedEntity){var n=I(v(r.prototype),"move",this).call(this,t);return n?(this.drag(e),!0):n}return I(v(r.prototype),"move",this).call(this,t)}}]),r}(t)}),(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.charge,o=void 0===a?2:a,i=Ve(t,uo);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("CHARGING"),n.charge=o,n.chargeMax=o,n}return d(r,[{key:"decreaseCharge",value:function(t){this.charge=Math.max(0,this.charge-t)}},{key:"increaseCharge",value:function(t){this.charge=Math.min(this.chargeMax,this.charge+t)}}]),r}(t)}),(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).entityTypes=n.entityTypes.concat("SIGNING"),n.signHistory=[],n}return d(r,[{key:"addSign",value:function(t){this.signHistory.length>=4&&this.signHistory.shift(),this.signHistory.push(t)}},{key:"clearSigns",value:function(){this.signHistory=[]}}]),r}(t)}),Pn,so,Ya,to,Yo,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.cloneLimit,o=void 0===a?1:a,i=Ve(t,po);return f(this,r),(n=e.call(this,s({},i))).entityTypes=n.entityTypes.concat("CLONING"),n.cloneLimit=o,n.clones=[],n}return d(r,[{key:"destroy",value:function(){this.clones&&this.clones.map((function(t){fo(t)})),fo(this)}},{key:"destroyClone",value:function(t){var e=this.clones.findIndex((function(e){return e.id===t}));e>=0&&(this.clones[e].super__destroy(),this.clones.splice(e,1))}},{key:"createClone",value:function(t){var e=this;if(this.clones.length<this.cloneLimit){var r=(0,_e.cloneDeep)(this);if(r.name="Clone",r.game=this.game,r.id=me()(),r.entityTypes.includes("HAS_KEYMAP")){var n=(0,_e.find)(t,{attribute:"ignoredKeys"});r.reinitializeKeymap(n?n.value:[])}if(delete r.clones,r.super__destroy=r.destroy,r.destroy=function(){e.destroyClone(r.id)},t.forEach((function(t){r[t.attribute]=t.value})),this.game.placeActorOnMap(r))return this.game.engine.addActorAsNext(r),this.game.draw(),this.clones.push(r),!0}return!1}}]),r}(t)}),ho,Jo,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.upgrade_points,o=void 0===a?0:a,i=t.upgrade_tree,c=void 0===i?[]:i,u=Ve(t,ai);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("UPGRADABLE"),n.upgrade_points=o,n.upgrade_tree=c,n}return d(r,[{key:"upgrade",value:function(t){if(t.canUpgrade(this)){if(t.activate(this),t.removeOnActivate){var e=this.upgrade_tree.filter((function(e){return e.name!==t.name}));this.upgrade_tree=e}return!0}return!1}}]),r}(t)}),ii,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.availableStatusEffects,o=void 0===a?[]:a,i=t.statusEffectRange,c=void 0===i?2:i,u=Ve(t,si);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("CAN_ACTIVATE_STATUS_EFFECTS"),n.statusEffectRange=c,n.statusEffectRangeMax=10,n.availableStatusEffects=o,n}return d(r,[{key:"getAvailableStatusEffects",value:function(){return this.availableStatusEffects}},{key:"addAvailableStatusEffect",value:function(t){this.availableStatusEffects.push(t)}},{key:"getStatusEffectRange",value:function(){return this.statusEffectRange}},{key:"decreaseStatusEffectRange",value:function(t){this.statusEffectRange=Math.max(0,this.statusEffectRange-t)}},{key:"increaseStatusEffectRange",value:function(t){this.statusEffectRange=Math.min(this.statusEffectRangeMax,this.statusEffectRange+t)}}]),r}(t)}),ci,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.fearPoints,o=void 0===a?0:a,i=t.maxFearPoints,c=void 0===i?3:i,u=t.lightSafetyRange,l=void 0===u?3:u,h=Ve(t,mi);return f(this,r),(n=e.call(this,s({},h))).entityTypes=n.entityTypes.concat("FEARFUL"),n.fearPoints=o,n.maxFearPoints=c,n.lightSafetyRange=l,n.initializeStatusEffect(),n}return d(r,[{key:"setFear",value:function(t){this.fearPoints=Ut(t,0,this.maxFearPoints)}},{key:"addRandomFearEffect",value:function(){var t=h(It(_i),2),e=t[0],r=t[1],n=new e(s({game:this.game,actor:this},r));this.game.engine.addStatusEffect(n)}},{key:"shouldAddFearEffect",value:function(){return Math.random()<this.fearPoints/this.maxFearPoints}},{key:"incrementFear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setFear(this.fearPoints+t)}},{key:"decrementFear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setFear(this.fearPoints-t)}},{key:"setFearByLightStrength",value:function(){var t=this;this.getAllLights().filter((function(e){return!t.isNotInLightSafety(e)})).length>0?this.decrementFear():this.incrementFear(),this.shouldAddFearEffect()&&this.addRandomFearEffect()}},{key:"isNotInLightSafety",value:function(t){var e=$t(this.getPosition(),t.getPosition());return this.lightSafetyRange>t.lightRange-e}},{key:"getAllLights",value:function(){return oe(this.game.entityLog.getAllEntities(),"ILLUMINATING")}},{key:"initializeStatusEffect",value:function(){var t=new vi({game:this.game,actor:this});this.game.engine.addStatusEffect(t)}}]),r}(t)}))(Ia),Li=ye()(io,ro,Ya)(Ia),Di=ye()(io,ro,to,Ya,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.shapePattern,o=void 0===a?Fe.point:a,i=Ve(t,Ka);return f(this,r),(n=e.call(this,s({},i))).shapePattern=o,n.entityTypes=n.entityTypes.concat("HAS_SHAPE_PATTERN"),n}return d(r,[{key:"getPositionsInShape",value:function(t){return he(this.shapePattern,t)}}]),r}(t)}))(Ia),Ti=ye()(io,ro,Yo)(Ia),Ni=ye()(io,Yo,ei)(Ia),Pi=(ye()(ao,io,Ya,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.path,o=void 0!==a&&a,i=t.targetPos,c=void 0===i?null:i,u=t.attackDamage,l=void 0===u?1:u,h=t.range,p=void 0===h?3:h,d=Ve(t,ko);return f(this,r),(n=e.call(this,s({},d))).entityTypes=n.entityTypes.concat("DESTRUCTIVE_PROJECTING"),n.path=o,n.targetPos=c,n.attackDamage=l,n.range=p,n}return d(r,[{key:"createPath",value:function(t){var e=re(t,this.targetPos,this.pos,8,this.range);this.path=e}},{key:"getAction",value:function(t){this.path||this.createPath(t);var e=this.path.length>0?this.path[0]:this.pos;return new wo({targetPos:e,game:t,actor:this,energyCost:be})}}]),r}(t)}),Yo)(Ia),ye()(ao,io,Ya,Co,Yo)(Ia)),Gi=ye()(ao,io,Ya,Co,Yo,ei)(Ia),Ui=(ye()(ao,io,Ya,Co,Yo,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.spawnStructure,o=void 0===a?Fe.clover:a,i=t.spawnedEntityClass,c=t.spawnedEntityOptions,u=Ve(t,li);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("SPAWNING_WITH_STRUCTURE"),n.spawnStructure=o,n.spawnedEntityClass=i,n.spawnedEntityOptions=c,n}return d(r,[{key:"createEntitiesToSpawn",value:function(){var t=this;return he(this.spawnStructure,this.getPosition()).map((function(e){return new t.spawnedEntityClass(s({pos:s({},e),game:t.game},t.spawnedEntityOptions))}))}},{key:"spawnEntities",value:function(){var t=this;this.createEntitiesToSpawn().forEach((function(e){e.entityTypes.includes("ACTING")&&t.game.engine.addActor(e),t.game.placeActorOnMap(e)}))}}]),r}(t)}))(Ia),ye()(ao,io,Ya,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.owner_id,o=void 0===a?null:a,i=t.path,c=void 0!==i&&i,u=t.targetPos,l=void 0===u?null:u,h=t.attackDamage,p=void 0===h?1:h,d=t.range,y=void 0===d?3:d,g=Ve(t,Po);return f(this,r),(n=e.call(this,s({},g))).entityTypes=n.entityTypes.concat("GASEOUS_DESTRUCTIVE_PROJECTING"),n.path=c,n.targetPos=l,n.attackDamage=p,n.range=y,n.owner_id=o,n}return d(r,[{key:"canAttack",value:function(t){var e=I(v(r.prototype),"canAttack",this).call(this);return e&&(e=null===this.owner_id||t.owner_id!==this.owner_id),e}},{key:"createPath",value:function(t){var e=re(t,this.targetPos,this.pos,8,this.range);this.path=e}},{key:"getAction",value:function(t){this.path||this.createPath(t);var e=this.path.length>0?this.path[0]:this.pos;return new No({targetPos:e,game:t,actor:this,energyCost:be})}}]),r}(t)}),Yo,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.isClone,o=void 0!==a&&a,i=t.cloneCount,c=void 0===i?0:i,u=t.clonePattern,l=void 0===u?Fe.square:u,h=Ve(t,Go);return f(this,r),(n=e.call(this,s({},h))).entityTypes=n.entityTypes.concat("GASEOUS"),n.isClone=o,n.cloneCount=c,n.clonePattern=(0,_e.cloneDeep)(l),n}return d(r,[{key:"getAction",value:function(t){var e=this.clonePattern.positions.find((function(t){return!t.taken}));if(!this.isClone&&e){e.taken=!0;var n=(0,_e.cloneDeepWith)(this,(function(t,e){switch(e){case"id":case"game":case"engine":case"clones":return null;default:return}}));if(n.game=t,n.id=me()(),this.hasOwnProperty("pos")){var a=this.pos;n.pos={x:a.x+e.x,y:a.y+e.y}}n.hasOwnProperty("path")&&(n.path=n.path.map((function(t){return{x:t.x+e.x,y:t.y+e.y}}))),n.isClone=!0,this.cloneCount+=1,t.placeActorOnMap(n),t.engine.addActor(n),t.draw()}return I(v(r.prototype),"getAction",this).call(this,t)}}]),r}(t)}))(Ia),ye()(ao,Yo,za)(Ia),ye()(ao,io,Yo,Ya,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.timeToSpread,o=void 0===a?5:a,i=t.spreadCount,c=void 0===i?1:i,u=Ve(t,qo);return f(this,r),(n=e.call(this,s({},u))).entityTypes=n.entityTypes.concat("SPREADING"),n.timeToSpreadMax=o,n.timeToSpread=o,n.spreadCountMax=c,n.spreadCount=c,n}return d(r,[{key:"getAction",value:function(t){var e=this;if(this.spreadCount<=0)return new Fa({game:t,actor:this,energyCost:be,processDelay:0,onAfter:function(){t.map[Bt(e.pos)].type="BURNT"}});if(this.timeToSpread<=0){for(var r=[{x:this.pos.x+0,y:this.pos.y+0},{x:this.pos.x+1,y:this.pos.y+0},{x:this.pos.x+-1,y:this.pos.y+0},{x:this.pos.x+0,y:this.pos.y+1},{x:this.pos.x+0,y:this.pos.y+-1}],n=null,a=100;a>0;){var o=It(r),i=xr({map:this.game.map,position:o}),c=Boolean(i),u=!0,l=!1;if(i&&(u="BURNT"!==i.type,l=wr({tile:i,tag:"BURNABLE"})),c&&u&&l){n=o;break}a-=1}if(n){var h=new Ui({name:"Pyro",pos:{x:0,y:0},game:t,renderer:s({},this.renderer),timeToSpread:this.timeToSpreadMax,spreadCount:this.spreadCountMax,durability:this.durability,attackDamage:this.attackDamage,speed:this.speed});return this.timeToSpread=this.timeToSpreadMax,this.spreadCount-=1,new Fo({targetPos:n,entity:h,game:t,actor:this,interrupt:!1,energyCost:be,processDelay:0,forcePlacement:!0})}this.timeToSpread=this.timeToSpreadMax,this.spreadCount-=1}return this.timeToSpread-=1,new en({message:"burning",game:t,actor:this,processDelay:0})}}]),r}(t)}))(Ia)),Ii=ye()(ao,io,Yo,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.getSpawnedEntity,o=t.timeToSpread,i=void 0===o?5:o,c=t.spreadCount,u=void 0===c?1:c,l=t.onSpawn,h=void 0===l?function(){return null}:l,p=Ve(t,Ko);return f(this,r),(n=e.call(this,s({},p))).entityTypes=n.entityTypes.concat("SPAWNING"),n.timeToSpreadMax=i,n.timeToSpread=i,n.spreadCountMax=u,n.spreadCount=u,n.getSpawnedEntity=a,n.onSpawn=h,n}return d(r,[{key:"getAction",value:function(t){if(this.spreadCount<=0)return new Fa({game:t,actor:this,energyCost:be,processDelay:0});if(this.timeToSpread<=0){for(var e=[{x:this.pos.x+1,y:this.pos.y+0},{x:this.pos.x+-1,y:this.pos.y+0},{x:this.pos.x+0,y:this.pos.y+1},{x:this.pos.x+0,y:this.pos.y+-1}],r=null,n=100;n>0;){var a=It(e),o=this.game.map[Bt(a)];if(Boolean(o)&&t.canOccupyPosition(a)){r=a;break}n-=1}if(r)return this.timeToSpread=this.timeToSpreadMax,this.spreadCount-=1,this.onSpawn(),new Fo({targetPos:r,entity:this.getSpawnedEntity(r),game:t,actor:this,interrupt:!1,energyCost:be,processDelay:0,forcePlacement:!0});this.timeToSpread=this.timeToSpreadMax,this.spreadCount-=1}return this.timeToSpread-=1,new en({message:"boom boom",game:t,actor:this,processDelay:0})}}]),r}(t)}),ii)(Ia),Mi=ye()(ao,io,(function(t){return function(t){g(r,t);var e=b(r);function r(t){var n,a=t.pos,o=void 0===a?{x:1,y:1}:a,i=t.direction,c=void 0===i?{x:0,y:0}:i,u=t.life,l=void 0===u?1:u,h=t.speed,p=void 0===h?1:h,d=t.type,y=void 0===d?je:d,g=t.path,v=void 0===g?null:g,m=t.particleRendererGradients,_=void 0===m?null:m,b=t.particleEasingFunction,O=void 0===b?fe.linear:b,w=t.particleAnimationTimeStep,k=void 0===w?.9:w,x=Ve(t,Zo);return f(this,r),(n=e.call(this,s({},x))).pos=o,n.direction=c,n.life=l,n.maxLife=l,n.speed=p,n.type=y,n.path=v,n.particleRendererGradients=_,n.particleEasingFunction=O,n.particleAnimationTimeStep=k,n.entityTypes=n.entityTypes.concat("PARTICLE"),n.lightPassable=!0,n}return d(r,[{key:"update",value:function(t){this.life-=t,this.life>0?(this.updateRenderer(),this.updatePosition(t)):this.destroy()}},{key:"updatePosition",value:function(t){this.pos=this.getNextPos(t)}},{key:"getNextPos",value:function(t){switch(this.type){case je:return{x:this.pos.x+this.direction.x*this.speed*t,y:this.pos.y+this.direction.y*this.speed*t};case Be:var e=this.path.shift();return s({},e||this.pos)}}},{key:"updateRenderer",value:function(){var t=this;if(null!==this.particleRendererGradients){var e=Object.keys(this.particleRendererGradients),r=1-this.life/this.maxLife;e.forEach((function(e){var n=h(t.particleRendererGradients[e],2),a=n[0],o=n[1],i=$o(a,o,r);t.renderer[e]=i}))}}},{key:"destroy",value:function(){this.game.entityLog.remove(this)}}]),r}(t)}))(Ia),Fi=(ye()(ao,Yo,za)(Ia),ye()(io,ro,gi)(Ia)),Wi=ye()(gi)(bi),ji=function(){function t(e){var r=e.statusEffects,n=void 0===r?[]:r,a=e.actors,o=void 0===a?[]:a,i=e.currentActor,c=void 0===i?0:i,s=e.isRunning,u=void 0!==s&&s,l=e.game,h=void 0===l?null:l;f(this,t),this.statusEffects=n,this.actors=o,this.currentActor=c,this.isRunning=u,this.game=h}return d(t,[{key:"processV1",value:function(){var t=D(C().mark((function t(){var e,r,n;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.actors[this.currentActor]).gainEnergy(e.speed),!e.hasEnoughEnergy()){t.next=18;break}if(r=e.getAction(this.game)){t.next=6;break}return t.abrupt("return",!1);case 6:return n=r.perform(),this.game.draw(),t.next=11,Pt(r.processDelay);case 11:if(n.success){t.next=13;break}return t.abrupt("return",!1);case 13:if(null!==n.alternative){t.next=15;break}return t.abrupt("break",18);case 15:r=n.alternative,t.next=6;break;case 18:return this.currentActor=(this.currentActor+1)%this.actors.length,t.abrupt("return",!0);case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"processV2",value:function(){var t=D(C().mark((function t(){var e,r,n,a,o;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.actors[this.currentActor],null!==this.game.getFirstPlayer()){t.next=3;break}return t.abrupt("return",!1);case 3:r=!0;case 4:if(!r){t.next=62;break}if(e){t.next=7;break}return t.abrupt("return",!1);case 7:if(e.active){t.next=9;break}return t.abrupt("break",62);case 9:if(n=0,!e.hasEnoughEnergy()){t.next=58;break}if(a=e.getAction(this.game)){t.next=14;break}return t.abrupt("return",!1);case 14:n+=a.getEnergyCost();case 15:if(o={success:!1,alternative:null},!a.canPayRequiredResources()){t.next=34;break}return t.next=20,a.onBefore();case 20:return t.next=22,a.perform();case 22:if(o=t.sent,e.lastActionResult=o,!o.success){t.next=30;break}return t.next=27,a.onSuccess();case 27:a.payRequiredResources(),t.next=32;break;case 30:return t.next=32,a.onFailure();case 32:return t.next=34,a.onAfter();case 34:return t.next=36,this.processActionFX(a,o.success);case 36:if(t.sent){t.next=45;break}if(!this.shouldAutoRun()){t.next=42;break}return t.next=40,Pt(25);case 40:t.next=44;break;case 42:return t.next=44,Pt(a.processDelay);case 44:this.game.draw();case 45:if(e.active){t.next=47;break}return t.abrupt("break",52);case 47:if(null!==o.alternative){t.next=49;break}return t.abrupt("break",52);case 49:a=o.alternative,t.next=15;break;case 52:if(this.processStatusEffects(n),!a.interrupt){t.next=56;break}return r=!1,t.abrupt("break",62);case 56:t.next=60;break;case 58:e.gainEnergy(e.speed),r=!1;case 60:t.next=4;break;case 62:return this.actors=this.actors.filter((function(t){return t.active})),this.currentActor+=1,this.currentActor>=this.actors.length&&(this.currentActor=0),t.abrupt("return",!0);case 66:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"processV3",value:function(){var t=D(C().mark((function t(){var e,r,n,a;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.actors[this.currentActor]){t.next=3;break}return t.abrupt("return",!1);case 3:if(r=0,!e.hasEnoughEnergy()){t.next=29;break}if(n=e.getAction(this.game)){t.next=8;break}return t.abrupt("return",!1);case 8:r+=n.energyCost;case 9:return t.next=12,n.perform();case 12:return a=t.sent,t.next=15,this.processActionFX(n,a.success);case 15:if(t.sent){t.next=19;break}return t.next=18,Pt(n.processDelay);case 18:this.game.draw();case 19:if(a.success){t.next=21;break}return t.abrupt("return",!1);case 21:if(null!==a.alternative){t.next=23;break}return t.abrupt("break",26);case 23:n=a.alternative,t.next=9;break;case 26:this.processStatusEffects(r),t.next=30;break;case 29:e.gainEnergy(e.speed);case 30:return this.currentActor=(this.currentActor+1)%this.actors.length,0===this.currentActor&&this.sortActorsByEnergy(),t.abrupt("return",!0);case 33:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=D(C().mark((function t(){var e;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isRunning=!0;case 1:if(!this.isRunning){t.next=7;break}return t.next=4,this.processV2();case 4:this.isRunning=t.sent,t.next=1;break;case 7:if(e=this.actors[this.currentActor]){t.next=10;break}return t.abrupt("return",!1);case 10:return this.setVisibleKeymap(e),this.game.updateMode(),t.next=14,this.game.updateReact(this.game);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"stop",value:function(){this.isRunning=!1}},{key:"setVisibleKeymap",value:function(t){if(t.entityTypes.includes("HAS_KEYMAP")){var e=t.getKeymap();e&&(this.game.visibleKeymap=e)}}},{key:"sortActorsByEnergy",value:function(){this.actors=this.actors.sort((function(t,e){return e.energy-t.energy}))}},{key:"shouldAutoRun",value:function(){return!this.actors.filter((function(t){return t.entityTypes.includes("PLAYING")})).length}},{key:"addStatusEffect",value:function(t){return!(!t.allowDuplicates&&this.statusEffects.filter((function(e){return e.actor.id===t.actor.id&&e.name===t.name})).length>0)&&(t.onStart(),this.statusEffects.push(t),!0)}},{key:"removeStatusEffectById",value:function(t){this.statusEffects=this.statusEffects.filter((function(e){return e.id!==t||(e.onStop(),!1)}))}},{key:"removeStatusEffectByActorId",value:function(t){this.statusEffects=this.statusEffects.filter((function(e){return e.actor.id!==t||(e.onStop(),!1)}))}},{key:"removeDeadStatusEffects",value:function(){this.statusEffects=this.statusEffects.filter((function(t){return!(t.lifespan>=0&&t.timeToLive<=0)||(t.onStop(),!1)}))}},{key:"getStatusEffectsByActorId",value:function(t){return this.statusEffects.filter((function(e){return e.actor.id===t}))}},{key:"processStatusEffects",value:function(t){var e=this.statusEffects;this.currentActorIsPlayer()||(e=e.filter((function(t){return!t.processOnlyOnPlayerTurn}))),e.forEach((function(e){e.timeSinceLastStep+=t,e.timeToLive-=t,e.timeSinceLastStep>=e.stepInterval&&(e.onStep(t),e.timeSinceLastStep=0)})),this.removeDeadStatusEffects()}},{key:"currentActorIsPlayer",value:function(){var t=this.actors[this.currentActor];return!!t&&t.entityTypes.includes("PLAYING")}},{key:"processActionFX",value:function(){var t=D(C().mark((function t(e,r){var n,a,o,i,c=this;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=11;break}return n=new Mi({game:this.game,name:"particle",passable:!0,pos:s({},e.actor.pos),renderer:We.fail.renderer}),this.game.placeActorOnMap(n),this.game.draw(),t.next=6,Pt(100);case 6:return this.game.removeActorFromMap(n),n.update(1),this.game.draw(),e.removeDeadParticles(),t.abrupt("return",!0);case 11:if(!e.particles.length){t.next=27;break}a=e.particles[0].particleAnimationTimeStep,o=e.particles[0].particleEasingFunction;case 14:if(!(e.particles.length>0)){t.next=26;break}return e.particles.forEach((function(t){c.game.placeActorOnMap(t)})),this.game.draw(),i=Math.max(100*a,12),t.next=20,Pt(i);case 20:e.particles.forEach((function(t){c.game.removeActorFromMap(t),t.update(1)})),e.removeDeadParticles(),this.game.draw(),a=o(a),t.next=14;break;case 26:return t.abrupt("return",!0);case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"addActor",value:function(t){this.actors.push(t)}},{key:"addActorAsPrevious",value:function(t){this.actors.splice(this.currentActor,0,t)}},{key:"addActorAsNext",value:function(t){this.actors.splice(this.currentActor+1,0,t)}},{key:"setActorToPrevious",value:function(t){this.currentActor-=1,this.currentActor<=-1&&(this.currentActor=this.actors.length-1)}},{key:"setActorToNext",value:function(t){this.currentActor=(this.currentActor+1)%this.actors.length}}]),t}(),Bi=function(t){g(r,t);var e=b(r);function r(){return f(this,r),e.apply(this,arguments)}return d(r,[{key:"process",value:function(){var t=D(C().mark((function t(){var e,r,n,a;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.actors[this.currentActor],r=!0;case 2:if(!r){t.next=26;break}if(!e.hasEnoughEnergy()){t.next=23;break}if(n=e.getAction(this.game)){t.next=7;break}return t.abrupt("return",!1);case 7:return this.game.draw(),t.next=11,n.perform();case 11:return a=t.sent,t.next=14,Pt(n.processDelay);case 14:if(a.success){t.next=16;break}return t.abrupt("return",!1);case 16:if(null!==a.alternative){t.next=18;break}return t.abrupt("break",21);case 18:n=a.alternative,t.next=7;break;case 21:t.next=24;break;case 23:r=!1;case 24:t.next=2;break;case 26:if(this.currentActor+=1,!(this.currentActor+1>=this.actors.length)){t.next=31;break}return this.currentActor=0,this.actors.forEach((function(t){return t.gainEnergy(t.speed)})),t.abrupt("return",!1);case 31:return t.abrupt("return",!0);case 32:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=D(C().mark((function t(){var e;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isRunning=!0;case 1:if(!this.isRunning){t.next=7;break}return t.next=4,this.process();case 4:this.isRunning=t.sent,t.next=1;break;case 7:return e=this.actors[this.currentActor],this.setVisibleKeymap(e),this.game.mode.update(),t.next=12,this.game.updateReact(this.game);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(ji),zi=function(t){g(n,t);var r=b(n);function n(){return f(this,n),r.apply(this,arguments)}return d(n,[{key:"render",value:function(){var t=this,r=_e.get(this.props.game,"mode.infoHeader",null);_e.get(this.props.game,"mode.infoBlocks",{});return e.createElement("div",{className:"Instructions UI"},r&&e.createElement("p",{className:"flow-text"},r),e.createElement("div",{className:"flow-text"},e.createElement("div",{className:"Instructions__block",onClick:function(){return window.location.reload()}},e.createElement("button",{style:{backgroundColor:Ms.theme.accent,color:Ms.theme.main},className:"btn btn-main"},"Restart")),e.createElement("div",{className:"Instructions__block",onClick:function(){return t.props.toggleSpriteMode()}},e.createElement("button",{style:{backgroundColor:Ms.theme.accent,color:Ms.theme.main},className:"btn btn-main"},this.props.spriteMode?"ASCII mode":"Sprite mode")),e.createElement("div",{className:"Instructions__block"},e.createElement("button",{style:{backgroundColor:Ms.theme.accent,color:Ms.theme.main},"data-target":"jacinto_help",className:"btn btn-main modal-trigger"},"Help"))))}}]),n}(e.Component),Hi=zi;var Vi=function(t){var r=t.color;return r||(r="grey"),e.createElement("button",{onClick:t.onClick,className:"Button btn ".concat(r)},t.children)};e.Component;var qi=function(t){var r=t.title,n=void 0===r?"Effect":r,a=t.text,o=void 0===a?"":a,i=t.children;return e.createElement("div",{className:"Tooltip"},i,e.createElement("div",{className:"top"},e.createElement("strong",null,n),""!=o&&e.createElement(e.Fragment,null,e.createElement("hr",null),e.createElement("p",null,o))))};function Ki(t){var r=t.resource,n=t.superScript,a=t.canPay;r.renderer.sprite?r.renderer.sprite:r.renderer.character;return e.createElement("div",{className:"ResourceBlock",style:{backgroundColor:a?r.renderer.background:"#616161",color:a?r.renderer.color:"#bdbdbd",borderColor:a?r.renderer.color:"#bdbdbd",fontFamily:"scroll-o-script",width:n?"auto":20}},n)}var Xi=function(t){var r=t.keymap,n=t.game;return e.createElement("div",{className:"Jacinto__ActionMenu"},e.createElement("div",{className:"Jacinto__ActionMenu__Actions"},r&&Object.entries(r).map((function(t,r){var a=h(t,2),o=a[0],i=(0,a[1])(),c=_e.get(i,"hidden",!1),s=_e.get(i,"renderer",null),u=i.listPayableResources();if(!c)return e.createElement("div",{key:"".concat(r,"-label"),className:"Jacinto__ActionMenu__Actions__item",onClick:function(){i.setAsNextAction(),n.engine.isRunning||n.engine.start(),n.refocus()}},e.createElement("div",{className:"Jacinto__ActionMenu__Actions__item__label"},o),e.createElement("div",{className:"Jacinto__ActionMenu__Actions__item__content",style:s&&{backgroundColor:s.background,color:s.color,borderColor:s.color}},i.label),e.createElement("div",{className:"Jacinto__ActionMenu__Actions__item__resources"},u.map((function(t,r){var n=t.getResourceCostDisplay();return n>0&&e.createElement(Ki,{key:"".concat(r,"-").concat(t.name,"-resource-block"),superScript:n,resource:t,canPay:t.canPay})}))))}))))};function Yi(t){var r=t.resource,n=t.superScript,a=t.canPay,o=r.renderer.sprite?r.renderer.sprite:r.renderer.character;return e.createElement("div",{className:"ResourceBlock",style:{backgroundColor:a?r.renderer.background:"#616161",color:a?r.renderer.color:"#bdbdbd",borderColor:a?r.renderer.color:"#bdbdbd",fontFamily:"scroll-o-script",width:n?"auto":20}},"".concat(n?n+" ":"").concat(o))}e.Component;function Zi(t){var r=t.actor;return e.createElement("div",{className:"Portrait",style:{backgroundColor:r.renderer.background,color:r.renderer.color,borderColor:r.renderer.color}},r.renderer.sprite?r.renderer.sprite:r.renderer.character)}function $i(t){var r=t.effect;return e.createElement("div",{className:"StatusEffects__effect",style:{backgroundColor:r.renderer.background,color:r.renderer.color,borderColor:r.renderer.color}},r.renderer.sprite?r.renderer.sprite:r.renderer.character)}function Qi(t){var r=t.actor;return e.createElement("div",{className:"StatusEffects"},r.game.engine.getStatusEffectsByActorId(r.id).map((function(t,r){return e.createElement(qi,{key:r,title:t.name,text:t.description},e.createElement($i,{effect:t}))})))}function Ji(t){var r=t.actor;return e.createElement("div",{className:"NamePlate"},r.name)}function tc(t){var r=t.actor,n=t.label,a=t.colorFilled,o=void 0===a?"red":a,i=t.colorEmpty,c=void 0===i?"gray":i,s=t.attributePathMax,u=t.attributePath,l=t.unit,h=_e.get(r,s,0)/l,f=_e.get(r,u,0)/l;return e.createElement("div",{className:"ProgressBar"},e.createElement("div",null,e.createElement("span",{className:"ProgressBar__label"},n)),e.createElement("div",null,e.createElement("div",{className:"ProgressBar__blips"},Array(h).fill(!0).map((function(t,r){return e.createElement("span",{key:r,className:"ProgressBar__blips__blip",style:{backgroundColor:f>r?o:c}})})))))}var ec=function(t){var r=t.actor,n=t.game;return e.createElement("div",{className:"CharacterCard"},e.createElement("div",null,e.createElement(Ji,{actor:r}),e.createElement(Zi,{actor:r}),e.createElement(tc,{label:"Action Points",attributePath:"energy",attributePathMax:"speed",colorFilled:"#ff9926",unit:100,actor:r}),e.createElement(tc,{label:"Health Points",attributePath:"durability",attributePathMax:"durabilityMax",colorFilled:"#dc322f",unit:1,actor:r}),e.createElement(tc,{label:"Fear",attributePath:"fearPoints",attributePathMax:"maxFearPoints",colorFilled:"#859900",unit:1,actor:r}),e.createElement(Qi,{actor:r})),e.createElement("div",null,e.createElement(Xi,{keymap:r.getKeymap(),game:n})))},rc=function(t){var r=t.game,n=r.engine.actors.filter((function(t){return t.entityTypes.includes("PRESENTING_UI")})).filter((function(t){return t.presentingUI}));return e.createElement("div",{className:"PlayerInformation Information UI"},e.createElement("div",{className:"CharacterCard_Container"},n.map((function(t,n){return e.createElement(ec,{key:n,actor:t,game:r})}))))};e.Component;function nc(t){return e.createElement("div",{className:"Message",style:{color:t.color,backgroundColor:t.backgroundColor,borderColor:t.color}},t.children)}var ac=function(t){g(n,t);var r=b(n);function n(){return f(this,n),r.apply(this,arguments)}return d(n,[{key:"render",value:function(){return e.createElement("div",{className:"Messages UI"},e.createElement("div",null,"Messages"),this.props.messages&&this.props.messages.map((function(t,r){return e.createElement(nc,{key:r,color:t.type.color,backgroundColor:t.type.backgroundColor},"".concat(t.text))})))}}]),n}(e.Component),oc=ac;var ic=function(t){return e.createElement("div",null,_e.map(_e.get(t.game,"mode.infoBlocks",{}),(function(t,r){return e.createElement("div",{key:r,className:"Instructions__block Instructions__block--Jacinto"},t.text)})))},cc=function(t){var r=t.game;return e.createElement("div",{className:"UI",style:{marginBottom:20}},r.entityLog.getAllUniqueEntities().map((function(t,r){return e.createElement(sc,{key:r,entity:t})})))},sc=function(t){var r=t.entity;return e.createElement("div",null,e.createElement(lc,{renderer:r.renderer}),e.createElement(hc,{entity:r}))},uc=function(t){var r=t.game.entityLog.getLookedAt();return r.length<=0?null:e.createElement("div",{style:{top:0,position:"absolute",textAlign:"left",zIndex:1,maxWidth:"60%"}},r.map((function(t,r){return e.createElement("div",{key:r,style:{marginBottom:10}},e.createElement(lc,{renderer:t.renderer}),e.createElement(hc,{entity:t}),e.createElement("div",{style:{marginLeft:20}},e.createElement(fc,{entity:t}),e.createElement(dc,{actor:t})))})))},lc=function(t){var r=t.renderer;return e.createElement("span",{style:{color:r.color,backgroundColor:r.background,borderRadius:2,padding:2,marginRight:5}},r.sprite||r.character)},hc=function(t){var r=t.entity;return e.createElement("span",{style:{color:r.renderer.color}},r.name)},fc=function(t){var r=t.entity;return e.createElement("div",null,r.getFullDescription())};function pc(t){var r=t.effect;return e.createElement("div",null,e.createElement(lc,{renderer:r.renderer}),e.createElement("span",null,r.name),e.createElement("div",{style:{marginLeft:20}},r.description))}function dc(t){var r=t.actor;return e.createElement("div",{className:"StatusEffects"},r.game.engine.getStatusEffectsByActorId(r.id).map((function(t,r){return e.createElement(pc,{key:r,effect:t})})))}var yc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gc=e.createContext&&e.createContext(yc),vc=function(){return vc=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},vc.apply(this,arguments)},mc=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]])}return r};function _c(t){return t&&t.map((function(t,r){return e.createElement(t.tag,vc({key:r},t.attr),_c(t.child))}))}function bc(t){return function(r){return e.createElement(Oc,vc({attr:vc({},t.attr)},r),_c(t.child))}}function Oc(t){var r=function(r){var n,a=t.attr,o=t.size,i=t.title,c=mc(t,["attr","size","title"]),s=o||r.size||"1em";return r.className&&(n=r.className),t.className&&(n=(n?n+" ":"")+t.className),e.createElement("svg",vc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,c,{className:n,style:vc(vc({color:t.color||r.color},r.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&e.createElement("title",null,i),t.children)};return void 0!==gc?e.createElement(gc.Consumer,null,(function(t){return r(t)})):r(yc)}function wc(t){return bc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M21.97 18.22C33.98 35.186 46.79 52.53 60.25 70.187l-20.5 41.156L77.5 92.53c12.847 16.405 26.235 33.033 40.094 49.814L94.03 189.656l44.564-22.22c15.17 17.934 30.83 36.032 46.906 54.158l-28.47 57.156 55.157-27.47c16.596 18.27 33.554 36.568 50.813 54.782l-27.28 54.75 53.968-26.875c21.59 22.316 43.56 44.45 65.75 66.282-38.372 1.44-74.363-2.4-107.125-10.72 65.27 60.235 151.623 99.225 246.593 103.688-4.313-95.196-43.473-181.33-103.687-246.594 7.904 31.405 11.808 65.622 10.874 102.125-5.587-5.622-11.185-11.248-16.844-16.908-15.622-15.62-31.41-31.093-47.28-46.406l26.655-53.5-54.313 27.063c-18.653-17.625-37.395-34.933-56.125-51.876L279.5 156.28l-52.75 26.282c-18.68-16.527-37.304-32.64-55.78-48.218l21.436-43.063-45.75 22.782C129.6 100.008 112.72 86.45 96.062 73.44l18.282-36.688-40 19.938c-17.8-13.548-35.308-26.4-52.375-38.47z"}}]})(t)}function kc(t){return bc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M162.322 17.943l-28.316 105.682 18.053 4.838 4.194-15.654 169.764 45.487 11.28-42.088-169.872-45.105 4.838-18.052 169.87 45.103 4.038-15.066L176.404 37.6l3.97-14.82-18.052-4.837zM361.336 98.7l-14.453 53.943c53.99 13.97 102.986 20.59 150.95 10.964-37.1-32.648-82.453-50.034-136.497-64.906zM128.676 145l-41.82 101.104 17.27 7.142 6.216-15.023L272.75 305.4l16.36-39.556-162.43-67.12 7.142-17.27 162.432 67.118 6.254-15.12-162.406-67.18 5.843-14.13-17.27-7.142zm186.818 105.95l-21.344 51.605c51.717 20.872 99.435 33.81 148.24 30.502-32.538-37.196-75.244-60.332-126.896-82.106zM77.107 266.067l-54.705 94.752 16.186 9.346 8.133-14.086 152.23 87.893 20.472-35.452L66.988 320.97l9.344-16.183 152.434 87.545 9.117-15.79L85.65 288.647l7.643-13.238-16.186-9.344zM248.46 395.594l-27.92 48.363c48.526 27.46 94.13 46.532 142.942 49.647-27.38-41.132-66.678-69.662-115.02-98.01z"}}]})(t)}function xc(t){return bc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M53.813 48.094c69.06 40.8 122.263 96.67 124.937 153.312-49.83.664-72.508-14.408-101.97-51 17.725 93.07 55.393 143.855 100.72 156.563-22.006 26.968-60.902 30.456-97.625 25.342 35.897 33.924 95.12 70.913 149.094 84.75-17.05 15.34-38.742 24.516-68 29.157 269.316 114.287 386.556 10.27 295.217-277.376-12.035 25.526-29.11 41.112-60.343 57.5-7.906-55.298-31.41-152.12-95.656-171.75 24.362 41.713 21.98 99.445-4 138.937C268.363 122.72 161.85 54.283 53.813 48.095zm308.28 236.656c26.127-.13 52.073 11.014 70.157 32.72 32.15 38.584 26.96 95.63-11.625 127.78-38.586 32.15-95.632 26.96-127.78-11.625-32.15-38.586-26.962-95.632 11.624-127.78 16.88-14.067 37.303-20.994 57.624-21.095z"}}]})(t)}function Rc(t){return bc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M234.875 18.78c-26.087 2.367-51.557 8.56-74.875 18.782 15.37 32.763 14.222 66.706-6.72 82.407-20.835 15.617-54.055 7.965-81.124-15.69-16.246 19.452-29.336 41.36-38.875 65.626 33.83 12.333 56.635 37.665 52.94 63.5-3.698 25.835-32.697 43.74-68.626 46.094 2.338 25.796 8.91 50.778 18.937 73.875 17.81-8.182 35.793-11.09 51.095-8.938 13.032 1.87 23.927 7.015 31.156 16.657 15.817 21.097 7.603 54.713-16.78 81.97 19.516 16.35 42.216 29.444 66.594 39.03 12.33-33.828 37.655-56.634 63.5-52.938 25.844 3.697 43.74 32.696 46.094 68.625 26.087-2.365 51.557-8.555 74.875-18.78-15.766-32.997-14.26-67.588 6.843-83.406 9.64-7.23 22.568-9.022 35.594-7.125 15.112 2.16 31.19 10.25 45.563 22.78 16.088-19.345 29.4-41.51 38.875-65.594-33.83-12.332-56.635-37.653-52.938-63.5 3.697-25.846 32.665-43.772 68.594-46.125-2.36-25.944-8.774-50.663-18.906-73.874-32.612 15.117-66.66 13.145-82.282-7.687-15.696-20.944-7.252-53.86 16.688-81-19.52-16.352-42.248-29.447-66.625-39.032-12.332 33.828-37.657 56.66-63.5 52.968-25.846-3.693-43.744-32.696-46.095-68.625zm21.656 95.126c79.626 0 144.376 64.752 144.376 144.375 0 79.626-64.75 144.376-144.375 144.376-79.624 0-144.374-64.75-144.374-144.375 0-79.624 64.75-144.374 144.375-144.374zm0 18.688c-69.524 0-125.686 56.162-125.686 125.687 0 69.526 56.162 125.69 125.687 125.69 69.526 0 125.69-56.164 125.69-125.69 0-69.522-56.164-125.686-125.69-125.686zm.033 15.125c61.094 0 110.625 49.53 110.625 110.624 0 61.095-49.53 110.625-110.625 110.625s-110.625-49.53-110.625-110.626c0-61.095 49.53-110.625 110.625-110.625z"}}]})(t)}function Ac(t){return bc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M247 32v23.21C143.25 59.8 59.798 143.25 55.21 247H32v18h23.21C59.8 368.75 143.25 452.202 247 456.79V480h18v-23.21C368.75 452.2 452.202 368.75 456.79 265H480v-18h-23.21C452.2 143.25 368.75 59.798 265 55.21V32h-18zm0 41.223V128h18V73.223C359 77.76 434.24 153 438.777 247H384v18h54.777C434.24 359 359 434.24 265 438.777V384h-18v54.777C153 434.24 77.76 359 73.223 265H128v-18H73.223C77.76 153 153 77.76 247 73.223zM247 224v23h-23v18h23v23h18v-23h23v-18h-23v-23h-18z"}}]})(t)}function Ec(t){return bc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M316.74 14.79l-72.326 88.94-73.234-50.673 67.095 115.537c7.713-2.512 15.938-3.887 24.49-3.887 15.338 0 29.648 4.384 41.768 11.947l81.64-88.6-62.187 17.454-7.246-90.717zM137.47 32.224l28.73 136.144L41.04 121.13l98.753 106.235-61.215 48.266 105.524-24.304c-.24-2.5-.366-5.03-.366-7.592 0-28.415 15.004-53.317 37.514-67.244L137.47 32.223zm318.692 36.185l-35.71 10.024-101.307 109.945c14 14.258 22.644 33.795 22.644 55.357 0 .708-.01 1.412-.028 2.116l81.088-4.762-41.465-23.08 74.777-149.6zM232.744 229.533c-13.443 0-24.342 10.897-24.342 24.342 0 13.445 10.898 24.344 24.342 24.344 13.445 0 24.344-10.9 24.344-24.345 0-13.445-10.9-24.342-24.344-24.342zm59.27 0c-13.443 0-24.342 10.897-24.342 24.342 0 13.445 10.897 24.344 24.342 24.344 13.444 0 24.343-10.9 24.343-24.345 0-13.445-10.9-24.342-24.343-24.342zm161.26 28.488l-114.327 6.714c-2.23 8.113-5.716 15.703-10.246 22.547l72.39 92.962 69.146 30.496-94.18-119.16 120.217-9.623-43-23.934zM188.085 269.59l-143.87 33.137-25.673 20.242 139.123 19.654-68.54 112.775 124.546-52.27 10.193-37.738h19.358l-10.313 38.18 42.035 88.947 24.178-81.15-18.803-45.977h20.192l17.517 42.834L389.51 462.6l-11.94-82.14-61.238-78.642c-2.81 2.593-5.814 4.974-8.977 7.14v41.233h-18.69v-31.78c-5.076 1.763-10.395 3.004-15.884 3.7v28.08h-18.687v-27.913c-6.25-.682-12.28-2.094-18.004-4.148v32.06h-18.688v-41.762c-13.457-9.46-23.836-23.003-29.318-38.84zm73.94 4.75l-16.72 27.87h33.442l-16.72-27.87z"}}]})(t)}var Sc=["item"],Cc=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.item,o=Ve(t,Sc);return f(this,r),(n=e.call(this,s({},o))).item=a,n}return d(r,[{key:"perform",value:function(){var t=!1;if(this.item.equipmentType){var e=this.actor.getItemInSlot(this.item.equipmentType);e&&(this.actor.addToContainer(e),this.actor.unequip(e)),this.actor.removeFromContainer(this.item),this.actor.equip(this.item.equipmentType,this.item),this.game.addMessage("".concat(this.actor.name," equips ").concat(this.item.name,"."),ze.ACTION),t=!0}return{success:t,alternative:null}}}]),r}($e);function Lc(t){var r=t.stat,n=r.value,a=(r.name,r.abbreviatedName),o={color:r.renderer.background,marginRight:10};return e.createElement("div",{className:"StatBlock--simple"},e.createElement("span",{style:o},a),e.createElement("span",null,n))}var Dc=function(t){var r=t.game,n=t.player,a=t.data,o=a.item,i=a.equipped,c=a.amount,s=a.equipable,u=r.refocus();if(s){var l=new Cc({item:o,game:r,energyCost:0,actor:n,label:"Equip ".concat(o.name)});u=function(){r.refocus(),l.immediatelyExecuteAction()}}var h=!1;return o.hasOwnProperty("magazine")&&o.magazine<=0&&(h=!0),e.createElement("div",{className:"SimpleEquipmentCard EquipmentCard ".concat(i?"EquipmentCard--selected":""," ").concat(s?"EquipmentCard--equipable":""),onClick:u},e.createElement("div",{className:"EquipmentCard__item"},e.createElement("div",{className:"EquipmentCard__item__label--simple"},e.createElement("span",{className:"EquipmentCard__item__label__amount"},s&&"equip"," ",c||1,"\xa0"),e.createElement("span",null,o.name,"\xa0"),e.createElement("span",{style:{color:"#6d7886"}},h&&"(reload)"))))},Tc=function(t){var r=t.game,n=t.player,a=t.data,o=a.item,i=a.equipped,c=a.amount,s=!1,u=function(){return r.refocus()};if(a.equipable){var l=new Cc({item:o,game:r,energyCost:0,actor:n,label:"Equip ".concat(o.name)});u=function(){r.refocus(),l.immediatelyExecuteAction()}}var h=[];return c&&h.push({name:"amount left",value:c,renderer:Hr.amount}),o.hasOwnProperty("attackRange")&&h.push({name:"attack range",abbreviatedName:"range",value:o.attackRange,renderer:Hr.attackRange,getIcon:function(){return e.createElement(wc,null)}}),o.hasOwnProperty("magazine")&&(h.push({name:"shots before reload",abbreviatedName:"ammo",value:o.magazine,renderer:Hr.magazine,getIcon:function(){return e.createElement(kc,null)}}),o.magazine<=0&&(s=!0)),o.hasOwnProperty("baseRangedAccuracy")&&h.push({name:"base accuracy",abbreviatedName:"ranged chance",value:"".concat(Math.round(100*o.baseRangedAccuracy),"%"),renderer:Hr.baseRangedAccuracy,getIcon:function(){return e.createElement(Ac,null)}}),o.hasOwnProperty("baseRangedDamage")&&h.push({name:"base damage",abbreviatedName:"ranged dmg",value:o.baseRangedDamage,renderer:Hr.baseRangedDamage,getIcon:function(){return e.createElement(xc,null)}}),o.hasOwnProperty("attackDamage")&&h.push({name:"base melee damage",abbreviatedName:"melee dmg",value:o.attackDamage,renderer:Hr.meleeDamage}),e.createElement("div",{className:"EquipmentCard ".concat(i?"EquipmentCard--selected":""),onClick:u},s&&e.createElement("div",{className:"EquipmentCard__reload_overlay"},e.createElement("div",{className:"EquipmentCard__reload_overlay__text"},"Reload")),e.createElement("div",{className:"EquipmentCard__item"},e.createElement("div",{className:"EquipmentCard__item__label"},o.name),e.createElement("div",{className:"EquipmentCard__item__content",style:o.renderer&&{backgroundColor:o.renderer.background,color:o.renderer.color,borderColor:o.renderer.color}},o.renderer.sprite?o.renderer.sprite:o.renderer.character)),e.createElement("div",{className:"EquipmentCard__item__stats"},h.map((function(t,r){return e.createElement(Lc,{key:"".concat(r,"-").concat(t.name,"-resource-block"),stat:t})}))))},Nc=function(t){g(n,t);var r=b(n);function n(){return f(this,n),r.apply(this,arguments)}return d(n,[{key:"render",value:function(){if(!this.props.player)return null;var t=this.props.player,r=this.props.game,n=[];return t.equipment.forEach((function(t){t.item&&n.push({item:t.item,equipped:!0})})),t.container.forEach((function(t){if(t.items.length){var e=t.items[0],r=e.entityTypes.includes("EQUIPABLE");n.push({item:e,amount:t.items.length,equipable:r,equipped:!1})}})),n.sort((function(t,e){return Number(e.equipable)-Number(t.equipable)})),e.createElement("div",{className:"Equipment UI"},e.createElement("div",null,e.createElement("div",null,"Equipment"),e.createElement("div",null,n.map((function(n,a){return n.equipped?e.createElement(Tc,{key:a,game:r,player:t,data:n}):e.createElement(Dc,{key:a,game:r,player:t,data:n})})))))}}]),n}(e.Component),Pc=Nc;var Gc=function(){return e.createElement("div",{className:"Jacinto_Help"},e.createElement("div",{className:"modal-content"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col s12 m6"},e.createElement("div",{className:"Jacinto_Help__section_header"},"Goal"),e.createElement("div",{className:"Jacinto_Help__section_body"},"Navigate the night with you battery-powered lantern. Move field by field in search of",e.createElement("span",{style:{color:"#6c71c4"}},"\xa0base camp components.")," Once you make to base camp. Hold out until morning.")),e.createElement("div",{className:"col s12 m6"},e.createElement("div",{className:"Jacinto_Help__section_header"},"Hints"),e.createElement("div",{className:"Jacinto_Help__section_body"},e.createElement("div",null,"Search the fields for old loot caches."),e.createElement("div",null,"Drop batteries to boost your light sources."),e.createElement("div",null,"Something is in the tall grass.")))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col s12"},e.createElement("div",{className:"Jacinto_Help__section_header"},"Controls"),e.createElement("div",{className:"Jacinto_Help__section_body"},e.createElement("div",null,"Movement: WASD"),e.createElement("div",null,"Actions: click or key press"))))))},Uc=20;var Ic,Mc=function(t){return e.useLayoutEffect((function(){var e=document.querySelectorAll("#".concat(t.id));window.M.Modal.init(e)})),e.createElement("div",{id:t.id,className:"modal"},e.createElement(Gc,null),e.createElement("div",{className:"range-field"},e.createElement("input",{id:"volume",type:"range",min:"0",max:"100",defaultValue:Uc,step:"1",onChange:function(t){var e=t.target.value;Uc=e,Zr(e/100)}}),e.createElement("label",{htmlFor:"volume"},"Master Volume")),e.createElement("div",{className:"modal-footer"},e.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat"},"Close")))},Fc=function(t){g(n,t);var r=b(n);function n(t){var a;f(this,n),a=r.call(this,t);var o=new ji({}),i=new Ta({engine:o,getSelectedCharacter:function(){return a.props.selectedCharacter.initialize(o)},mode:a.props.selectedMode.class});return a.state={game:i,activeTab:0,spriteMode:i.spriteMode},a.presserRef=e.createRef(),a}return d(n,[{key:"componentDidMount",value:function(){var t=D(C().mark((function t(){var e=this;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.state.game.initialize(this.presserRef,document),this.state.game.backToTitle=function(){return e.props.setActiveScreen(k)},this.state.game.toLose=function(){e.props.setActiveScreen(R)},this.state.game.toWin=function(){e.props.setActiveScreen(A)},this.state.game.refocus=function(){return e.refocus()},this.state.game.updateReact=function(t){e.setState({game:t})},this.state.game.engine.start();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"refocus",value:function(){this.presserRef&&this.presserRef.current.focus()}},{key:"toggleSpriteMode",value:function(){this.state.game.spriteMode=!this.state.game.spriteMode,this.state.game.draw(),this.refocus(),this.setState({spriteMode:this.state.game.spriteMode})}},{key:"render",value:function(){return e.createElement("div",{className:"Level"},e.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},e.createElement("div",{style:{flex:2}},e.createElement(rc,{game:this.state.game})),e.createElement("div",{style:{flex:5}},e.createElement(uc,{game:this.state.game}),e.createElement("div",{className:"game_display_container"},function(t,r,n){return e.createElement("div",{id:"display",ref:t,onKeyDown:function(t){return r(t,n)},tabIndex:"0"})}(this.presserRef,Na,this.state.game.engine)),e.createElement(Mc,{id:"jacinto_help"}),e.createElement(Hi,{game:this.state.game,spriteMode:this.state.game.spriteMode,setActiveScreen:this.props.setActiveScreen,toggleSpriteMode:this.toggleSpriteMode.bind(this)})),e.createElement("div",{style:{flex:2,paddingRight:16}},e.createElement(ic,{game:this.state.game}),e.createElement(oc,{messages:this.state.game.messages.slice(-5).reverse()}),e.createElement(cc,{game:this.state.game}),e.createElement(Pc,{game:this.state.game,player:this.state.game.getFirstPlayer()}))))}}]),n}(e.Component),Wc=Fc,jc=function(t){g(n,t);var r=b(n);function n(t){var e;return f(this,n),(e=r.call(this,t)).state={},e}return d(n,[{key:"render",value:function(){var t=this;return e.createElement("div",{className:"Title"},e.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:Ms.theme.main,backgroundImage:'url("'.concat(Ms.coverImage,'")'),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundPositionY:"10px",display:"flex",justifyContent:"center",alignItems:"center"}},e.createElement("button",{style:{backgroundColor:Ms.theme.accent,color:Ms.theme.main},className:"CharacterSelect__button btn btn-main",onClick:function(){t.props.setActiveScreen(S)}},"Play")))}}]),n}(e.Component),Bc=function(t){return e.createElement("div",{className:"CharacterSelect"},t.characters.map((function(r,n){return t.selectedCharacter&&(t.selectedCharacter.name===r.name?"red":""),e.createElement("button",{key:n,style:{backgroundColor:Ms.theme.accent,color:Ms.theme.main},className:"CharacterSelect__button btn btn-main",onClick:function(){t.setSelectedCharacter(r),t.setActiveScreen(x)}},"Play as ",r.name)})))},zc=function(t){g(n,t);var r=b(n);function n(t){var e;return f(this,n),(e=r.call(this,t)).state={},e}return d(n,[{key:"render",value:function(){return e.createElement("div",{className:"Title"},e.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:Ms.theme.main,backgroundImage:'url("'.concat(Ms.coverImage,'")'),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundPositionY:"10px",display:"flex",justifyContent:"center",alignItems:"center"}},e.createElement(Bc,{characters:this.props.characters,selectedCharacter:this.props.selectedCharacter,setSelectedCharacter:this.props.setSelectedCharacter,setActiveScreen:this.props.setActiveScreen})))}}]),n}(e.Component),Hc=function(t){g(n,t);var r=b(n);function n(t){var e;return f(this,n),(e=r.call(this,t)).state={},e}return d(n,[{key:"render",value:function(){return e.createElement("div",{className:"Title"},e.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:Ms.theme.main,backgroundImage:'url("'.concat(Ms.coverImage,'")'),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundPositionY:"10px",display:"flex",justifyContent:"center",alignItems:"center"}},e.createElement(Bc,{characters:this.props.characters,selectedCharacter:this.props.selectedCharacter,setSelectedCharacter:this.props.setSelectedCharacter,setActiveScreen:this.props.setActiveScreen})))}}]),n}(e.Component),Vc=function(t){g(n,t);var r=b(n);function n(t){var e;return f(this,n),(e=r.call(this,t)).state={},e}return d(n,[{key:"render",value:function(){return e.createElement("div",{className:"Title"},e.createElement("div",{className:"Title__content",style:{width:"100vw",height:"100vh",backgroundColor:"#07111Dff"}},e.createElement("h2",{className:"Title__header"},e.createElement(Rc,null)),e.createElement(Bc,{characters:this.props.characters,selectedCharacter:this.props.selectedCharacter,setSelectedCharacter:this.props.setSelectedCharacter,setActiveScreen:this.props.setActiveScreen}),e.createElement("h2",{className:"Title__header"},e.createElement(Ec,null))))}}]),n}(e.Component),qc=Vc,Kc=function(t){return e.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:Ms.theme.main,backgroundImage:'url("'.concat(Ms.coverImage,'")'),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundPositionY:"10px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},t.modes.map((function(r,n){return t.selectedMode&&(t.selectedMode.name===r.name?"red":""),e.createElement("button",{key:n,style:{backgroundColor:Ms.theme.accent,color:Ms.theme.main},className:"CharacterSelect__button btn btn-main",onClick:function(){t.setSelectedMode(r),t.setActiveScreen(E)}},r.name)})))},Xc=function(t){g(n,t);var r=b(n);function n(t){var e;return f(this,n),(e=r.call(this,t)).state={},e}return d(n,[{key:"render",value:function(){return e.createElement("div",{className:"Title"},e.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:Ms.theme.main,backgroundImage:'url("'.concat(Ms.coverImage,'")'),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundPositionY:"10px",display:"flex",justifyContent:"center",alignItems:"center"}},e.createElement(Kc,{modes:this.props.modes,selectedMode:this.props.selectedMode,setSelectedMode:this.props.setSelectedMode,setActiveScreen:this.props.setActiveScreen})))}}]),n}(e.Component),Yc=Xc,Zc={Level:Wc,Title:jc,Win:Hc,Lose:zc,CharacterSelect:qc,ModeSelect:Yc},$c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={name:(null===t||void 0===t?void 0:t.name)||"\u30b2\u30fc\u30e0 (Gemu)",coverImage:(null===t||void 0===t?void 0:t.coverImage)||"",icon:(null===t||void 0===t?void 0:t.icon)||"".concat(window.PUBLIC_URL,"/favicon.ico"),modes:(null===t||void 0===t?void 0:t.modes)||[],characters:(null===t||void 0===t?void 0:t.characters)||[],theme:(null===t||void 0===t?void 0:t.theme)||Ae.SOLARIZED,screens:Jc(null===t||void 0===t?void 0:t.screens)};return Qc(e.name),e},Qc=function(t){return window.document.title=t},Jc=function(t){return t||ts},ts=(i(Ic={},k,{component:jc}),i(Ic,S,{component:Yc}),i(Ic,E,{component:qc}),i(Ic,x,{component:Wc}),i(Ic,A,{component:Hc}),i(Ic,R,{component:zc}),Ic),es=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).label="Close",n.processDelay=0,n.energyCost=0,n}return d(r,[{key:"perform",value:function(){return this.actor.goToPreviousKeymap(),{success:!0,alternative:null}}}]),r}($e),rs=["passThroughEnergyCost","passThroughRequiredResources","projectileType","directionToPrepareThrow","activateKey"],ns=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.passThroughEnergyCost,o=void 0===a?be:a,i=t.passThroughRequiredResources,c=void 0===i?[]:i,u=t.projectileType,l=void 0===u?pr:u,h=t.directionToPrepareThrow,p=void 0===h?"N":h,d=t.activateKey,y=void 0===d?"t":d,g=Ve(t,rs);return f(this,r),(n=e.call(this,s({},g))).passThroughEnergyCost=o,n.passThroughRequiredResources=c,n.projectileType=l,n.directionToPrepareThrow=p,n.activateKey=y,n.processDelay=0,n.energyCost=0,n}return d(r,[{key:"perform",value:function(){var t=this,e=this.actor.contains(this.projectileType);if(!e)return{success:!1,alternative:null};e.game=this.game,e.pos={x:this.actor.pos.x,y:this.actor.pos.y};for(var r=this.actor.getPosition(),n=[],a=[],o=Le[this.directionToPrepareThrow],c=function(i){var c=!1,s=!1,u=null;if(i>0){var l=ee(r,o.map((function(t){return t*i}))),h=ee(r,o.map((function(t){return t*(i-1)})));if(t.game.canPassPositionWhenThrown(l,e,!0)?i===e.range&&(u=l,s=!0):(u=h,c=!0),c||s){var f=le(u,e.explosivity);return a=a.concat(f),(n=n.concat(f)).push(u),"break"}n.push(l)}},u=0;u<e.range+1;u++){if("break"===c(u))break}this.actor.activateCursor(n),a.forEach((function(e){t.actor.updateCursorNodeByPosition(e,[{key:"fill",value:Ae.JACINTO.red},{key:"stroke",value:"transparent"}])}));var l=new es({actor:this.actor,game:this.game,onAfter:function(){t.actor.goToPreviousKeymap(),t.actor.deactivateCursor()}}),h=i({Escape:function(){return l}},this.activateKey,(function(){return new Fo({targetPos:s({},e.pos),actor:t.actor,game:t.game,entity:e,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,label:"throw ".concat(t.directionToPrepareThrow),onBefore:function(){e.direction=Le[t.directionToPrepareThrow]},onSuccess:function(){t.actor.deactivateCursor(),t.actor.removeFromContainer(e),t.actor.setNextAction(l)}})}));return this.actor.setKeymap(h),{success:!0,alternative:null}}}]),r}($e),as=["passThroughEnergyCost","passThroughRequiredResources","projectileType"],os=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.passThroughEnergyCost,o=void 0===a?be:a,i=t.passThroughRequiredResources,c=void 0===i?[]:i,u=t.projectileType,l=void 0===u?pr:u,h=Ve(t,as);return f(this,r),(n=e.call(this,s({},h))).passThroughEnergyCost=o,n.passThroughRequiredResources=c,n.projectileType=l,n.processDelay=0,n.energyCost=0,n}return d(r,[{key:"perform",value:function(){var t=this,e=new es({actor:this.actor,game:this.game,onAfter:function(){return t.actor.deactivateCursor()}}),r={Escape:function(){return e},"w,ArrowUp":function(){return new ns({label:"throw N?",projectileType:t.projectileType,directionToPrepareThrow:"N",activateKey:"w,ArrowUp",game:t.game,actor:t.actor,passThroughEnergyCost:t.passThroughEnergyCost,passThroughRequiredResources:t.passThroughRequiredResources})},"d,ArrowRight":function(){return new ns({label:"throw E?",projectileType:t.projectileType,directionToPrepareThrow:"E",activateKey:"d,ArrowRight",game:t.game,actor:t.actor,passThroughEnergyCost:t.passThroughEnergyCost,passThroughRequiredResources:t.passThroughRequiredResources})},"s,ArrowDown":function(){return new ns({label:"throw S?",projectileType:t.projectileType,directionToPrepareThrow:"S",activateKey:"s,ArrowDown",game:t.game,actor:t.actor,passThroughEnergyCost:t.passThroughEnergyCost,passThroughRequiredResources:t.passThroughRequiredResources})},"a,ArrowLeft":function(){return new ns({label:"throw W?",projectileType:t.projectileType,directionToPrepareThrow:"W",activateKey:"a,ArrowLeft",game:t.game,actor:t.actor,passThroughEnergyCost:t.passThroughEnergyCost,passThroughRequiredResources:t.passThroughRequiredResources})}};return this.actor.setKeymap(r),{success:!0,alternative:null}}}]),r}($e),is=["passThroughEnergyCost","passThroughRequiredResources"],cs=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.passThroughEnergyCost,o=void 0===a?be:a,i=t.passThroughRequiredResources,c=void 0===i?[]:i,u=Ve(t,is);return f(this,r),(n=e.call(this,s({},u))).passThroughEnergyCost=o,n.passThroughRequiredResources=c,n.processDelay=0,n.energyCost=0,n}return d(r,[{key:"updateCursors",value:function(t,e){var r=this.actor.getCursorPositions(),n=Zt(e,this.actor.getCursorPositions()[0]);this.removeLastVisibleAnimations(t);var a=n.slice(1).filter((function(t){return!(0,_e.find)(r,{x:t.x,y:t.y})}));this.addNewAnimations(a).forEach((function(e){return t.push(e)})),this.updateCursorColor(r)}},{key:"removeLastVisibleAnimations",value:function(t){var e=this;t.forEach((function(t){e.game.display.removeAnimation(t.id)}))}},{key:"addNewAnimations",value:function(t){var e=this,r=[];return t.forEach((function(t){var n=e.game.display.addAnimation(e.game.display.animationTypes.BLINK_TILE,{x:t.x,y:t.y,color:Ae.SOLARIZED.base3});r.push(n)})),r}},{key:"updateCursorColor",value:function(t){var e=this;t.forEach((function(t,r){var n=e.actor.getRangedAttackChance(t);n<=0&&e.actor.updateCursorNode(r,[{key:"fill",value:"transparent"},{key:"stroke",value:"white"}]),n>0&&n<=.5&&e.actor.updateCursorNode(r,[{key:"fill",value:Ae.SOLARIZED.red},{key:"stroke",value:"transparent"}]),n>.5&&n<=.7&&e.actor.updateCursorNode(r,[{key:"fill",value:Ae.SOLARIZED.yellow},{key:"stroke",value:"transparent"}]),n>=.7&&e.actor.updateCursorNode(r,[{key:"fill",value:Ae.SOLARIZED.green},{key:"stroke",value:"transparent"}])}))}},{key:"perform",value:function(){var t=this,e=this.actor.getPosition(),r=this.actor.getAttackRange(),n=this.actor.getItemInSlot(Pe);if(!n)return{success:!1,alternative:null};if(!n.entityTypes.includes("RANGED_ATTACKING"))return{success:!1,alternative:null};var a=[],o=[],i=function(e){return e.forEach((function(e){t.game.display.removeAnimation(e.id)}))},c=le(e,r),u=[],l=0;c.forEach((function(e){o.push(t.game.display.addAnimation(t.game.display.animationTypes.BLINK_BOX,{x:e.x,y:e.y,color:Ae.SOLARIZED.base3,isBlinking:!1,strokeWidth:1}));var r=t.game.map[Bt(e)];if(r){var n=r.entities.filter((function(e){return t.actor.isEnemy(e)&&e.isInFov})),a=n.length?n[0]:null;a&&u.push(a)}}));var h=[];u.length?(h.push(u[0].getPosition()),u.length>1&&(l=1)):h.push(s({},e)),n&&(h=n.getPositionsInShape(h[0]));this.actor.activateCursor(h,!0),this.updateCursors(a,e);var f=new es({actor:this.actor,game:this.game,onAfter:function(){t.actor.deactivateCursor(),i(a),i(o)}}),p={Escape:function(){return f},e:function(){return new er({actor:t.actor,game:t.game,label:"Next Target",targetPos:u.length?u[l].getPosition():null,range:r,availablePositions:c,onSuccess:function(){l=(l+1)%u.length,t.updateCursors(a,e)}})},q:function(){return new er({actor:t.actor,game:t.game,label:"Previous Target",targetPos:u.length?u[l].getPosition():null,range:r,availablePositions:c,onSuccess:function(){0===l?l=u.length-1:l-=1,t.updateCursors(a,e)}})},"w,ArrowUp":function(){return new er({actor:t.actor,game:t.game,label:"move N",direction:Le.N,range:r,availablePositions:c,onSuccess:function(){t.updateCursors(a,e)}})},"a,ArrowLeft":function(){return new er({actor:t.actor,game:t.game,label:"move W",direction:Le.W,range:r,availablePositions:c,onSuccess:function(){t.updateCursors(a,e)}})},"s,ArrowDown":function(){return new er({actor:t.actor,game:t.game,label:"move S",direction:Le.S,range:r,availablePositions:c,onSuccess:function(){t.updateCursors(a,e)}})},"d,ArrowRight":function(){return new er({actor:t.actor,game:t.game,label:"move E",direction:Le.E,range:r,availablePositions:c,onSuccess:function(){t.updateCursors(a,e)}})},mouseOver:function(r){return new er({hidden:!0,actor:t.actor,game:t.game,targetPos:r,availablePositions:c,onSuccess:function(){t.updateCursors(a,e)}})},f:function(){return new dn({label:"Fire",targetPositions:T(t.actor.getCursorPositions()),game:t.game,actor:t.actor,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,onSuccess:function(){t.actor.deactivateCursor(),i(a),i(o),t.actor.setNextAction(f)}})},mouseLeftButton:function(){return new dn({hidden:!0,targetPositions:T(t.actor.getCursorPositions()),game:t.game,actor:t.actor,energyCost:t.passThroughEnergyCost,requiredResources:t.passThroughRequiredResources,onSuccess:function(){t.actor.deactivateCursor(),i(a),i(o),t.actor.goToPreviousKeymap()}})},r:function(){return new sn({label:"Reload",game:t.game,actor:t.actor,energyCost:be})}};return this.actor.setKeymap(p),{success:!0,alternative:null}}}]),r}($e),ss=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).processDelay=0,n.energyCost=0,n}return d(r,[{key:"perform",value:function(){var t=this;this.game.visibleInventory=this.actor.container;var e=new es({actor:this.actor,game:this.game}),r={Escape:function(){return e}};return this.actor.container.forEach((function(n,a){var o=n.items[0];r[a]=function(){return new Cc({item:o,game:t.game,actor:t.actor,label:"Equip ".concat(o.name),energyCost:0,onSuccess:function(){t.game.visibleInventory=null,t.actor.setNextAction(e)}})}})),this.actor.setKeymap(r),{success:!0,alternative:null}}}]),r}($e),us=function(t){g(r,t);var e=b(r);function r(t){var n=Object.assign({},(qe(t),t));return f(this,r),e.call(this,s({},n))}return d(r,[{key:"perform",value:function(){var t=this,e=!1,r=Vt(this.game,this.actor.getPosition());if(r){var n=r.entities.filter((function(e){return e.id!==t.actor.id}));n.length&&(n.forEach((function(n){t.game.addMessage("".concat(t.actor.name," picks up ").concat(n.name,"."),ze.ACTION),t.actor.addToContainer(n),t.processPickupEffects(n,t.actor),r.entities=r.entities.filter((function(t){return t.id!==n.id})),e=!0})),Fr.grab_0.play())}return{success:e,alternative:null}}},{key:"processPickupEffects",value:function(t,e){(null===t||void 0===t?void 0:t.processPickupEffects)&&(null===t||void 0===t||t.processPickupEffects(e))}}]),r}($e),ls=["buffValue"],hs=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.buffValue,o=void 0===a?1:a,i=Ve(t,ls);return f(this,r),(n=e.call(this,s({},i))).name="Take Aim",n.allowDuplicates=!1,n.lifespan=-1,n.particleTemplate={renderer:{character:"+",sprite:"+",background:Br.gray,color:Br.base3}},n.setWeapon=function(){var t=n.actor.getEquipedWeapons();return 0===t.length?null:(n.weapon=t[0],t[0])},n.actor_position=s({},n.actor.getPosition()),n.onStart=function(){var t=n.setWeapon();t&&(t.baseRangedAccuracy+=o,n.actor_background=t.renderer.background,n.actor_color=t.renderer.color,t.renderer.background=n.actor_color,t.renderer.color=n.actor_background)},n.onStep=function(){n.weapon&&jt(n.actor.getPosition(),n.actor_position)||(n.lifespan=0)},n.onStop=function(){var t=n.weapon;t&&(t.baseRangedAccuracy-=o,t.renderer.color=n.actor_color,t.renderer.background=n.actor_background)},n}return d(r)}(Fn);hs.displayName="Take Aim";var fs=["buffValue"],ps=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.buffValue,o=void 0===a?1:a,i=Ve(t,fs);return f(this,r),(n=e.call(this,s({},i))).name="Extra Round Reload",n.allowDuplicates=!1,n.lifespan=-1,n.particleTemplate={renderer:{character:"||",sprite:"\ue891",background:Br.gray,color:Br.base3}},n.setWeapon=function(){var t=n.actor.getEquipedWeapons();return 0===t.length?null:(n.weapon=t[0],t[0])},n.onStart=function(){var t=n.setWeapon();t&&(t.baseRangedDamage+=o,t.reload(),t.magazine+=o,n.actor_background=t.renderer.background,n.actor_color=t.renderer.color,t.renderer.background=n.actor_color,t.renderer.color=n.actor_background)},n.onStep=function(){console.log("step");var t=n.weapon;t&&t.magazine<=t.magazineSize&&(n.lifespan=0)},n.onStop=function(){var t=n.weapon;t&&(t.baseRangedDamage-=o,t.renderer.color=n.actor_color,t.renderer.background=n.actor_background)},n}return d(r)}(Fn);ps.displayName="Extra Round Reload";var ds=["item","itemName","targetPos"],ys=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.item,o=void 0===a?null:a,i=t.itemName,c=void 0===i?null:i,u=t.targetPos,l=void 0===u?null:u,h=Ve(t,ds);return f(this,r),(n=e.call(this,s({},h))).item=o,n.itemName=c,n.targetPos=l,n}return d(r,[{key:"getitem",value:function(){return this.item?this.item:this.itemName?this.actor.contains(this.itemName):null}},{key:"newItemPosition",value:function(){return this.targetPos||this.actor.getPosition()}},{key:"perform",value:function(){var t=this.getitem();if(!t)return{success:!1,alternative:null};var e=this.newItemPosition(),r=this.game.map[Bt(e)];return r&&this.actor.removeFromContainer(t)?(t.pos=e,r.entities.push(t),(null===t||void 0===t?void 0:t.processDropEffects)&&t.processDropEffects(this.actor),this.game.addMessage("".concat(this.actor.name," drops ").concat(t.name,"."),ze.ACTION),{success:!0,alternative:null}):{success:!1,alternative:null}}}]),r}($e),gs=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).processDelay=0,n.energyCost=0,n}return d(r,[{key:"perform",value:function(){var t=this;this.game.visibleInventory=this.actor.container;var e=new es({actor:this.actor,game:this.game}),r={Escape:function(){return e}};return this.actor.container.forEach((function(n,a){var o=n.items[0];r[a]=function(){return new ys({item:o,game:t.game,actor:t.actor,label:"Drop ".concat(o.name),onSuccess:function(){t.game.visibleInventory=null,t.actor.setNextAction(e)}})}})),this.actor.setKeymap(r),{success:!0,alternative:null}}}]),r}($e),vs=["N","S","E","W"];vs.map((function(t){return Le[t]}));var ms=["buffValue"],_s=function(t){g(r,t);var e=b(r);function r(t){t.buffValue;var n,a=Ve(t,ms);return f(this,r),(n=e.call(this,s({},a))).name="Melee Damage Debuff",n.allowDuplicates=!1,n.actor_background=n.actor.renderer.background,n.actor_color=n.actor.renderer.color,n.attackDamage=n.actor.attackDamage,n.onStart=function(){n.actor.attackDamage=Math.min(0,n.actor.attackDamage-1),n.actor.renderer.background=n.actor_color,n.actor.renderer.color=n.actor_background},n.onStop=function(){n.actor.attackDamage=n.attackDamage,n.actor.renderer.color=n.actor_color,n.actor.renderer.background=n.actor_background},n}return d(r,null,[{key:"getValidTargetsOnTile",value:function(t,e){return ae(t.entities).filter((function(t){return e.id!==t.id&&e.isEnemy(t)}))}}]),r}(Fn);_s.displayName="Melee Damage Debuff";var bs=["item"],Os=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.item,o=Ve(t,bs);return f(this,r),(n=e.call(this,s({},o))).item=a,n}return d(r,[{key:"perform",value:function(){return this.game.addMessage("".concat(this.actor.name," drops ").concat(this.item.name,"."),ze.ACTION),this.actor.unequip(this.item),this.game.map[Bt(this.actor.pos)].entities.splice(0,0,this.item),{success:!0,alternative:null}}}]),r}($e),ws=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));return f(this,r),(n=e.call(this,s({},a))).processDelay=0,n.energyCost=0,n}return d(r,[{key:"perform",value:function(){var t=this;this.game.visibleEquipment=this.actor.equipment;var e=new es({actor:this.actor,game:this.game}),r={Escape:function(){return e}};return this.actor.equipment.filter((function(t){return t.item})).forEach((function(n,a){r[a]=function(){return new Os({item:n.item,game:t.game,actor:t.actor,label:"Unequip ".concat(n.item.name),onSuccess:function(){t.game.visibleEquipment=null,t.actor.setNextAction(e)}})}})),this.actor.setKeymap(r),{success:!0,alternative:null}}}]),r}($e);var ks=["direction","range","targetPos"],xs=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.direction,o=t.range,i=t.targetPos,c=Ve(t,ks);return f(this,r),(n=e.call(this,s({},c))).direction=a,n.range=o,n.targetPos=i,n.processDelay=0,n.energyCost=0,n.useEntityPassableMovementConstraint=!1,n}return d(r,[{key:"canMoveCursor",value:function(t){return this.isInRange(t)&&this.canPass(t)}},{key:"canPass",value:function(t){return this.useEntityPassableMovementConstraint?this.game.canOccupyPosition(t,this.actor):this.game.canOccupyPosition(t,{passable:!0})}},{key:"isInRange",value:function(t){if(!this.range)return!0;var e=this.actor.getPosition();return Zt(e,t).length<=this.range}},{key:"updateLookedAt",value:function(t){var e=this,r=t.reduce((function(t,r){return[].concat(T(t),T(ie({game:e.game,position:r})))}),[]);this.game.entityLog.setLookedAt(r)}},{key:"perform",value:function(){var t=!1;if(!this.targetPos&&!this.direction)return{success:t,alternative:null};var e=this.targetPos;return this.targetPos||(e=ee(this.actor.getCursorPositions()[0],this.direction)),this.canMoveCursor(e)&&(this.actor.moveCursorToPosition(e),this.updateLookedAt([e]),t=!0),{success:t,alternative:null}}}]),r}($e);var Rs=function(){return e.createElement("div",{className:"Jacinto_Help"},e.createElement("div",{className:"modal-content"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col s12 m6"},e.createElement("div",{className:"Jacinto_Help__section_header"},"Goal"),e.createElement("div",{className:"Jacinto_Help__section_body"},"Defend Jacinto, the last human bastion on Sera. Move block by block and clear the city of",e.createElement("span",{className:"red-text"},"\xa0Grubs")," until you can locate and defeat their leader,",e.createElement("span",{className:"red-text"},"\xa0Skorge"),".")),e.createElement("div",{className:"col s12 m6"},e.createElement("div",{className:"Jacinto_Help__section_header"},"Hints"),e.createElement("div",{className:"Jacinto_Help__section_body"},e.createElement("div",null,"Destroy ",e.createElement("span",{className:"red-text"},"Emergence Holes")," ASAP."),e.createElement("div",null,"Spend ",e.createElement("span",{className:"blue-text"},"Upgrade Points"),"."),e.createElement("div",null,"Weapon ",e.createElement("span",{className:"blue-text"},"accuracy")," decreases over distance."),e.createElement("div",null,e.createElement("span",{className:"blue-text"},"Grenades")," can destroy walls as well as grubs, but be wary.")))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col s12"},e.createElement("div",{className:"Jacinto_Help__section_header"},"Controls"),e.createElement("div",{className:"Jacinto_Help__section_body"},e.createElement("div",null,"Movement: WASD"),e.createElement("div",null,"Actions: click or key press"))))))},As=(e.Component,["passThroughEnergyCost","passThroughRequiredResources"]),Es=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.passThroughEnergyCost,o=void 0===a?be:a,i=t.passThroughRequiredResources,c=void 0===i?[]:i,u=Ve(t,As);return f(this,r),(n=e.call(this,s({},u))).passThroughEnergyCost=o,n.passThroughRequiredResources=c,n.processDelay=0,n.energyCost=0,n}return d(r,[{key:"updateLookedAt",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.actor.getCursorPositions(),r=e.reduce((function(e,r){return[].concat(T(e),T(ie({game:t.game,position:r})))}),[]);this.game.entityLog.setLookedAt(r)}},{key:"perform",value:function(){var t=this,e=this.actor.getPosition(),r=le(e,this.game.mapWidth),n=[],a=0;r.forEach((function(e){var r=t.game.map[Bt(e)];r&&(n=[].concat(T(n),T(r.entities.filter((function(e){return t.actor.isEnemy(e)&&e.isInFov})))))}));var o=[];n.length?(o.push(n[0].getPosition()),n.length>1&&(a=1)):o.push(s({},e)),this.actor.activateCursor(o),this.updateLookedAt(o);var i=new es({actor:this.actor,game:this.game,onAfter:function(){t.actor.deactivateCursor(),t.game.entityLog.setLookedAt()}}),c={Escape:function(){return i},e:function(){return new xs({actor:t.actor,game:t.game,label:"Next Target",targetPos:n.length?n[a].getPosition():null,onSuccess:function(){a=(a+1)%n.length}})},q:function(){return new xs({actor:t.actor,game:t.game,label:"Previous Target",targetPos:n.length?n[a].getPosition():null,onSuccess:function(){0===a?a=n.length-1:a-=1}})},"w,ArrowUp":function(){return new xs({actor:t.actor,game:t.game,label:"move N",direction:Le.N})},"a,ArrowLeft":function(){return new xs({actor:t.actor,game:t.game,label:"move W",direction:Le.W})},"s,ArrowDown":function(){return new xs({actor:t.actor,game:t.game,label:"move S",direction:Le.S})},"d,ArrowRight":function(){return new xs({actor:t.actor,game:t.game,label:"move E",direction:Le.E})}};return this.actor.setKeymap(c),{success:!0,alternative:null}}}]),r}($e),Ss=["targetPos"],Cs=function(t){g(r,t);var e=b(r);function r(t){var n,a=t.targetPos,o=Ve(t,Ss);return f(this,r),(n=e.call(this,s({},o))).targetPos=a,n}return d(r,[{key:"perform",value:function(){var t=!1,e=this.actor.getPosition(),r=Yt(this.game,this.targetPos,e);return r.length>0&&(this.actor.move(r[0]),t=!0),{success:t,alternative:null}}}]),r}($e);var Ls=function(t){g(n,t);var r=b(n);function n(t){var e;return f(this,n),(e=r.call(this,t)).state={},e}return d(n,[{key:"render",value:function(){var t=this;return e.createElement("div",{className:"Title"},e.createElement("div",{className:"Title__content",style:{width:"100vw",height:"100vh",backgroundColor:Ms.theme.main}},e.createElement("h2",null,"Something In The Tall Grass"),e.createElement("button",{style:{backgroundColor:Ms.theme.accent,color:Ms.theme.main},className:"btn btn-main",onClick:function(){t.props.setSelectedCharacter(t.props.characters[0]),t.props.setActiveScreen(x)}},"Light the Lantern, Enter The Dark")))}}]),n}(e.Component),Ds=Ls,Ts=function(t){g(n,t);var r=b(n);function n(t){var e;return f(this,n),(e=r.call(this,t)).state={},e}return d(n,[{key:"render",value:function(){var t=this;return e.createElement("div",{className:"Title"},e.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:Ms.theme.accent,backgroundImage:'url("'.concat(Ms.coverImage,'")'),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundPositionY:"10px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},e.createElement("p",{style:{color:Ms.theme.main}},"Congratualtions! The dark fades. You made it."),e.createElement("br",null),e.createElement("button",{style:{backgroundColor:Ms.theme.main,color:Ms.theme.accent},className:"btn btn-main",onClick:function(){t.props.setSelectedCharacter(t.props.characters[0]),t.props.setActiveScreen(x)}},"Light the Lantern, Enter The Dark")))}}]),n}(e.Component),Ns=Ts,Ps=function(t){g(n,t);var r=b(n);function n(t){var e;return f(this,n),(e=r.call(this,t)).state={},e}return d(n,[{key:"render",value:function(){var t=this;return e.createElement("div",{className:"Title"},e.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:Ms.theme.main,backgroundImage:'url("'.concat(Ms.coverImage,'")'),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundPositionY:"10px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},e.createElement("p",{style:{color:Ms.theme.accent}},"The light fades. Your grave is in the tall grass."),e.createElement("br",null),e.createElement("button",{style:{backgroundColor:Ms.theme.accent,color:Ms.theme.main},className:"btn btn-main",onClick:function(){t.props.setSelectedCharacter(t.props.characters[0]),t.props.setActiveScreen(x)}},"Light the Lantern, Enter The Dark")))}}]),n}(e.Component),Gs=Ps,Us=function(t){g(r,t);var e=b(r);function r(t){var n,a=Object.assign({},(qe(t),t));f(this,r),(n=e.call(this,s({},a))).name="flattened",n.allowDuplicates=!0,n.processOnlyOnPlayerTurn=!0;var o=s({},n.actor.renderer),i={color:ca.sandy_brown,background:ca.brown_sugar};return n.onStart=function(){n.actor.renderer=s(s({},n.actor.renderer),i),n.actor.lightPassable=!0,n.playRustleSound()},n.onStep=function(t){Vt(n.game,n.actor.getPosition()).entities.length>1&&(n.timeToLive+=t)},n.onStop=function(){n.actor.renderer=s({},o),n.actor.lightPassable=!1},n}return d(r,[{key:"playRustleSound",value:function(){It([$r.grass_00,$r.grass_01,$r.grass_02,$r.grass_03,$r.grass_04,$r.grass_05]).play()}}]),r}(Fn);function Is(t){var e=new Ci({pos:{x:23,y:7},renderer:{sprite:"\ue819",character:"@",color:ca.white,background:ca.brown_sugar},lightPassable:!0,name:"Someone",speed:500,durability:5,baseRangedAccuracy:0,baseRangedDamage:0,attackDamage:1,equipment:Ie(),game:t.game,presentingUI:!0,faction:"PEOPLE",enemyFactions:["MONSTER"],initializeKeymap:function(t,e){function r(){(function(t){var e=t.game,r=t.position,n=t.attr,a=t.value;return function(t,e,r){return t.filter((function(t){return t[e]===r}))}(ie({game:e,position:r}),n,a)})({game:t.game,position:e.getPosition(),attr:"name",value:"tall grass"}).forEach((function(e){var r=new Us({game:t.game,actor:e,lifespan:300,stepInterval:be});t.addStatusEffect(r)}))}return{Escape:function(){return new en({label:"Stay",message:"standing still...",game:t.game,actor:e,energyCost:be})},e:function(){return new en({label:"Hand Crank",message:"you use the hande crank. the light burns brighter.",game:t.game,actor:e,energyCost:e.speed,onSuccess:function(){n.incrementLightRange()}})},"w,ArrowUp":function(){var n=Le.N,a=e.pos.x+n[0],o=e.pos.y+n[1];return new Oo({hidden:!0,targetPos:{x:a,y:o},game:t.game,actor:e,energyCost:be,onSuccess:r})},"s,ArrowDown":function(){var n=Le.S,a=e.pos.x+n[0],o=e.pos.y+n[1];return new Oo({hidden:!0,targetPos:{x:a,y:o},game:t.game,actor:e,energyCost:be,onSuccess:r})},"a,ArrowLeft":function(){var n=Le.W,a=e.pos.x+n[0],o=e.pos.y+n[1];return new Oo({hidden:!0,targetPos:{x:a,y:o},game:t.game,actor:e,energyCost:be,onSuccess:r})},"d,ArrowRight":function(){var n=Le.E,a=e.pos.x+n[0],o=e.pos.y+n[1];return new Oo({hidden:!0,targetPos:{x:a,y:o},game:t.game,actor:e,energyCost:be,onSuccess:r})},l:function(){return new Es({label:"Look",game:t.game,actor:e,passThroughEnergyCost:be,passThroughRequiredResources:[]})},f:function(){return new cs({label:"Fire Weapon",game:t.game,actor:e,passThroughEnergyCost:be,passThroughRequiredResources:[]})},r:function(){return new sn({label:"Reload",game:t.game,actor:e,energyCost:be})},i:function(){return new ss({label:"Inventory",game:t.game,actor:e})},o:function(){return new gs({label:"Drop Items",game:t.game,actor:e})},p:function(){return new ws({label:"Equipment",game:t.game,actor:e})},g:function(){return new us({label:"Pickup",game:t.game,actor:e})},t:function(){return new os({label:"Grenade",projectileType:"Grenade",game:t.game,actor:e,passThroughEnergyCost:be})},v:function(){return new vn({label:"Steady The Nerves",game:t.game,actor:e,energyCost:200,effect:new hs({buffValue:10,game:t.game,actor:e})})},mouseOver:function(r){return new xs({hidden:!0,actor:e,game:t.game,targetPos:r})},mouseLeftButton:function(r){return new Cs({hidden:!0,actor:e,game:t.game,targetPos:r})},mouseRightButton:function(r){return new es({hidden:!0,actor:e,game:t.game})}}}}),r=ba(t,e.getPosition()),n=function(t){var e=t.engine,r=t.lightRange;return new Fi({lightRange:void 0===r?8:r,game:e.game,name:"lantern",passable:!0,lightPassable:!0,equipmentType:Pe,renderer:{character:"o",sprite:"\ue87b",color:ca.white,background:ca.sunset}})}({engine:t,lightRange:6}),a=Array(2).fill("").map((function(){return Qr(t)})),o=Array(2).fill("").map((function(){return Jr(t,6)})),i=Array(2).fill("").map((function(){return Ea(0,e.getPosition())})),c=Array(2).fill("").map((function(){return _a()}));return e.container=[new Nn({itemType:a[0].name,items:a}),new Nn({itemType:o[0].name,items:o}),new Nn({itemType:c[0].name,items:c}),new Nn({itemType:i[0].name,items:i})],e.equip(r.equipmentType,r),e.equip(n.equipmentType,n),e}var Ms=function(){var t;return $c({name:"Something In The Tall Grass",modes:{Something_In_The_Tall_Grass:Ca.SomethingInTheTallGrass},characters:{Someone:Is},theme:ca,screens:(t={},i(t,E,{component:Ds}),i(t,x,{component:Wc}),i(t,A,{component:Ns}),i(t,R,{component:Gs}),t)})}(),Fs=function(t){g(n,t);var r=b(n);function n(){var t;f(this,n),t=r.call(this);var e=Object.entries(Ms.characters).map((function(t){var e=h(t,2),r=e[0];return{initialize:e[1],selected:!1,name:r.split("_").join(" ")}})),a=Object.entries(Ms.modes).map((function(t){var e=h(t,2),r=e[0];return{class:e[1],selected:!1,name:r.split("_").join(" ")}}));return t.state={activeScreen:Object.keys(Ms.screens)[0],characters:e,modes:a,selectedCharacter:null,selectedMode:1===a.length?a[0]:null},t}return d(n,[{key:"setActiveScreen",value:function(t){this.setState({activeScreen:t})}},{key:"setSelectedCharacter",value:function(t){this.setState({selectedCharacter:s({},t)})}},{key:"setSelectedMode",value:function(t){this.setState({selectedMode:t})}},{key:"getActiveScreen",value:function(){var t=Ms.screens[this.state.activeScreen].component;return e.createElement("div",{key:this.state.activeScreen},e.createElement(t,{setActiveScreen:this.setActiveScreen.bind(this),setSelectedCharacter:this.setSelectedCharacter.bind(this),setSelectedMode:this.setSelectedMode.bind(this),selectedCharacter:this.state.selectedCharacter,selectedMode:this.state.selectedMode,characters:this.state.characters,modes:this.state.modes}))}},{key:"getActiveScreen_v1",value:function(){var t=e.createElement(Zc.CharacterSelect,{key:E,setActiveScreen:this.setActiveScreen.bind(this),setSelectedCharacter:this.setSelectedCharacter.bind(this),selectedCharacter:this.state.selectedCharacter,characters:this.state.characters}),r=e.createElement(Zc.ModeSelect,{key:S,setActiveScreen:this.setActiveScreen.bind(this),setSelectedMode:this.setSelectedMode.bind(this),selectedMode:this.state.selectedMode,modes:this.state.modes}),n=e.createElement(Zc.Title,{key:k,setActiveScreen:this.setActiveScreen.bind(this)}),a=e.createElement(Zc.Lose,{key:R,setActiveScreen:this.setActiveScreen.bind(this),setSelectedCharacter:this.setSelectedCharacter.bind(this),selectedCharacter:this.state.selectedCharacter,characters:this.state.characters}),o=e.createElement(Zc.Win,{key:A,setActiveScreen:this.setActiveScreen.bind(this),setSelectedCharacter:this.setSelectedCharacter.bind(this),selectedCharacter:this.state.selectedCharacter,characters:this.state.characters}),i=e.createElement(Zc.Level,{key:x,setActiveScreen:this.setActiveScreen.bind(this),selectedCharacter:this.state.selectedCharacter,selectedMode:this.state.selectedMode});switch(this.state.activeScreen){case E:return t;case S:return r;case k:return n;case R:return a;case A:return o;case x:return i;default:return n}}},{key:"render",value:function(){return e.createElement("div",{className:"Nystrum",style:{backgroundColor:Ms.theme.main}},e.createElement(w(),{transitionName:"fade",transitionAppear:!0,transitionEnter:!0,transitionLeave:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300},this.getActiveScreen()))}}]),n}(e.Component);var Ws=function(){return e.createElement("div",{className:"App container-fluid"},e.createElement(Fs,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.render(e.createElement(Ws,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}()}();
//# sourceMappingURL=main.22367f86.js.map